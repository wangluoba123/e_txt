 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 631
    高度 = 497
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 1
    底图方式 = 2
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 0
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 真
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “”
    帮助文件名 = “”



.图片 活动区图片, " ' 已保存到：D:\易语言学习\Data\UqCUkYCR.e\活动区图片", , 
.图片 背景图片, " ' 已保存到：D:\易语言学习\Data\UqCUkYCR.e\背景图片", , 
.图片 小人图片, " ' 已保存到：D:\易语言学习\Data\UqCUkYCR.e\小人图片", , 


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库
 ' EdirectX 81690053A86045bf9E362F5DE0BC4095 1 5 DirectX支持库




数据类型 小人, , 
    .成员 位置, 位置, , , 
    .成员 方向, 整数型, , , 
    .成员 速度, 整数型, , , 

数据类型 位置, , 
    .成员 横坐标, 整数型, , , 
    .成员 纵坐标, 整数型, , , 


.窗口程序集 窗口程序集1, , , 

.程序集变量 p, 未知类型0x20007, , , 
.程序集变量 活动区域, 未知类型0x2000D, , , 
.程序集变量 背景页面, 未知类型0x2000B, , , 
.程序集变量 方向键, 整数型, , "5", 
.程序集变量 行走区域左边, 整数型, , , 
.程序集变量 行走区域顶边, 整数型, , , 
.程序集变量 可活动区域, 未知类型0x2000B, , , 
.程序集变量 行走时间, 整数型, , , 
.程序集变量 小人状态页面, 未知类型0x2000B, , , 
.程序集变量 位移, 整数型, , , 
.程序集变量 小人, 小人, , , 
.程序集变量 小人行走, 整数型, , , 
.程序集变量 背景, 文本型, , , 
.程序集变量 活动区, 文本型, , , 
.程序集变量 小人图, 文本型, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 

赋值 (_启动窗口.可视, 真)
赋值 (.宽度, 360)
赋值 (.高度, 200)
赋值 (小人.位置.横坐标, 30)
赋值 (小人.位置.纵坐标, 相除 (.高度, 2))

赋值 (背景, 取临时文件名 ())
赋值 (取临时文件名 ())
赋值 (取临时文件名 ())
写到文件 (背景, #背景图片)
写到文件 (活动区, #活动区图片)
写到文件 (小人图, #小人图片)

p.未知支持库函数_64 (_启动窗口.取窗口句柄 (), 1024, 283)
可活动区域.未知支持库函数_111 (p, 活动区, )
背景页面.未知支持库函数_111 (p, 背景, )
赋值 (活动区域., 0)
赋值 (活动区域., .宽度)
赋值 (活动区域., 0)
赋值 (活动区域., .高度)
小人状态页面.未知支持库函数_111 (p, 小人图, )
__启动窗口_按下某键 (40, 0)


.子程序 事件, 整数型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 

.局部变量 后台页面, 未知类型0x2000B, , , 
.局部变量 小人状态图, 未知类型0x2000D, , , 
.局部变量 第几步, 整数型, 静态, , 

赋值 (后台页面, p.未知支持库函数_83 ())
赋值 (行走时间, 相加 (行走时间, 1))
.如果真 (大于 (相除 (行走时间, 7), 相减 (第几步, 1)))
    赋值 (第几步, 相减 (相除 (行走时间, 7), 1))
    赋值 (小人状态图., 相乘 (求余数 (第几步, 3), 32))
    赋值 (小人状态图., 相乘 (相加 (求余数 (第几步, 3), 1), 32))
    赋值 (小人状态图., 0)
    赋值 (小人状态图., 49)
    .判断开始 (并且 (等于 (方向键 [1], 1), 小于或等于 (相减 (小人.位置.横坐标, 位移), 相加 (行走区域左边, 30))))
        赋值 (小人.位置.横坐标, 相加 (行走区域左边, 30))
        赋值 (行走区域左边, 相减 (行走区域左边, 位移))
        .如果真 (小于或等于 (行走区域左边, 0))
            赋值 (行走区域左边, 0)
        .如果真结束
        
    .判断 (并且 (等于 (方向键 [1], 1), 大于 (小人.位置.横坐标, 相加 (行走区域左边, 30))))
        赋值 (小人.位置.横坐标, 相减 (小人.位置.横坐标, 位移))
    .默认
        
    .判断结束
    
    .判断开始 (并且 (等于 (方向键 [2], 1), 大于或等于 (相加 (小人.位置.横坐标, 位移), 相减 (相加 (行走区域左边, .宽度), 93))))
        赋值 (小人.位置.横坐标, 相减 (相加 (行走区域左边, .宽度), 93))
        赋值 (行走区域左边, 相加 (行走区域左边, 位移))
        .如果真 (大于或等于 (行走区域左边, 相减 (背景页面.未知支持库函数_168 (), .宽度)))
            赋值 (行走区域左边, 相减 (背景页面.未知支持库函数_168 (), .宽度))
        .如果真结束
        
    .判断 (并且 (等于 (方向键 [2], 1), 小于 (小人.位置.横坐标, 相减 (相加 (行走区域左边, .宽度), 93))))
        赋值 (小人.位置.横坐标, 相加 (小人.位置.横坐标, 位移))
        
    .默认
        
    .判断结束
    
    
    .判断开始 (并且 (等于 (方向键 [3], 1), 小于或等于 (相减 (小人.位置.纵坐标, 位移), 相加 (行走区域顶边, 30))))
        赋值 (小人.位置.纵坐标, 相加 (行走区域顶边, 30))
        赋值 (行走区域顶边, 相减 (行走区域顶边, 位移))
        .如果真 (小于或等于 (行走区域顶边, 0))
            赋值 (行走区域顶边, 0)
        .如果真结束
        
        
    .判断 (并且 (等于 (方向键 [3], 1), 大于 (小人.位置.纵坐标, 相加 (行走区域顶边, 30))))
        赋值 (小人.位置.纵坐标, 相减 (小人.位置.纵坐标, 位移))
        
        
    .默认
        
    .判断结束
    
    .判断开始 (并且 (等于 (方向键 [4], 1), 大于或等于 (相加 (小人.位置.纵坐标, 位移), 相减 (相加 (行走区域顶边, .高度), 78))))
        赋值 (小人.位置.纵坐标, 相减 (相加 (行走区域顶边, .高度), 78))
        赋值 (行走区域顶边, 相加 (行走区域顶边, 位移))
        .如果真 (大于或等于 (行走区域顶边, 相减 (背景页面.未知支持库函数_169 (), .高度)))
            赋值 (行走区域顶边, 相减 (背景页面.未知支持库函数_169 (), .高度))
        .如果真结束
        
    .判断 (并且 (等于 (方向键 [4], 1), 小于 (小人.位置.纵坐标, 相减 (相加 (行走区域顶边, .高度), 78))))
        
        赋值 (小人.位置.纵坐标, 相加 (小人.位置.纵坐标, 位移))
        
    .默认
        
    .判断结束
    赋值 (活动区域., 行走区域左边)
    赋值 (活动区域., 相加 (活动区域., .))
    赋值 (活动区域., 行走区域顶边)
    赋值 (活动区域., 相加 (活动区域., .))
    
    
.如果真结束
.如果真 (等于 (可活动区域.未知支持库函数_114 (小人.位置.横坐标, 小人.位置.纵坐标), #黑色))
    赋值 (小人.位置.纵坐标, 相加 (小人.位置.纵坐标, 位移))
    
.如果真结束
赋值 (小人状态图., 相减 (相乘 (小人.方向, 48), 48))
赋值 (小人状态图., 相乘 (小人.方向, 48))

背景页面.未知支持库函数_132 (后台页面, 0, 0, 活动区域)
小人状态页面.未知支持库函数_156 (#品红)
 ' c ＝ 0
小人状态页面.未知支持库函数_134 (后台页面, 相减 (小人.位置.横坐标, 活动区域.), 相减 (小人.位置.纵坐标, 活动区域.), 小人状态图)
 ' c ＝ c ＋ 1
 ' 小人状态.透空块复制 (后台页面, 小人.位置.横坐标 ＋ c × 20 ＋ 10, 小人.位置.纵坐标, 小人状态)
p.未知支持库函数_69 (假, 假, 假)
返回 (1)

.子程序 __启动窗口_按下某键, 逻辑型, , 
.参数 键代码, 整数型, , 
.参数 功能键状态, 整数型, , 

重定义数组 (方向键, 假, 5)

.判断开始 (等于 (键代码, #左光标键))
    赋值 (方向键 [1], 1)
    赋值 (小人.方向, 2)
    
.判断 (等于 (键代码, #右光标键))
    赋值 (方向键 [2], 1)
    赋值 (小人.方向, 4)
    
.判断 (等于 (键代码, #上光标键))
    赋值 (方向键 [3], 1)
    赋值 (小人.方向, 3)
    
.判断 (等于 (键代码, #下光标键))
    赋值 (方向键 [4], 1)
    赋值 (小人.方向, 1)
    
.默认
    
.判断结束


.子程序 _时钟1_周期事件, 空白型, , 
赋值 (位移, 5)
事件 (0, 0)

.子程序 __启动窗口_放开某键, 逻辑型, , 
.参数 键代码, 整数型, , 
.参数 功能键状态, 整数型, , 

.判断开始 (等于 (键代码, #左光标键))
    赋值 (方向键 [1], 0)
.判断 (等于 (键代码, #右光标键))
    赋值 (方向键 [2], 0)
.判断 (等于 (键代码, #上光标键))
    赋值 (方向键 [3], 0)
.判断 (等于 (键代码, #下光标键))
    赋值 (方向键 [4], 0)
.默认
    
.判断结束
.如果 (等于 (相加 (方向键 [1], 方向键 [2], 方向键 [3], 方向键 [4]), 0))
    赋值 (小人行走, 0)
    
.否则
    赋值 (小人行走, 1)
    
.如果结束


.程序集 程序集1, , , 

.子程序 待时, 空白型, 公开, 
.参数 等待时间, 整数型, 可空, 毫秒

.局部变量 零食, 空白型, , , 

赋值 (零食, 取启动时间 ())
.判断循环首 (小于 (相减 (取启动时间 (), 零食), 等待时间))
    处理事件 ()
    延时 (1)
.判断循环尾 ()


 ' 不属于任何一个程序集、类模块的函数：
