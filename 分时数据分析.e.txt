 ' 文件类型：Windows窗口程序

 ' 程序名称：分时数据分析
 ' 程序描述：
 ' 程序作者：陈峰
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 441
    高度 = 600
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库




数据类型 类型_数据, , 
    .成员 时间, 文本型, , , 
    .成员 价格, 小数型, , , 
    .成员 成交量, 双精度小数型, , , 
    .成员 方向, 文本型, , , 

数据类型 类型_统计, , 
    .成员 时间, 文本型, , , 
    .成员 卖出量, 双精度小数型, , , 
    .成员 买入量, 双精度小数型, , , 


.窗口程序集 窗口程序集_股票数据分析显示, , , 

.程序集变量 程序集_所有数据, 类型_数据, , "0", 
.程序集变量 程序集_统计数据, 类型_统计, , "0", 
.子程序 读取分析, 空白型, , 
.参数 文件路径, 文本型, , 

.局部变量 i, 整数型, , , 
.局部变量 临时1, 文本型, , "0", 
.局部变量 临时2, 文本型, , "0", 
.局部变量 临时数据, 类型_数据, , , 
.局部变量 j, 整数型, , , 
.局部变量 是否存在, 逻辑型, , , 
.局部变量 临时统计, 类型_统计, , , 

赋值 (临时1, 分割文本 (到文本 (读入文件 (文件路径)), #换行符, ))
.计次循环首 (取数组成员数 (临时1), i)
    .如果真 (等于 (i, 1))
        赋值 (., 临时1 [1])
    .如果真结束
    
    赋值 (临时2, 分割文本 (子文本替换 (子文本替换 (临时1 [i], “ ”, , , , 真), 相加 (字符 (9), 字符 (9)), 字符 (9), , , 真), 字符 (9), ))
    .如果真 (大于或等于 (取数组成员数 (临时2), 4))
        赋值 (临时数据.时间, 临时2 [1])
        赋值 (临时数据.价格, 到小数 (临时2 [2]))
        赋值 (临时数据.成交量, 到数值 (临时2 [3]))
        赋值 (临时数据.方向, 临时2 [4])
        加入成员 (程序集_所有数据, 临时数据)
        赋值 (是否存在, 假)
        .计次循环首 (取数组成员数 (程序集_统计数据), j)
            .如果真 (等于 (程序集_统计数据 [j], 时间, 临时数据.时间))
                赋值 (是否存在, 真)
                跳出循环 ()
            .如果真结束
            
        .计次循环尾 ()
        .如果真 (等于 (是否存在, 假))
            赋值 (临时统计.时间, 临时数据.时间)
            加入成员 (程序集_统计数据, 临时统计)
        .如果真结束
        
    .如果真结束
    
.计次循环尾 ()
.计次循环首 (取数组成员数 (程序集_统计数据), j)
    .计次循环首 (取数组成员数 (程序集_所有数据), i)
        .如果真 (等于 (程序集_统计数据 [j], 时间, 程序集_所有数据 [i], 时间))
            .如果真 (等于 (程序集_所有数据 [i], 方向, “S”))
                赋值 (程序集_统计数据 [j], 卖出量, 相加 (程序集_统计数据 [j], 卖出量, 程序集_所有数据 [i], 成交量))
            .如果真结束
            .如果真 (等于 (程序集_所有数据 [i], 方向, “B”))
                赋值 (程序集_统计数据 [j], 买入量, 相加 (程序集_统计数据 [j], 买入量, 程序集_所有数据 [i], 成交量))
            .如果真结束
            
        .如果真结束
        
    .计次循环尾 ()
    5.定位写出 (相乘 (11, j), 程序集_统计数据 [j], 时间)
    赋值 (., 3)
    赋值 (., 1)
    赋值 (., #绿色)
    相加 (相除 (., 2), 50).画直线 (相加 (相乘 (11, j), 5.5), 相加 (相除 (., 2), 50, 相除 (程序集_统计数据 [j], 买入量, 200)), 相加 (相乘 (11, j), 5.5))
    赋值 (., 3)
    赋值 (., 1)
    赋值 (., #红色)
    相加 (相除 (., 2), 50).画直线 (相加 (相乘 (11, j), 5.5), 相减 (相加 (相除 (., 2), 50), 相除 (程序集_统计数据 [j], 卖出量, 200)), 相加 (相乘 (11, j), 5.5))
    赋值 (., 0)
    赋值 (., 1)
    赋值 (., #黑色)
     ' hb1.q
.计次循环尾 ()

相加 (相除 (., 2), 50).画直线 (10, 相加 (相除 (., 2), 50), 相减 (., 10))

.子程序 _导入_被选择, 空白型, , 
.如果真 (等于 (打开 (), 真))
    读取分析 (.)
    
.如果真结束



.子程序 __启动窗口_创建完毕, 空白型, , 



 ' 不属于任何一个程序集、类模块的函数：
