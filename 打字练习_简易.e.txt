 ' 文件类型：Windows窗口程序

 ' 程序名称：打字练习_简易
 ' 程序描述：演示用动画框组件编写打字练习程序的简单编程
 ' 程序作者：大连大有吴涛易语言软件开发有限公司
 ' 邮政编码：116001
 ' 联系地址：辽宁省大连市中山区人民路55号1409室
 ' 联系电话：(0411)88995831
 ' 传真号码：(0411)88995834
 ' 电子信箱：service@dywt.com.cn
 ' 主页地址：http://www.dywt.com.cn
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 690
    高度 = 534
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假



.声音 发射, " ' 已保存到：D:\易语言学习\Data\打字练习_简易.e\发射", , 
.图片 爆炸, " ' 已保存到：D:\易语言学习\Data\打字练习_简易.e\爆炸", , 


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库
 ' iext2 AF6AD80AA4244A59AFB3D83ECF5173CC 1 1 扩展界面支持库二




数据类型 字符数据, , 
    .成员 标识符, 整数型, , , 
    .成员 字符, 文本型, , , 
    .成员 位置, 整数型, , , 


.窗口程序集 窗口程序集1, , , 

.程序集变量 集_模板ID, 整数型, , , 
.程序集变量 集_总分, 整数型, , , 
.程序集变量 集_字符数据, 字符数据, , "0", 
.程序集变量 集_级别, 整数型, , , 
.程序集变量 集_停止, 逻辑型, , , 
.程序集变量 集_计时, 整数型, , , 
.程序集变量 集_加速补偿, 整数型, , , 
.程序集变量 集_练习字数, 整数型, , , 
.子程序 开始, 空白型, , 
.参数 创建序号, 整数型, 可空, 

.局部变量 I, 整数型, , , 
.局部变量 字符数据, 字符数据, , , 
.局部变量 速度, 空白型, , , 

.如果真 (等于 (集_停止, 真))
    返回 ()
.如果真结束
获取焦点 ()
置随机数种子 ()
.判断开始 (是否为空 (创建序号))
    赋值 (速度, 相减 (550, 相乘 (集_级别, 50)))
    .变量循环首 (1, 10, 1, I)
        赋值 (字符数据.字符, 字符 (选择 (等于 (取随机数 (1, 2), 1), 取随机数 (#键0, #键9), 取随机数 (#A键, #Z键))))
        赋值 (字符数据.标识符, 集_模板ID.未知支持库函数_85 (相乘 (I, 42), 0, 真, ))
        字符数据.未知支持库函数_41 (.标识符, 字符数据.字符, , #红色)
        字符数据.未知支持库函数_72 (.标识符, 10, 速度, 0, 0, 真, 1, 假, )
        赋值 (字符数据.位置, I)
        加入成员 (集_字符数据, 字符数据)
    .变量循环尾 ()
    赋值 (集_练习字数, 10)
    赋值 (.标题, 到文本 (集_练习字数))
.默认
    赋值 (速度, 相减 (550, 相乘 (集_级别, 50), 集_加速补偿))
    赋值 (字符数据.字符, 字符 (选择 (等于 (取随机数 (1, 2), 1), 取随机数 (#键0, #键9), 取随机数 (#A键, #Z键))))
    赋值 (字符数据.标识符, 集_模板ID.未知支持库函数_85 (相乘 (创建序号, 42), 0, 真, ))
    字符数据.未知支持库函数_41 (.标识符, 字符数据.字符, , #红色)
    字符数据.未知支持库函数_72 (.标识符, 10, 速度, 0, 0, 真, 1, 假, )
    赋值 (字符数据.位置, 创建序号)
    加入成员 (集_字符数据, 字符数据)
    赋值 (集_练习字数, 相加 (集_练习字数, 1))
.判断结束
赋值 (.标题, 到文本 (集_练习字数))


.子程序 _动画框1_碰撞到边界, 逻辑型, , 
.参数 物体标识值, 整数型, , 
.参数 横坐标, 整数型, , 
.参数 纵坐标, 整数型, , 
.参数 边界类型, 整数型, , 

.局部变量 I, 整数型, , , 

.计次循环首 (取数组下标 (集_字符数据, ), I)
    .如果真 (等于 (集_字符数据 [I], 标识符, 物体标识值))
        物体标识值.未知支持库函数_36 ()
        开始 (集_字符数据 [I], 位置)
        删除成员 (集_字符数据, I, 1)
        跳出循环 ()
    .如果真结束
    
.计次循环尾 ()

.子程序 _动画框1_按下某键, 逻辑型, , 
.参数 键代码, 整数型, , 
.参数 功能键状态, 整数型, , 

.局部变量 I, 整数型, , , 
.局部变量 子弹ID, 整数型, , , 

.如果真 (或者 (并且 (大于或等于 (键代码, #键0), 小于或等于 (键代码, #键9)), 并且 (大于或等于 (键代码, #A键), 小于或等于 (键代码, #Z键))))
    .计次循环首 (取数组下标 (集_字符数据, ), I)
        .如果真 (等于 (集_字符数据 [I], 字符, 字符 (键代码)))
            赋值 (子弹ID, .未知支持库函数_35 (0, 0, 真, ))
            子弹ID.未知支持库函数_56 (相加 (相乘 (集_字符数据 [I], 位置, 42), 5), ., 真)
            子弹ID.未知支持库函数_72 (20, 10, , , 真, 2, 真, )
            播放音乐 (#发射, )
            跳出循环 ()
        .如果真结束
        
    .计次循环尾 ()
.如果真结束


.子程序 _动画框1_碰撞到物体, 空白型, , 
.参数 碰撞物体标识值, 整数型, , 
.参数 横坐标, 整数型, , 
.参数 纵坐标, 整数型, , 
.参数 被碰撞物体标识值, 整数型, , 

.局部变量 I, 整数型, , , 

.计次循环首 (取数组下标 (集_字符数据, ), I)
    .如果真 (等于 (集_字符数据 [I], 标识符, 被碰撞物体标识值))
        被碰撞物体标识值.未知支持库函数_44 (#爆炸, -2)
        被碰撞物体标识值.未知支持库函数_56 (相减 (横坐标, 28), 相减 (纵坐标, 40), 假)
        被碰撞物体标识值.未知支持库函数_77 (1, 真, , )
        赋值 (集_总分, 相加 (集_总分, 1))
        .如果真 (等于 (求余数 (集_总分, 10), 0))
            赋值 (集_加速补偿, 相加 (集_加速补偿, 10))
        .如果真结束
        赋值 (.标题, 相加 (到文本 (四舍五入 (相除 (相乘 (集_总分, 100), 集_练习字数), 1)), “%”))
        赋值 (.标题, 相加 (到文本 (四舍五入 (相除 (相减 (取启动时间 (), 集_计时), 1000, 集_总分), 1)), “字/秒”))
        开始 (集_字符数据 [I], 位置)
        删除成员 (集_字符数据, I, 1)
        跳出循环 ()
    .如果真结束
    
.计次循环尾 ()

.子程序 _按钮1_被单击, 空白型, , 
赋值 (集_级别, 到数值 (.内容))
赋值 (集_模板ID, .未知支持库函数_35 (0, 0, 假, ))
赋值 (集_计时, 取启动时间 ())
开始 ()
赋值 (.时钟周期, 1000)

.子程序 _按钮2_被单击, 空白型, , 
赋值 (集_停止, 真)
赋值 (.时钟周期, 0)
未知支持库函数_37 ()
清除数组 (集_字符数据)
赋值 (集_停止, 假)
赋值 (集_总分, 0)
赋值 (集_计时, 0)
赋值 (集_加速补偿, 0)
赋值 (集_练习字数, 0)


.子程序 _时钟1_周期事件, 空白型, , 
.局部变量 秒数, 整数型, , , 

赋值 (秒数, 相除 (相减 (取启动时间 (), 集_计时), 1000))
赋值 (.标题, 相加 (到文本 (秒数), “秒”))


 ' 不属于任何一个程序集、类模块的函数：
