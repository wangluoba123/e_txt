 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 543
    高度 = 444
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假



.常量 顶点大小, "28", 隐藏, 位置，颜色，纹理
.常量 顶点数组大小, "1000", 隐藏, 
.常量 度到弧, "0.01745329251944", 隐藏, 


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库
 ' ogrelib 2EAE87405D754ad780D8FE57432002EA 1 2 DirectX3D支持库
 ' commobj {A068799B-7551-46b9-8CA8-EEF8357AFEA4} 1 0 通用对象支持库



 ' 所需要的模块
 ' EDX_2D模块 E:\yish\dx9\2D简单DX模块_02.ec


.全局变量 log, 日志类, 公开, , 
.全局变量 绘制对象, 未知类型0x30002, 公开, , 
.全局变量 DX, 硬件设备类, 公开, , 
.全局变量 弧度表, 小数型, 公开, "360,2", 

.窗口程序集 窗口程序集1, , , 

.程序集变量 透明度, 字节型, , , 
.程序集变量 mousex, 空白型, , , 
.程序集变量 mousey, 空白型, , , 
.程序集变量 run, 空白型, , , 
.程序集变量 精灵, 图形类, , , 
.程序集变量 光标, 图形类, , , 
.程序集变量 匿名程序集变量_347, 空白型, , , 
.子程序 __启动窗口_被激活, 空白型, , 
DX.设备丢失测试 ()

.子程序 __启动窗口_创建完毕, 空白型, , 
赋值 (., 真)

DX.初始化 (取窗口句柄 (), 假)
精灵.载入图像 (“2.png”, 1, 4, 4)
光标.载入图像 (“1.bmp”, 1)

.子程序 __启动窗口_鼠标位置被移动, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

赋值 (mousex, 横向位置)
赋值 (mousey, 纵向位置)


.子程序 绘图演示1, 空白型, , 
.局部变量 颜色1, 空白型, , , 
.局部变量 颜色2, 空白型, , , 
.局部变量 颜色3, 空白型, , , 
.局部变量 颜色4, 空白型, , , 
.局部变量 匿名局部变量_388, 空白型, , , 
.局部变量 Ax, 小数型, , , 
.局部变量 Ay, 小数型, , , 
.局部变量 Bx, 小数型, , , 
.局部变量 By, 小数型, , , 
.局部变量 角度计次, 空白型, 静态, , 

DX.开始渲染 ()
DX.清屏 (250, 200, 200, 255)

DX.画线 (30, 50, mousex, mousey, 未知支持库函数_287 (255, 255, 0, 0))
DX.画矩形 (350, 100, 400, 400, 未知支持库函数_287 (255, 12, 200, 200)) ' 线框式
DX.画填充矩形 (100, 100, 200, 200, 未知支持库函数_287 (255, 230, 23, 23))

赋值 (颜色1, 未知支持库函数_287 (255, 相乘 (相减 (相加 (相减 (mousex, 100), mousey), 350), 0.5), 50, 50))
赋值 (颜色2, 未知支持库函数_287 (255, 相乘 (相减 (相加 (相减 (mousex, 300), mousey), 350), 0.5), 50, 50))
赋值 (颜色3, 未知支持库函数_287 (255, 相乘 (相减 (相加 (相减 (mousex, 300), mousey), 500), 0.5), 50, 50))
赋值 (颜色4, 未知支持库函数_287 (255, 相乘 (相减 (相加 (相减 (mousex, 100), mousey), 500), 0.5), 50, 50))
DX.画渐变矩形 (100, 250, 300, 400, 颜色1, 颜色2, 颜色3, 颜色4)

赋值 (角度计次, 相加 (角度计次, 1))
点旋转_某点 (100, 0, 角度计次, mousex, mousey, Ax, Ay) ' 将100，0 处的点旋转一个角度，赋值给 Ax,Ay
点旋转_某点 (100, 0, 相乘 (角度计次, 1.2), mousex, mousey, Bx, By) ' 同上,但转的速度不同
DX.画线 (mousex, mousey, Ax, Ay, 未知支持库函数_287 (255, 255, 255, 55))
DX.画线 (mousex, mousey, Bx, By, 未知支持库函数_287 (255, 0, 0, 255))

.未知函数_67174949 () ' 画出鼠标
未知函数_67174950 ()


DX.结束渲染 ()

.子程序 绘图演示2, 空白型, , 
.局部变量 i, 整数型, , , 
.局部变量 j, 整数型, , , 
.局部变量 图像帧号, 小数型, 静态, , 

DX.开始渲染 ()
DX.清屏 (250, 200, 200, 255)

.计次循环首 (10, i)
    .计次循环首 (10, j)
        精灵.未知函数_67174723 (相加 (10, 相乘 (j, 50)), 相加 (相乘 (i, 50), 10))
        精灵.未知函数_67174594 (求余数 (i, 5), 相乘 (i, 20)) ' 混色
        精灵.未知函数_67174596 (4)
        精灵.未知函数_67174725 (0)
        精灵.未知函数_67174591 (0.25, 0.25)
        精灵.未知函数_67174727 ()
        
    .计次循环尾 ()
.计次循环尾 ()

精灵.未知函数_67174723 (mousex, mousey)
精灵.未知函数_67174592 (45)
精灵.未知函数_67174596 (4)
精灵.未知函数_67174591 (1, 1)
精灵.未知函数_67174595 ()
光标.平移到 (mousex, mousey) ' 画出鼠标
光标.绘制 ()
DX.结束渲染 ()

.子程序 绘图演示3, 空白型, , 
.局部变量 i, 整数型, , , 
.局部变量 j, 整数型, , , 
.局部变量 图像帧号, 小数型, 静态, , 

DX.开始渲染 ()
DX.清屏 (250, 200, 200, 255)

.计次循环首 (10, i)
    .计次循环首 (10, j)
        精灵.未知函数_67174762 (相加 (10, 相乘 (j, 50)), 相加 (相乘 (i, 50), 10))
        精灵.未知函数_67174594 (求余数 (i, 5), 相乘 (i, 25))
        精灵.未知函数_67174592 (0)
        精灵.未知函数_67174596 (图像帧号)
        精灵.未知函数_67174765 (0.25, 0.25)
        精灵.未知函数_67174766 ()
        
    .计次循环尾 ()
.计次循环尾 ()

赋值 (图像帧号, 相加 (图像帧号, 0.1))
.如果真 (大于 (图像帧号, 8))
    赋值 (图像帧号, 4)
.如果真结束

精灵.未知函数_67174767 (图像帧号)
精灵.未知函数_67174762 (mousex, mousey)
精灵.未知函数_67174764 (mousex)
精灵.未知函数_67174765 (相除 (mousey, 100), 相除 (mousey, 100))
精灵.未知函数_67174766 ()

.未知函数_67174944 () ' 画出鼠标
未知函数_67174945 ()


DX.结束渲染 ()


.子程序 _按钮1_被单击, 空白型, , 
.局部变量 fps, FPS类, , , 

赋值 (.禁止, 真)
赋值 (run, 1)
fps.setFPS (60)

.判断循环首 (大于 (run, 0))
    处理事件 ()
    
    .判断开始 (等于 (run, 1))
        绘图演示1 ()
    .判断 (等于 (run, 2))
        绘图演示2 ()
    .默认
        
        绘图演示3 ()
    .判断结束
    
    fps.runFPS ()
    赋值 (., 相加 (到文本 (fps.getFPS ()), “ Fps”))
    
.判断循环尾 ()
结束 ()

.子程序 __启动窗口_可否被关闭, 逻辑型, , 
赋值 (run, 0)
返回 (假)

.子程序 _单选框1_被单击, 空白型, , 
赋值 (run, 1) ' 演示1

.子程序 _单选框2_被单击, 空白型, , 
赋值 (run, 2) ' 演示2

.子程序 _单选框3_被单击, 空白型, , 
赋值 (run, 3) ' 演示3

.类模块 日志类, , , 

.子程序 开始记录, 空白型, , 
.参数 参输出方式, 整数型, , 0=关闭，1=调试输出，2=写到文本，3=写到文件
.参数 文件名, 文本型, 可空, 



.子程序 输出, 空白型, , 
.参数 txt, 文本型, , 



.子程序 输出方式, 空白型, , 
.参数 方式_, 整数型, , 



.子程序 取内容, 文本型, , 


.类模块 硬件设备类, , , 

.子程序 初始化, 逻辑型, , 
.参数 窗口句柄参, 整数型, , 
.参数 全屏否, 逻辑型, , 
.参数 参宽度, 整数型, 可空, 
.参数 参高度, 整数型, 可空, 



.子程序 开始渲染, 空白型, , 


.子程序 清屏, 空白型, , 
.参数 A, 整数型, , 
.参数 R, 整数型, , 
.参数 G, 整数型, , 
.参数 B, 整数型, , 



.子程序 画线, 空白型, , 
.参数 x1, 小数型, , 
.参数 y1, 小数型, , 
.参数 x2, 小数型, , 
.参数 y2, 小数型, , 
.参数 参颜色, 整数型, , 



.子程序 画点, 空白型, , 
.参数 x1, 小数型, , 
.参数 y1, 小数型, , 
.参数 参颜色, 整数型, 可空, 



.子程序 连续画点_开始, 空白型, , 
.参数 图形类, 整数型, , 1=点列，2=线列，3=线带，4=三角列，5=三角带，6=三角扇
.参数 带纹理, 逻辑型, , 



.子程序 连续画点1, 空白型, , 没有纹理,5个成员
.参数 x1, 小数型, , 
.参数 y1, 小数型, , 
.参数 参颜色, 整数型, 可空, 



.子程序 连续画点2, 空白型, , 有纹理，7个成员
.参数 x1, 小数型, , 
.参数 y1, 小数型, , 
.参数 参颜色, 整数型, 可空, 
.参数 tu_, 小数型, , 
.参数 tv_, 小数型, , 



.子程序 连续画点_结束, 空白型, , 必须与 连续画点_开始 成对使用


.子程序 连续画点_最后画出_四边形5, 空白型, , 


.子程序 画矩形, 空白型, , 
.参数 左_, 整数型, , 
.参数 顶_, 整数型, , 
.参数 右_, 整数型, , 
.参数 下_, 整数型, , 
.参数 颜色_, 整数型, , 



.子程序 画填充矩形, 空白型, , 
.参数 左_, 整数型, , 
.参数 顶_, 整数型, , 
.参数 右_, 整数型, , 
.参数 下_, 整数型, , 
.参数 颜色_, 整数型, , 



.子程序 画渐变矩形, 空白型, , 
.参数 左_, 小数型, , 
.参数 顶_, 小数型, , 
.参数 右_, 小数型, , 
.参数 下_, 小数型, , 
.参数 颜色_左上, 小数型, , 
.参数 颜色_右上, 小数型, , 
.参数 颜色_右下, 小数型, , 
.参数 颜色_左下, 小数型, , 



.子程序 设备丢失测试, 逻辑型, , 每次窗口更改时应调用，如果失去设备会自动重置


.子程序 结束渲染, 空白型, , 


.类模块 图形类, , , 

.子程序 载入图像, 逻辑型, , 
.参数 图像名, 文本型, , 
.参数 透明色, 整数型, , 
.参数 横向分割, 整数型, 可空, 
.参数 纵向分割, 整数型, 可空, 



.子程序 平移, 空白型, , 
.参数 x_, 小数型, , 
.参数 y_, 小数型, , 



.子程序 平移到, 空白型, , 
.参数 x_, 小数型, , 
.参数 y_, 小数型, , 



.子程序 缩放, 空白型, , 
.参数 W_, 小数型, , 
.参数 H_, 小数型, , 



.子程序 旋转, 空白型, , 
.参数 转角_, 整数型, , 



.子程序 置颜色, 空白型, , 
.参数 顶点序号, 整数型, 可空, 1234,左上、右上、左下、右下
.参数 R, 字节型, , 
.参数 G, 字节型, , 
.参数 B, 字节型, , 
.参数 A, 字节型, , 



.子程序 置单色, 空白型, , 
.参数 顶点序号, 整数型, 可空, 1234,左上、右上、左下、右下
.参数 色位, 字节型, , 1,2,3,4
.参数 颜色_, 字节型, , 



.子程序 绘制, 空白型, , 


.子程序 指定帧号, 空白型, , 
.参数 指定值, 整数型, , 



.类模块 FPS类, , , 

.子程序 setFPS, 空白型, , 
.参数 限帧值, 整数型, , 



.子程序 runFPS, 空白型, , 


.子程序 getFPS, 小数型, , 


.子程序 getTIME, 整数型, , 


.程序集 __HIDDEN_TEMP_MOD__, , , 

.子程序 数学扩展集_初始化, 空白型, , 


.子程序 点旋转_原点, 空白型, , 将某点绕原点旋转指定角度
.参数 x_, 小数型, , 
.参数 y_, 小数型, , 
.参数 参角度, 小数型, , 
.参数 retx, 小数型, 参考, 返回的X值
.参数 rety, 小数型, 参考, 返回的Y值



.子程序 点旋转_某点, 空白型, , 将某点绕指定点旋转指定角度
.参数 x1_, 小数型, , 
.参数 y1_, 小数型, , 
.参数 参角度, 小数型, , 
.参数 x2_, 小数型, , 指定旋转中心点X
.参数 y2_, 小数型, , 指定旋转中心点Y
.参数 retx, 小数型, 参考, 返回的X值
.参数 rety, 小数型, 参考, 返回的Y值



.子程序 点旋转_某点_EX, 空白型, , 将某点绕指定点旋转指定角度,不检查角度值的合法性
.参数 x1_, 小数型, , 
.参数 y1_, 小数型, , 
.参数 参角度, 整数型, , 
.参数 x2_, 小数型, , 指定旋转中心点X
.参数 y2_, 小数型, , 指定旋转中心点Y
.参数 retx, 小数型, 参考, 返回的X值
.参数 rety, 小数型, 参考, 返回的Y值



.子程序 处理角度, 整数型, , 保证角度处理1-360之间
.参数 角度_参, 整数型, , 




 ' 不属于任何一个程序集、类模块的函数：
