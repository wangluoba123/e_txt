 ' 文件类型：Windows窗口程序

 ' 程序名称：新扑克牌
 ' 程序描述：
 ' 程序作者：本源码来自易语言资源网(www.5A5X.com)
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：             易语言资源网注意事项
--============   www.5A5X.com  =============--
* 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权纠纷本站概不负责！
* 本站资源未经许可,任何网站不得非法盗链及抄袭本站资源；如引用，请注明来自易语言资源网，谢谢合作！
--============   www.5A5X.com  =============--
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 872
    高度 = 541
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = 16777215 '  0xFFFFFF
    最大化按钮 = 假
    最小化按钮 = 真
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “新扑克牌”
    帮助文件名 = “”

窗口 设置窗口
    左边 = 50
    顶边 = 50
    宽度 = 380
    高度 = 261
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “设置”
    帮助文件名 = “”

窗口 关于窗口
    左边 = 50
    顶边 = 50
    宽度 = 380
    高度 = 198
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “关于”
    帮助文件名 = “”





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 5 0 系统核心支持库
 ' iext 27bb20fdd3e145e4bee3db39ddd6e64c 2 0 扩展界面支持库一
 ' iext3 {B6F7542F-B8FE-46a8-9605-98856A687097} 3 0 扩展界面支持库三
 ' shell 52F260023059454187AF826A3C07AF2A 3 0 操作系统界面功能支持库




.全局变量 图片组, 字节集, , "0", 
.全局变量 复制牌A, 画板, , "8", 
.全局变量 复制牌B, 画板, , "8", 
.全局变量 复制牌C, 画板, , "8", 
.全局变量 复制牌D, 画板, , "8", 
.全局变量 A牌号, 整数型, , "0", 
.全局变量 B牌号, 整数型, , "0", 
.全局变量 C牌号, 整数型, , "0", 
.全局变量 D牌号, 整数型, , "0", 
.全局变量 全局出牌, 整数型, , , 1是小顺，2是大顺，3花牌，4牌3+2，5牌4+1
.全局变量 已出牌子, 整数型, , "5", 
.全局变量 到谁出牌, 整数型, , , 0无,1为A,2为B,3为C,4为D
.全局变量 游戏速度, 整数型, , , 
.全局变量 谁赢了, 整数型, , , 1A赢,2B赢,3C赢,4D赢
.全局变量 无牌, 整数型, , , 
.全局变量 全局输赢, 整数型, , "5", 
.全局变量 牌号排列, 整数型, , , 0为不排列，1从小到大，2从大到小
.全局变量 字号1, 文本型, , "32", 
.全局变量 透明标, 文本型, , , 

.窗口程序集 窗口程序集1, , , 

.程序集变量 临时牌号, 整数型, , "32", 
.程序集变量 出牌组, 整数型, , "0", 
.程序集变量 牌是否未创建, 逻辑型, , , 
.程序集变量 已选择牌子, 整数型, , "0", 
.子程序 __启动窗口_创建完毕, 空白型, , 
 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--


初始化 ()
_按钮1_被单击 ()
赋值 (字号1, { “三鸡”, “五”, “五”, “红头六”, “七”, “七”, “八”, “八”, “九”, “九”, “霖六”, “霖六”, “高脚七”, “高脚七”, “红头十”, “红头十”, “斧头”, “斧头”, “长二”, “长二”, “长三”, “长三”, “梅”, “梅”, “和”, “和”, “人”, “人”, “地”, “地”, “天”, “天” })


.子程序 初始化, 空白型, , 
.局部变量 计量, 整数型, , , 

.计次循环首 (36, 计量)
    加入成员 (图片组, 读入文件 (相加 (取运行目录 (), “\新扑克牌图片\扑克牌_(”, 到文本 (计量), “).bmp”)))
    .如果真 (等于 (取字节集长度 (图片组 [计量]), 0))
        信息框 (相加 (“初始化失败!”, #换行符, “原因：没找到”, #引号, 取运行目录 (), “\新扑克牌图片\扑克牌_(”, 到文本 (计量), “).bmp”, #引号, “图片文件!”), #错误图标, )
        结束 ()
    .如果真结束
     ' 本源码来自易语言资源网(www.5A5X.com)
.计次循环尾 ()
赋值 (牌是否未创建, 真)
赋值 (_启动窗口., 图片组 [36])
赋值 (.可视, 假)
赋值 (.底图, 图片组 [36])
重定义数组 (全局输赢, 假, 5)
赋值 (牌号排列, 到数值 (读配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “牌号排列”, “0”)))
赋值 (计量, 到数值 (读配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “游戏速度”, “0”)))
.如果真 (等于 (计量, 0))
    赋值 (游戏速度, 2000)
.如果真结束
.如果真 (等于 (计量, 1))
    赋值 (游戏速度, 4000)
.如果真结束
.如果真 (等于 (计量, 2))
    赋值 (游戏速度, 100)
.如果真结束
 ' 本源码来自易语言资源网(www.5A5X.com)

.子程序 初始化牌子, 空白型, , 
.局部变量 i, 整数型, , , 
.局部变量 牌号, 整数型, , , 

置随机数种子 ()
.如果真 (等于 (牌是否未创建, 假))
    .计次循环首 (8, i)
        赋值 (复制牌A [i], 可视, 假)
        赋值 (复制牌B [i], 可视, 假)
        赋值 (复制牌C [i], 可视, 假)
        赋值 (复制牌D [i], 可视, 假)
    .计次循环尾 ()
.如果真结束
.计次循环首 (8, i)
    处理事件 ()
    复制窗口组件 (复制牌A [i])
    赋值 (复制牌A [i], 左边, 相减 (相加 (.左边, 相乘 (i, 40)), 20))
    赋值 (复制牌A [i], 可视, 真)
    赋值 (复制牌A [i], 标记, 到文本 (i))
    赋值 (牌号, 洗牌 ())
    .如果真 (等于 (牌号, 1))
        赋值 (到谁出牌, 1)
    .如果真结束
    加入成员 (A牌号, 牌号)
    赋值 (复制牌A [i], 底图, 图片组 [牌号])
    复制窗口组件 (复制牌B [i])
    赋值 (复制牌B [i], 顶边, 相减 (相加 (.顶边, 相乘 (i, 35)), 15))
    赋值 (复制牌B [i], 可视, 真)
    赋值 (牌号, 洗牌 ())
    .如果真 (等于 (牌号, 1))
        赋值 (到谁出牌, 2)
    .如果真结束
    加入成员 (B牌号, 牌号)
    赋值 (复制牌B [i], 底图, 图片组 [33])
    复制窗口组件 (复制牌C [i])
    赋值 (复制牌C [i], 左边, 相减 (相加 (.左边, 相乘 (i, 45)), 20))
    赋值 (复制牌C [i], 可视, 真)
    赋值 (牌号, 洗牌 ())
    .如果真 (等于 (牌号, 1))
        赋值 (到谁出牌, 3)
    .如果真结束
    加入成员 (C牌号, 牌号)
    赋值 (复制牌C [i], 底图, 图片组 [34])
    复制窗口组件 (复制牌D [i])
    赋值 (复制牌D [i], 顶边, 相减 (相加 (.顶边, 相乘 (i, 35)), 15))
    赋值 (复制牌D [i], 可视, 真)
    赋值 (牌号, 洗牌 ())
    .如果真 (等于 (牌号, 1))
        赋值 (到谁出牌, 4)
    .如果真结束
    加入成员 (D牌号, 牌号)
    赋值 (复制牌D [i], 底图, 图片组 [33])
.计次循环尾 ()
.如果真 (不等于 (牌号排列, 0)) ' 为零不排列
    .如果 (等于 (牌号排列, 1))
        数组排序 (A牌号, 假) ' 从小到大
    .否则
        数组排序 (A牌号, 真) ' 从大到小
    .如果结束
    .计次循环首 (8, i)
        处理事件 ()
        赋值 (复制牌A [i], 底图, 图片组 [A牌号] [i])
    .计次循环尾 ()
.如果真结束
赋值 (牌是否未创建, 假)
赋值 (无牌, 3)
 ' 本源码来自易语言资源网(www.5A5X.com)


.子程序 _按钮1_被单击, 空白型, , 
.局部变量 开始, 逻辑型, , , 

.如果 (等于 (.标题, “开始 &S”))
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.时钟周期, 游戏速度)
    赋值 (.标题, “发牌 &S”)
.否则
    赋值 (.标题, “开始 &S”)
    0.置文本 (“”)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    重定义数组 (临时牌号, 假, 52)
    重定义数组 (出牌组, 假, 13)
    清除数组 (已出牌子)
    清除数组 (已选择牌子)
    清除数组 (A牌号)
    清除数组 (B牌号)
    清除数组 (C牌号)
    清除数组 (D牌号)
    赋值 (.时钟周期, 0)
    赋值 (无牌, 0)
    赋值 (到谁出牌, 0)
    赋值 (谁赢了, 0)
    赋值 (全局出牌, 0)
    赋值 (.可视, 真)
    .清除 ()
    初始化牌子 ()
    赋值 (.禁止, 假)
    赋值 (.禁止, 真)
    赋值 (.禁止, 假)
    
.如果结束


.子程序 洗牌, 整数型, , 
.局部变量 取得成功, 逻辑型, , , 
.局部变量 i, 整数型, , , 

置随机数种子 ()
赋值 (取得成功, 假)
.判断循环首 (等于 (取得成功, 假))
    置随机数种子 ()
    赋值 (i, 取整 (取随机数 (1, 32)))
    .如果 (不等于 (临时牌号 [i], i))
        赋值 (临时牌号 [i], i)
        赋值 (取得成功, 真)
    .否则
        赋值 (取得成功, 假)
    .如果结束
     ' 本源码来自易语言资源网(www.5A5X.com)
.判断循环尾 ()
返回 (i)

.子程序 _原牌A_鼠标左键被放开, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

.局部变量 临时牌子, 画板, , , 
.局部变量 i, 整数型, , , 
.局部变量 牌数, 整数型, , , 
.局部变量 n, 整数型, , , 

赋值 (临时牌子, 取事件组件 ())
.计次循环首 (8, i)
    .如果真 (等于 (临时牌子.标记, 到文本 (i)))
        .如果 (等于 (出牌组 [i], 0))
            .计次循环首 (8, n)
                .如果真 (不等于 (出牌组 [n], 0))
                    赋值 (牌数, 相加 (牌数, 1))
                .如果真结束
                 ' 本源码来自易语言资源网(www.5A5X.com)
            .计次循环尾 ()
            .如果真 (大于或等于 (牌数, 5))
                鸣叫 ()
                0.置文本 (“打出的牌子一次最多只能5张!”)
                返回 ()
            .如果真结束
            赋值 (出牌组 [i], 1)
            赋值 (临时牌子.顶边, 相减 (临时牌子.顶边, 20))
            加入成员 (已选择牌子, A牌号 [i])
        .否则
            赋值 (出牌组 [i], 0)
            赋值 (临时牌子.顶边, 相加 (临时牌子.顶边, 20))
            .计次循环首 (取数组成员数 (已选择牌子), n)
                .如果真 (等于 (已选择牌子 [n], A牌号 [i]))
                    删除成员 (已选择牌子, n, 1)
                    跳出循环 ()
                .如果真结束
                
            .计次循环尾 ()
            
        .如果结束
        
    .如果真结束
    
.计次循环尾 ()


.子程序 _原牌A_鼠标右键被放开, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

.局部变量 i, 整数型, , , 
.局部变量 出牌数, 整数型, , , 
.局部变量 已出牌数, 整数型, , , 
.局部变量 牌型, 整数型, , "5", 
.局部变量 临时牌, 整数型, , "5", 
.局部变量 判断牌值, 整数型, , "8", 
.局部变量 临时牌值, 整数型, , "0", 
.局部变量 值, 整数型, , , 
.局部变量 牌值, 整数型, , "0", 
.局部变量 是否有牌出, 逻辑型, , , 

.如果真 (等于 (.标题, “开始 &S”))
    鸣叫 ()
    0.置文本 (“你还没按下开始游戏!”)
    返回 ()
    
.如果真结束
赋值 (出牌数, 0)
.计次循环首 (8, i)
    .如果真 (不等于 (出牌组 [i], 0))
        赋值 (出牌数, 相加 (出牌数, 1))
    .如果真结束
     ' 本源码来自易语言资源网(www.5A5X.com)
.计次循环尾 ()
.如果真 (小于或等于 (出牌数, 0))
    鸣叫 ()
    0.置文本 (“你没选择要打出的牌!”)
    返回 ()
.如果真结束

赋值 (已出牌数, 取数组成员数 (已出牌子))
.如果真 (等于 (无牌, 3))
    赋值 (已出牌数, 出牌数)
    重定义数组 (已出牌子, 假, 已出牌数)
    .计次循环首 (已出牌数, i)
        赋值 (已出牌子 [i], 已选择牌子 [i])
    .计次循环尾 ()
    输出调试文本 (“无牌 1”)
.如果真结束
.如果真 (不等于 (到谁出牌, 1))
    鸣叫 ()
    0.置文本 (“别人还没有出牌,你怎么可以抢着出牌。详细请看游戏规则。”)
    返回 ()
.如果真结束
.如果真 (不等于 (已出牌数, 0))
    .如果真 (不等于 (出牌数, 已出牌数))
        鸣叫 ()
        0.置文本 (相加 (“打出的牌数不对!你只能打出”, 到文本 (已出牌数), “张，详细请看游戏规则。”))
        返回 ()
    .如果真结束
    
.如果真结束

.如果真 (等于 (已出牌数, 1))
    .如果真 (大于 (已出牌子 [1], 已选择牌子 [1]))
        鸣叫 ()
        0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
        返回 ()
    .如果真结束
     ' 本源码来自易语言资源网(www.5A5X.com)
    .如果真 (不等于 (判断类型 (已出牌子 [1]), 判断类型 (已选择牌子 [1])))
        鸣叫 ()
        0.置文本 (“打出的牌子类型 不对!详细请看游戏规则。”)
        返回 ()
    .如果真结束
    
    重定义数组 (已出牌子, 假, 1)
    赋值 (已出牌子 [1], 已选择牌子 [1])
    赋值 (.内容, 字号1 [已出牌子] [1])
.如果真结束
.如果真 (等于 (已出牌数, 2))
    .如果真 (不等于 (判断牌段 (已选择牌子 [1]), 判断牌段 (已选择牌子 [2])))
        鸣叫 ()
        0.置文本 (“打出的2张牌子不对!详细请看游戏规则。”)
        返回 ()
    .如果真结束
    .如果真 (大于 (相加牌值 (已出牌子 [1], 已出牌子 [2], , , ), 相加牌值 (已选择牌子 [1], 已选择牌子 [2], , , )))
        鸣叫 ()
        0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
        返回 ()
    .如果真结束
    重定义数组 (已出牌子, 假, 2)
    赋值 (已出牌子 [1], 已选择牌子 [1])
    赋值 (已出牌子 [2], 已选择牌子 [2])
.如果真结束
.如果真 (等于 (已出牌数, 3))
    .如果真 (或者 (不等于 (判断牌段 (已选择牌子 [1]), 判断牌段 (已选择牌子 [2])), 不等于 (判断牌段 (已选择牌子 [2]), 判断牌段 (已选择牌子 [3]))))
        鸣叫 ()
        0.置文本 (“打出的3张牌子不对!详细请看游戏规则。”)
        返回 ()
    .如果真结束
    .如果真 (大于 (相加牌值 (已出牌子 [1], 已出牌子 [2], 已出牌子 [3], , ), 相加牌值 (已选择牌子 [1], 已选择牌子 [2], 已选择牌子 [3], , )))
        鸣叫 ()
        0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
        返回 ()
    .如果真结束
     ' 本源码来自易语言资源网(www.5A5X.com)
    重定义数组 (已出牌子, 假, 3)
    赋值 (已出牌子 [1], 已选择牌子 [1])
    赋值 (已出牌子 [2], 已选择牌子 [2])
    赋值 (已出牌子 [3], 已选择牌子 [3])
.如果真结束
.如果真 (等于 (已出牌数, 4))
    .如果真 (或者 (不等于 (判断牌段 (已选择牌子 [1]), 判断牌段 (已选择牌子 [2])), 不等于 (判断牌段 (已选择牌子 [2]), 判断牌段 (已选择牌子 [3])), 不等于 (判断牌段 (已选择牌子 [3]), 判断牌段 (已选择牌子 [4]))))
        鸣叫 ()
        0.置文本 (“打出的4张牌子不对!详细请看游戏规则。”)
        返回 ()
    .如果真结束
    .如果真 (大于 (相加牌值 (已出牌子 [1], 已出牌子 [2], 已出牌子 [3], 已出牌子 [4], ), 相加牌值 (已选择牌子 [1], 已选择牌子 [2], 已选择牌子 [3], 已选择牌子 [4], )))
        鸣叫 ()
        0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
        返回 ()
    .如果真结束
    
    重定义数组 (已出牌子, 假, 4)
    赋值 (已出牌子 [1], 已选择牌子 [1])
    赋值 (已出牌子 [2], 已选择牌子 [2])
    赋值 (已出牌子 [3], 已选择牌子 [3])
    赋值 (已出牌子 [4], 已选择牌子 [4])
.如果真结束
.如果真 (等于 (已出牌数, 5))
    赋值 (是否有牌出, 假)
    重定义数组 (牌型, 假, 5)
    重定义数组 (临时牌, 假, 5)
    .计次循环首 (5, i) ' 判断顺牌
        输出调试文本 (相加 (“牌号”, 到文本 (已选择牌子 [i])))
        赋值 (临时牌 [i], 判断牌段 (已选择牌子 [i]))
    .计次循环尾 ()
    数组排序 (临时牌, 假)
    .计次循环首 (5, i)
        输出调试文本 (临时牌 [i])
    .计次循环尾 ()
    .计次循环首 (4, i)
        .如果 (等于 (相减 (临时牌 [i], 临时牌 [相加 (i, 1)]), 1)) ' 判断是否是小顺
            赋值 (牌型 [1], 2)
            赋值 (是否有牌出, 真)
        .否则
            赋值 (牌型 [1], 1)
            赋值 (是否有牌出, 假)
            跳出循环 ()
        .如果结束
        
    .计次循环尾 ()
    .如果真 (不等于 (牌型 [1], 1)) ' 判断是否是大顺
        .如果真 (并且 (等于 (判断花牌 (已选择牌子 [1]), 判断花牌 (已选择牌子 [2])), 等于 (判断花牌 (已选择牌子 [2]), 判断花牌 (已选择牌子 [3])), 等于 (判断花牌 (已选择牌子 [3]), 判断花牌 (已选择牌子 [4])), 等于 (判断花牌 (已选择牌子 [4]), 判断花牌 (已选择牌子 [5]))))
            赋值 (牌型 [1], 3)
        .如果真结束
         ' 本源码来自易语言资源网(www.5A5X.com)
    .如果真结束
    .如果真 (等于 (牌型 [1], 1)) ' 花式牌
        .如果 (并且 (等于 (判断花牌 (已选择牌子 [1]), 判断花牌 (已选择牌子 [2])), 等于 (判断花牌 (已选择牌子 [2]), 判断花牌 (已选择牌子 [3])), 等于 (判断花牌 (已选择牌子 [3]), 判断花牌 (已选择牌子 [4])), 等于 (判断花牌 (已选择牌子 [4]), 判断花牌 (已选择牌子 [5]))))
            赋值 (是否有牌出, 真)
            赋值 (牌型 [4], 2)
        .否则
            赋值 (牌型 [4], 1)
            赋值 (是否有牌出, 假)
        .如果结束
        
    .如果真结束
    
    .如果真 (等于 (牌型 [4], 1)) ' 判断3+2
        重定义数组 (判断牌值, 假, 13)
        清除数组 (临时牌值)
        .计次循环首 (5, i)
            赋值 (判断牌值 [判断牌段 (已选择牌子 [i])], 相加 (判断牌值 [判断牌段 (已选择牌子 [i])], 1))
        .计次循环尾 ()
        .计次循环首 (13, i)
            .如果真 (不等于 (判断牌值 [i], 0))
                加入成员 (临时牌值, 判断牌值 [i])
            .如果真结束
            
        .计次循环尾 ()
        .如果真 (大于 (取数组成员数 (临时牌值), 2))
            鸣叫 ()
            0.置文本 (“打出的5张牌子不对!详细请看游戏规则。”)
            返回 ()
        .如果真结束
        .如果 (并且 (等于 (临时牌值 [1], 2), 等于 (临时牌值 [2], 3)))
            赋值 (是否有牌出, 真)
            赋值 (牌型 [2], 2)
        .否则
            .如果 (并且 (等于 (临时牌值 [1], 3), 等于 (临时牌值 [2], 2)))
                赋值 (是否有牌出, 真)
                赋值 (牌型 [2], 2)
            .否则
                赋值 (牌型 [2], 1)
                赋值 (是否有牌出, 假)
            .如果结束
            
        .如果结束
        
    .如果真结束
    .如果真 (等于 (牌型 [2], 1)) ' 判断4+1
        .如果 (并且 (等于 (临时牌值 [1], 1), 等于 (临时牌值 [2], 4)))
            赋值 (是否有牌出, 真)
            赋值 (牌型 [3], 2)
        .否则
            .如果 (并且 (等于 (临时牌值 [1], 4), 等于 (临时牌值 [2], 1)))
                赋值 (是否有牌出, 真)
                赋值 (牌型 [3], 2)
            .否则
                赋值 (牌型 [3], 1)
                赋值 (是否有牌出, 假)
            .如果结束
            
        .如果结束
        
    .如果真结束
    
    .如果真 (等于 (牌型 [2], 2)) ' 判断5张牌子是3+2，所以加入3张作判断大小。
        清除数组 (临时牌值)
        .计次循环首 (5, i)
            赋值 (值, 判断牌段 (已选择牌子 [i]))
            .如果真 (等于 (判断牌值 [值], 3))
                加入成员 (临时牌值, 已选择牌子 [i])
            .如果真结束
             ' 本源码来自易语言资源网(www.5A5X.com)
        .计次循环尾 ()
    .如果真结束
    .如果真 (等于 (牌型 [3], 2)) ' 判断5张牌子是4+1，所以加入4张作判断大小。
        清除数组 (临时牌值)
        .计次循环首 (5, i)
            赋值 (值, 判断牌段 (已选择牌子 [i]))
            .如果真 (等于 (判断牌值 [值], 4))
                加入成员 (临时牌值, 已选择牌子 [i])
            .如果真结束
            
        .计次循环尾 ()
    .如果真结束
    
    .如果真 (等于 (是否有牌出, 假))
        鸣叫 ()
        0.置文本 (“打出的牌子太小或不对!详细请看游戏规则。”)
        返回 ()
        
    .如果真结束
    
     ' 5张牌子大小比：大顺>4+1牌>3+2牌>小顺>花牌
    输出调试文本 (相加 (“对方出的全局出牌:”, 到文本 (全局出牌)))
    .如果 (等于 (全局出牌, 1)) ' 对方出牌小顺
        .如果真 (等于 (牌型 [1], 2)) ' 自己出牌小顺
            .如果真 (大于 (相加牌值 (已出牌子 [1], 已出牌子 [2], 已出牌子 [3], 已出牌子 [4], 已出牌子 [5]), 相加牌值 (已选择牌子 [1], 已选择牌子 [2], 已选择牌子 [3], 已选择牌子 [4], 已选择牌子 [5])))
                鸣叫 ()
                0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                返回 ()
            .如果真结束
            
            赋值 (全局出牌, 1)
        .如果真结束
        .如果真 (等于 (牌型 [1], 3)) ' 自己出牌小顺
            赋值 (全局出牌, 2) ' 如果是大顺，因大顺比任何大的小顺大，所以不用判断大小。
        .如果真结束
        .如果真 (等于 (牌型 [2], 2)) ' 3+2牌
             ' 3+2牌比任何大的小顺大，所以不用判断大小。
            赋值 (全局出牌, 4)
        .如果真结束
        .如果真 (等于 (牌型 [3], 2)) ' 4+2牌
             ' 4+1牌比任何大的小顺大，所以不用判断大小。
            赋值 (全局出牌, 5)
        .如果真结束
        .如果真 (等于 (牌型 [4], 2)) ' 花式牌， 因顺牌比花式牌大。
            鸣叫 ()
            0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
            返回 ()
        .如果真结束
        
    .否则
        .如果 (等于 (全局出牌, 2)) ' 对方出牌大顺
            .如果真 (等于 (牌型 [1], 2)) ' 自己出牌小顺，因为任何小的大顺比任何大的小顺大。
                鸣叫 ()
                0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                返回 ()
            .如果真结束
            .如果真 (等于 (牌型 [1], 3)) ' 自己出牌大顺
                .如果真 (并且 (大于 (相加牌值 (已出牌子 [1], 已出牌子 [2], 已出牌子 [3], 已出牌子 [4], 已出牌子 [5]), 相加牌值 (已选择牌子 [1], 已选择牌子 [2], 已选择牌子 [3], 已选择牌子 [4], 已选择牌子 [5])), 大于 (判断花牌 (已出牌子 [1]), 判断花牌 (已选择牌子 [1]))))
                    鸣叫 ()
                    0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                    返回 ()
                .如果真结束
                赋值 (全局出牌, 2)
                
            .如果真结束
            
             ' 大顺是五张牌中最大的牌
            .如果真 (等于 (牌型 [2], 2)) ' 3+2牌
                鸣叫 ()
                0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                返回 ()
            .如果真结束
            .如果真 (等于 (牌型 [3], 2)) ' 4+1牌
                鸣叫 ()
                0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                返回 ()
            .如果真结束
            .如果真 (等于 (牌型 [4], 2)) ' 花式牌
                鸣叫 ()
                0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                返回 ()
            .如果真结束
            
        .否则
            .如果 (等于 (全局出牌, 3)) ' 对方出花牌
                 ' 5张牌子大小比：大顺>4+1牌>3+2牌>小顺>花牌
                .如果真 (等于 (牌型 [1], 2)) ' 小顺
                    赋值 (全局出牌, 1)
                .如果真结束
                .如果真 (等于 (牌型 [1], 2)) ' 大顺
                    赋值 (全局出牌, 2)
                .如果真结束
                .如果真 (等于 (牌型 [2], 2)) ' 3+2牌
                    赋值 (全局出牌, 4)
                .如果真结束
                .如果真 (等于 (牌型 [3], 2)) ' 4+1牌
                    赋值 (全局出牌, 5)
                .如果真结束
                .如果真 (等于 (牌型 [4], 2)) ' 花式牌
                    .如果真 (大于 (判断花牌 (已出牌子 [1]), 判断花牌 (已选择牌子 [1])))
                        鸣叫 ()
                        0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                        返回 ()
                        
                    .如果真结束
                    
                    赋值 (全局出牌, 3)
                .如果真结束
                
            .否则
                .如果 (等于 (全局出牌, 4)) ' 对方出3+2牌
                     ' 5张牌子大小比：大顺>4+1牌>3+2牌>小顺>花牌
                    .如果真 (等于 (牌型 [1], 2)) ' 自己出牌小顺
                        鸣叫 ()
                        0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                        返回 ()
                    .如果真结束
                    .如果真 (等于 (牌型 [2], 2)) ' 3+2牌
                        .如果真 (大于 (相加牌值1 (), 相加牌值 (临时牌值 [1], 临时牌值 [2], 临时牌值 [3], , )))
                            鸣叫 ()
                            0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                            返回 ()
                        .如果真结束
                        赋值 (全局出牌, 4)
                    .如果真结束
                    .如果真 (等于 (牌型 [3], 2)) ' 4+1牌
                        .如果真 (大于 (相加牌值2 (), 相加牌值 (临时牌值 [1], 临时牌值 [2], 临时牌值 [3], 临时牌值 [4], )))
                            鸣叫 ()
                            0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                            返回 ()
                        .如果真结束
                        赋值 (全局出牌, 5)
                    .如果真结束
                    .如果真 (等于 (牌型 [4], 2)) ' 花式牌
                        鸣叫 ()
                        0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                        返回 ()
                    .如果真结束
                    
                .否则
                    .如果真 (等于 (全局出牌, 5)) ' 对方出4+1牌
                         ' 5张牌子大小比：大顺>4+1牌>3+2牌>小顺>花牌
                        .如果真 (等于 (牌型 [1], 2)) ' 自己出牌小顺
                            鸣叫 ()
                            0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                            返回 ()
                        .如果真结束
                        .如果真 (等于 (牌型 [1], 3)) ' 大顺
                            赋值 (全局出牌, 2)
                        .如果真结束
                        .如果真 (等于 (牌型 [2], 2)) ' 3+2牌
                            鸣叫 ()
                            0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                            返回 ()
                        .如果真结束
                        .如果真 (等于 (牌型 [3], 2)) ' 4+1牌
                            .如果真 (大于 (相加牌值2 (), 相加牌值 (临时牌值 [i], 临时牌值 [相加 (i, 1)], 临时牌值 [相加 (i, 2)], 临时牌值 [相加 (i, 3)], )))
                                鸣叫 ()
                                0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                                返回 ()
                            .如果真结束
                            赋值 (全局出牌, 5)
                        .如果真结束
                        .如果真 (等于 (牌型 [4], 2)) ' 花式牌
                            鸣叫 ()
                            0.置文本 (“打出的牌子太小!详细请看游戏规则。”)
                            返回 ()
                        .如果真结束
                        
                    .如果真结束
                    
                .如果结束
                
            .如果结束
            
        .如果结束
        
        
    .如果结束
    
    
    
    重定义数组 (已出牌子, 假, 5)
    赋值 (已出牌子 [1], 已选择牌子 [1])
    赋值 (已出牌子 [2], 已选择牌子 [2])
    赋值 (已出牌子 [3], 已选择牌子 [3])
    赋值 (已出牌子 [4], 已选择牌子 [4])
    赋值 (已出牌子 [5], 已选择牌子 [5])
    
.如果真结束

.计次循环首 (8, i) ' 打出的牌子将删去，并在显牌画板显示打出的牌子。
    .如果真 (等于 (出牌组 [i], 1))
        赋值 (复制牌A [i], 可视, 假)
        显示牌子 ()
    .如果真结束
    
.计次循环尾 ()

清除数组 (已选择牌子)
重定义数组 (出牌组, 假, 8)
.计次循环首 (8, i)
    .如果 (等于 (复制牌A [i], 可视, 假))
        赋值 (谁赢了, 1)
    .否则
        赋值 (谁赢了, 0)
        跳出循环 ()
    .如果结束
    
.计次循环尾 ()

无牌子 (真)
赋值 (到谁出牌, 2)
赋值 (.时钟周期, 游戏速度)
赋值 (.禁止, 真)
输出调试文本 (相加 (“自己已出牌”, 到文本 (取数组成员数 (已出牌子))))
输出调试文本 (相加 (“自己出的全局出牌:”, 到文本 (全局出牌)))
输出调试文本 (“---------------------------------------”)


.子程序 显示牌子, 空白型, , 
.局部变量 i, 整数型, , , 
.局部变量 牌数, 整数型, , , 
.局部变量 距离, 整数型, , , 

.清除 ()
赋值 (牌数, 取数组成员数 (已选择牌子))
.如果真 (等于 (牌数, 1))
    赋值 (距离, 相乘 (71, 2))
.如果真结束
.如果真 (等于 (牌数, 2))
    赋值 (距离, 107)
.如果真结束
.如果真 (等于 (牌数, 3))
    赋值 (距离, 71)
.如果真结束
.如果真 (等于 (牌数, 4))
    赋值 (距离, 36)
.如果真结束
.计次循环首 (牌数, i)
    载入图片 (图片组 [已选择牌子] [i]).画图片 (相加 (相减 (相乘 (71, i), 71), 距离), 50, , , )
.计次循环尾 ()


.子程序 判断花牌, 整数型, , 
.参数 牌值, 整数型, , 

.局部变量 余数, 整数型, , , 

 ' 牌段1-4 5-8 9-12 13-16 17-20 21-24 25-28 29-32 33-36 37-40 41-44 45-48 49-52
 ' 牌值1234
 ' 余数0123
赋值 (余数, 求余数 (牌值, 4))
返回 (余数)

.子程序 判断牌段, 整数型, , 
.参数 牌值, 整数型, , 

.局部变量 i, 整数型, , , 

 ' 牌段1-4 5-8 9-12 13-16 17-20 21-24 25-28 29-32 33-36 37-40 41-44 45-48 49-52
 ' 牌子4 5 6 7 8 9 10 J Q K A 2 3
 ' 对牌4 8 12 16 20 24 28 32 36 40 44 48 52

.变量循环首 (4, 52, 4, i)
    .如果真 (并且 (大于或等于 (牌值, 相减 (i, 3)), 小于或等于 (牌值, i)))
        .如果真 (等于 (i, 4))
            返回 (4)
        .如果真结束
        .如果真 (等于 (i, 8))
            返回 (5)
        .如果真结束
        .如果真 (等于 (i, 12))
            返回 (6)
        .如果真结束
        .如果真 (等于 (i, 16))
            返回 (7)
        .如果真结束
        .如果真 (等于 (i, 20))
            返回 (8)
        .如果真结束
        .如果真 (等于 (i, 24))
            返回 (9)
        .如果真结束
        .如果真 (等于 (i, 28))
            返回 (10)
        .如果真结束
        .如果真 (等于 (i, 32))
            返回 (11)
        .如果真结束
        .如果真 (等于 (i, 36))
            返回 (12)
        .如果真结束
        .如果真 (等于 (i, 40))
            返回 (13)
        .如果真结束
        .如果真 (等于 (i, 44))
            返回 (1)
        .如果真结束
        .如果真 (等于 (i, 48))
            返回 (2)
        .如果真结束
        .如果真 (等于 (i, 52))
            返回 (3)
        .如果真结束
        
    .如果真结束
    
.变量循环尾 ()
返回 (0)


.子程序 判断牌值, 整数型, , 
.参数 牌值, 整数型, , 

.局部变量 i, 整数型, , , 

 ' 牌段1 2-3 4 5-6 7-8  9-10 11-12 13-14 15-16 17-18 19-20 21-22 23-24 25-26 27-28 29-30 31-32
 ' 牌子4 5 6 7 8 9 10 J Q K A 2 3
 ' 对牌4 8 12 16 20 24 28 32 36 40 44 48 52

.变量循环首 (4, 32, 2, i)
    .如果真 (并且 (大于或等于 (牌值, 相减 (i, 2)), 小于或等于 (牌值, i)))
        .如果真 (等于 (i, 4))
            返回 (1)
        .如果真结束
        .如果真 (等于 (i, 8))
            返回 (2)
        .如果真结束
        .如果真 (等于 (i, 12))
            返回 (3)
        .如果真结束
        .如果真 (等于 (i, 16))
            返回 (4)
        .如果真结束
        .如果真 (等于 (i, 20))
            返回 (5)
        .如果真结束
        .如果真 (等于 (i, 24))
            返回 (6)
        .如果真结束
        .如果真 (等于 (i, 28))
            返回 (7)
        .如果真结束
        .如果真 (等于 (i, 32))
            返回 (8)
        .如果真结束
        .如果真 (等于 (i, 36))
            返回 (9)
        .如果真结束
        .如果真 (等于 (i, 40))
            返回 (10)
        .如果真结束
        .如果真 (等于 (i, 44))
            返回 (11)
        .如果真结束
        .如果真 (等于 (i, 48))
            返回 (12)
        .如果真结束
        .如果真 (等于 (i, 52))
            返回 (13)
        .如果真结束
        
    .如果真结束
    
.变量循环尾 ()
返回 (0)

.子程序 相加牌值, 整数型, , 
.参数 牌值1, 整数型, 可空, 
.参数 牌值2, 整数型, 可空, 
.参数 牌值3, 整数型, 可空, 
.参数 牌值4, 整数型, 可空, 
.参数 牌值5, 整数型, 可空, 

.局部变量 返回值, 整数型, , , 

赋值 (返回值, 相加 (判断牌值 (牌值1), 判断牌值 (牌值2), 判断牌值 (牌值3), 判断牌值 (牌值4), 判断牌值 (牌值5)))
返回 (返回值)

.子程序 相加牌值1, 整数型, , 找出3张相同的牌值
.局部变量 牌值, 整数型, , "13", 
.局部变量 i, 整数型, , , 
.局部变量 临时牌值, 整数型, , "0", 
.局部变量 返回值, 整数型, , , 
.局部变量 值, 整数型, , , 

重定义数组 (牌值, 假, 13)

.计次循环首 (5, i)
    赋值 (牌值 [判断牌段 (已出牌子 [i])], 相加 (牌值 [判断牌段 (已出牌子 [i])], 1))
.计次循环尾 ()
清除数组 (临时牌值)
.计次循环首 (5, i)
    赋值 (值, 判断牌段 (已出牌子 [i]))
    .如果真 (等于 (牌值 [值], 3))
        加入成员 (临时牌值, 已出牌子 [i])
    .如果真结束
    
.计次循环尾 ()
.如果真 (不等于 (取数组成员数 (临时牌值), 0))
    .计次循环首 (3, i)
        赋值 (返回值, 相加 (返回值, 判断牌值 (临时牌值 [i])))
    .计次循环尾 ()
    返回 (返回值)
    
.如果真结束

返回 (0)

.子程序 相加牌值2, 整数型, , 找出4张相同的牌值
.局部变量 牌值, 整数型, , "13", 
.局部变量 i, 整数型, , , 
.局部变量 临时牌值, 整数型, , "0", 
.局部变量 返回值, 整数型, , , 
.局部变量 值, 整数型, , , 

重定义数组 (牌值, 假, 13)

.计次循环首 (5, i)
    赋值 (牌值 [判断牌段 (已出牌子 [i])], 相加 (牌值 [判断牌段 (已出牌子 [i])], 1))
.计次循环尾 ()
清除数组 (临时牌值)
.计次循环首 (5, i)
    赋值 (值, 判断牌段 (已出牌子 [i]))
    .如果真 (等于 (牌值 [值], 4))
        加入成员 (临时牌值, 已出牌子 [i])
    .如果真结束
    
.计次循环尾 ()
.如果真 (不等于 (取数组成员数 (临时牌值), 0))
    .计次循环首 (4, i)
        赋值 (返回值, 相加 (返回值, 判断牌值 (临时牌值 [i])))
    .计次循环尾 ()
    返回 (返回值)
    
.如果真结束

返回 (0)


.子程序 _时钟1_周期事件, 空白型, , 
.如果真 (判断输赢 ())
    返回 ()
.如果真结束
.如果真 (等于 (到谁出牌, 1))
    鸣叫 ()
    赋值 (.禁止, 假)
    _启动窗口.置文本 (., 0, “现在到自己出牌了!”)
    赋值 (.时钟周期, 0)
    
.如果真结束
启动机器人 ()

赋值 (.内容, 透明标)

 ' 本源码来自易语言资源网(www.5A5X.com)

.子程序 判断输赢, 逻辑型, , 
.如果真 (等于 (谁赢了, 1))
    赋值 (.禁止, 假)
    赋值 (.禁止, 假)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.时钟周期, 0)
    赋值 (全局输赢 [1], 相加 (全局输赢 [1], 1))
    赋值 (全局输赢 [5], 相加 (全局输赢 [5], 1))
    信息框 (“恭喜!你赢了!”, 64, )
    返回 (真)
.如果真结束
.如果真 (等于 (谁赢了, 2))
    赋值 (.禁止, 假)
    赋值 (.禁止, 假)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.时钟周期, 0)
    赋值 (全局输赢 [2], 相加 (全局输赢 [2], 1))
    赋值 (全局输赢 [5], 相加 (全局输赢 [5], 1))
    信息框 (“恭喜东东赢了!”, 64, )
    返回 (真)
.如果真结束
.如果真 (等于 (谁赢了, 3))
    赋值 (.禁止, 假)
    赋值 (.禁止, 假)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.时钟周期, 0)
    赋值 (全局输赢 [3], 相加 (全局输赢 [3], 1))
    赋值 (全局输赢 [5], 相加 (全局输赢 [5], 1))
    信息框 (“恭喜北北赢了!”, 64, )
    返回 (真)
.如果真结束
.如果真 (等于 (谁赢了, 4))
    赋值 (.禁止, 假)
    赋值 (.禁止, 假)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    赋值 (.时钟周期, 0)
    赋值 (全局输赢 [4], 相加 (全局输赢 [4], 1))
    赋值 (全局输赢 [5], 相加 (全局输赢 [5], 1))
    信息框 (“恭喜西西赢了!”, 64, )
    返回 (真)
    
.如果真结束
返回 (假)

.子程序 _按钮2_被单击, 空白型, , 
赋值 (.时钟周期, 游戏速度)
赋值 (到谁出牌, 2)
无牌子 (假)
赋值 (.禁止, 真)


.子程序 _按钮3_被单击, 空白型, , 
.如果真 (等于 (信息框 (“是否放弃本局?”, 相加 (#询问图标, #是否钮), “询问”), #是钮))
    赋值 (.标题, “开始 &S”)
    0.置文本 (“”)
    赋值 (.禁止, 真)
    赋值 (.禁止, 真)
    重定义数组 (临时牌号, 假, 52)
    重定义数组 (出牌组, 假, 13)
    清除数组 (已出牌子)
    清除数组 (已选择牌子)
    清除数组 (A牌号)
    清除数组 (B牌号)
    清除数组 (C牌号)
    清除数组 (D牌号)
    赋值 (.时钟周期, 0)
    赋值 (无牌, 0)
    赋值 (到谁出牌, 0)
    赋值 (谁赢了, 0)
    赋值 (全局出牌, 0)
    赋值 (.可视, 真)
    .清除 ()
    初始化牌子 ()
    赋值 (.禁止, 假)
    赋值 (.禁止, 真)
.如果真结束


.子程序 _开局_被选择, 空白型, , 
_按钮1_被单击 ()


.子程序 _重新开局_被选择, 空白型, , 
_按钮3_被单击 ()

.子程序 _设置_被选择, 空白型, , 
载入 (设置窗口, , 真)

.子程序 _退出_被选择, 空白型, , 
销毁 ()

.子程序 _打开帮助_被选择, 空白型, , 
.如果 (文件是否存在 (相加 (取运行目录 (), “\新扑克牌图片\帮助.htm”)))
    未知支持库函数_6 (相加 (取运行目录 (), “\新扑克牌图片\帮助.htm”), , )
.否则
    信息框 (相加 (取运行目录 (), “\新扑克牌图片\帮助.htm”, #换行符, “对不起,找不到帮助文件!”), 0, )
.如果结束


.子程序 _关于_被选择, 空白型, , 
载入 (关于窗口, , 真)



.子程序 判断类型, 整数型, , 
.参数 牌值, 整数型, , 

.局部变量 i, 整数型, , , 

 ' 牌段1-10 11-32
 ' 本源码来自易语言资源网(www.5A5X.com)

.如果真 (小于或等于 (牌值, 10))
    返回 (1)
.如果真结束
.如果真 (并且 (大于或等于 (牌值, 11), 小于或等于 (牌值, 32)))
    返回 (2)
.如果真结束

返回 (0)


.程序集 人工智能集1, , , 

.程序集变量 牌子, 整数型, , "0", 
.子程序 启动机器人, 空白型, , 
.局部变量 出牌, 逻辑型, , , 
.局部变量 i, 整数型, , , 

 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--


 ' 谁打了牌
 ' 到谁打牌
 ' 判断牌数
 ' 寻找牌子
 ' 判断是否有可以打出的牌
.如果真 (等于 (到谁出牌, 4))
    复制数组 (牌子, D牌号)
    鸣叫 ()
    _启动窗口.置文本 (., 0, “现在到西西出牌了!”)
    延时 (500)
    .如果 (等于 (无牌, 3))
        赋值 (全局出牌, 3)
        赋值 (出牌, 假)
        .变量循环首 (5, 1, -1, i)
            输出调试文本 (i)
            .如果真 (等于 (出牌 (“西西无牌可出!!”, i), 真))
                赋值 (出牌, 真)
                跳出循环 ()
            .如果真结束
             ' 本源码来自易语言资源网(www.5A5X.com)
        .变量循环尾 ()
        .如果 (等于 (出牌, 假))
            无牌子 (假)
        .否则
            无牌子 (真)
        .如果结束
        
    .否则
        .如果 (等于 (出牌 (“西西无牌可出!!”, ), 假))
            无牌子 (假)
        .否则
            无牌子 (真)
        .如果结束
         ' 本源码来自易语言资源网(www.5A5X.com)
    .如果结束
    复制数组 (D牌号, 牌子)
    .如果真 (等于 (取数组成员数 (D牌号), 0))
        赋值 (谁赢了, 4)
    .如果真结束
    延时 (500)
    赋值 (到谁出牌, 1)
    _启动窗口.置文本 (., 0, “现在到自己出牌了!”)
    
.如果真结束


.如果真 (等于 (到谁出牌, 3))
    复制数组 (牌子, C牌号)
    鸣叫 ()
    _启动窗口.置文本 (., 0, “现在到北北出牌了!”)
    延时 (500)
    .如果 (等于 (无牌, 3))
        赋值 (全局出牌, 3)
        赋值 (出牌, 假)
        .变量循环首 (5, 1, -1, i)
            .如果真 (等于 (出牌 (“北北无牌可出!!”, i), 真))
                赋值 (出牌, 真)
                跳出循环 ()
            .如果真结束
             ' 本源码来自易语言资源网(www.5A5X.com)
        .变量循环尾 ()
        .如果 (等于 (出牌, 假))
            无牌子 (假)
        .否则
            无牌子 (真)
        .如果结束
        
    .否则
        .如果 (等于 (出牌 (“北北无牌可出!!”, ), 假))
            无牌子 (假)
        .否则
            无牌子 (真)
        .如果结束
        
    .如果结束
    
    复制数组 (C牌号, 牌子)
    .如果真 (等于 (取数组成员数 (C牌号), 0))
        赋值 (谁赢了, 3)
    .如果真结束
    延时 (500)
    赋值 (到谁出牌, 4)
    
.如果真结束


.如果真 (等于 (到谁出牌, 2))
    鸣叫 ()
    _启动窗口.置文本 (., 0, “现在到东东出牌了!”)
    复制数组 (牌子, B牌号)
    延时 (500)
    .如果 (等于 (无牌, 3))
        赋值 (全局出牌, 3)
        赋值 (出牌, 假)
        .变量循环首 (5, 1, -1, i)
            .如果真 (等于 (出牌 (“东东无牌可出!!”, i), 真))
                赋值 (出牌, 真)
                跳出循环 ()
            .如果真结束
            
        .变量循环尾 ()
        .如果 (等于 (出牌, 假))
            无牌子 (假)
        .否则
            无牌子 (真)
        .如果结束
         ' 本源码来自易语言资源网(www.5A5X.com)
    .否则
        .如果 (等于 (出牌 (“东东无牌可出!!”, ), 假))
            无牌子 (假)
        .否则
            无牌子 (真)
        .如果结束
        
    .如果结束
    
    复制数组 (B牌号, 牌子)
    .如果真 (等于 (取数组成员数 (B牌号), 0))
        赋值 (谁赢了, 2)
    .如果真结束
    延时 (500)
    赋值 (到谁出牌, 3)
    
.如果真结束


.子程序 无牌子, 空白型, , 
.参数 参数, 逻辑型, , 

.局部变量 i, 整数型, , , 

.如果 (等于 (参数, 真))
    赋值 (无牌, 0)
.否则
    赋值 (无牌, 相加 (无牌, 1))
    .如果真 (大于 (无牌, 3))
        赋值 (无牌, 3)
        
    .如果真结束
    输出调试文本 (相加 (“无牌数:”, 到文本 (无牌)))
    
.如果结束


.子程序 出牌, 逻辑型, , 
.参数 提示信息, 文本型, , 
.参数 牌数, 整数型, 可空, 

.局部变量 判断牌值, 整数型, , "8", 
.局部变量 牌值1张, 整数型, , "0", 
.局部变量 牌值2张, 整数型, , "0", 
.局部变量 牌值3张, 整数型, , "0", 
.局部变量 牌值4张, 整数型, , "0", 
.局部变量 已出牌数, 整数型, , , 
.局部变量 i, 整数型, , , 
.局部变量 值, 整数型, , , 
.局部变量 牌值, 整数型, , "5", 
.局部变量 是否有牌可出, 逻辑型, , , 
.局部变量 牌类, 整数型, , "5", 
.局部变量 临时牌, 整数型, , "0", 
.局部变量 n, 整数型, , , 
.局部变量 K, 整数型, , , 
.局部变量 已选择牌子, 整数型, , "5", 

 ' 4+1
 ' 3+2
 ' 大小顺
 ' 花牌
 ' 4
 ' 3
 ' 2
 ' 1
置随机数种子 ()
重定义数组 (判断牌值, 假, 13)
重定义数组 (已选择牌子, 假, 13)
清除数组 (牌值1张)
清除数组 (牌值2张)
清除数组 (牌值3张)
清除数组 (牌值4张)
.计次循环首 (取数组成员数 (牌子), i)
    赋值 (判断牌值 [判断牌段 (牌子 [i])], 相加 (判断牌值 [判断牌段 (牌子 [i])], 1))
.计次循环尾 ()
.计次循环首 (取数组成员数 (牌子), i)
    赋值 (值, 判断牌段 (牌子 [i]))
    .如果真 (等于 (判断牌值 [值], 1))
        加入成员 (牌值1张, 牌子 [i])
    .如果真结束
    .如果真 (等于 (判断牌值 [值], 2))
        加入成员 (牌值2张, 牌子 [i])
    .如果真结束
    .如果真 (等于 (判断牌值 [值], 3))
        加入成员 (牌值3张, 牌子 [i])
    .如果真结束
    .如果真 (等于 (判断牌值 [值], 4))
        加入成员 (牌值4张, 牌子 [i])
    .如果真结束
     ' 本源码来自易语言资源网(www.5A5X.com)
.计次循环尾 ()

赋值 (已出牌数, 取数组成员数 (已出牌子))
.如果真 (等于 (无牌, 3))
    .如果真 (并且 (大于或等于 (取数组成员数 (牌值1张), 1), 等于 (牌数, 1)))
        赋值 (已出牌数, 1)
    .如果真结束
    .如果真 (并且 (大于或等于 (取数组成员数 (牌值2张), 2), 等于 (牌数, 2)))
        赋值 (已出牌数, 2)
    .如果真结束
    .如果真 (并且 (大于或等于 (取数组成员数 (牌值3张), 3), 等于 (牌数, 3)))
        赋值 (已出牌数, 3)
    .如果真结束
    .如果 (并且 (大于或等于 (取数组成员数 (牌值3张), 3), 大于或等于 (取数组成员数 (牌值2张), 2), 等于 (牌数, 5)))
        赋值 (已出牌数, 5)
    .否则
        .如果 (并且 (大于或等于 (取数组成员数 (牌值4张), 4), 大于或等于 (取数组成员数 (牌值1张), 1), 等于 (牌数, 5)))
            赋值 (已出牌数, 5)
        .否则
            .如果真 (并且 (大于或等于 (取数组成员数 (牌值1张), 5), 等于 (牌数, 5)))
                赋值 (已出牌数, 5)
            .如果真结束
            
        .如果结束
        
    .如果结束
    
    重定义数组 (已出牌子, 假, 已出牌数)
    输出调试文本 (相加 (“机器人出牌数:”, 到文本 (已出牌数)))
    
.如果真结束
赋值 (是否有牌可出, 假)
.如果真 (等于 (已出牌数, 1))
    数组排序 (牌值1张, 真)
    .计次循环首 (取数组成员数 (牌值1张), i)
        .如果 (并且 (小于 (已出牌子 [1], 牌值1张 [i]), 等于 (判断类型 (已出牌子 [1]), 判断类型 (牌值1张 [i]))))
            赋值 (是否有牌可出, 真)
            赋值 (已选择牌子 [1], 牌值1张 [i])
            跳出循环 ()
        .否则
            赋值 (是否有牌可出, 假)
        .如果结束
        
         ' 本源码来自易语言资源网(www.5A5X.com)
    .计次循环尾 ()
.如果真结束



.如果真 (等于 (是否有牌可出, 真))
    重定义数组 (已出牌子, 假, 已出牌数)
    .计次循环首 (已出牌数, i)
        赋值 (已出牌子 [i], 已选择牌子 [i])
        
    .计次循环尾 ()
    赋值 (透明标, 字号1 [已出牌子] [1])
.如果真结束

.如果 (等于 (是否有牌可出, 真))
    显示牌子 (已出牌子)
    .计次循环首 (已出牌数, i)
        删除牌子 (已出牌子 [i])
    .计次循环尾 ()
.否则
    返回 (假)
.如果结束

输出调试文本 (相加 (“机器人已出牌”, 到文本 (取数组成员数 (已出牌子))))
输出调试文本 (相加 (“机器人出的全局出牌:”, 到文本 (全局出牌)))
输出调试文本 (“---------------------------------------”)
 ' 本源码来自易语言资源网(www.5A5X.com)
返回 (真)

.子程序 删除牌子, 空白型, , 
.参数 牌值, 整数型, , 

.局部变量 i, 整数型, , , 

.计次循环首 (取数组成员数 (牌子), i)
    .如果真 (等于 (牌子 [i], 牌值))
        删除成员 (牌子, i, 1)
        跳出循环 ()
    .如果真结束
     ' 本源码来自易语言资源网(www.5A5X.com)
.计次循环尾 ()

.子程序 显示牌子, 空白型, , 
.参数 已出牌, 整数型, 数组, 

.局部变量 i, 整数型, , , 
.局部变量 已出牌数, 整数型, , , 
.局部变量 距离, 整数型, , , 
.局部变量 n, 整数型, , , 
.局部变量 L, 整数型, , , 

_启动窗口.清除 (., , , , )
赋值 (已出牌数, 取数组成员数 (已出牌))
.如果真 (等于 (已出牌数, 1))
    赋值 (距离, 相乘 (71, 2))
.如果真结束
.如果真 (等于 (已出牌数, 2))
    赋值 (距离, 107)
.如果真结束
.如果真 (等于 (已出牌数, 3))
    赋值 (距离, 71)
.如果真结束
.如果真 (等于 (已出牌数, 4))
    赋值 (距离, 36)
.如果真结束
 ' 本源码来自易语言资源网(www.5A5X.com)
.计次循环首 (已出牌数, i)
    .计次循环首 (取数组成员数 (牌子), n)
        .如果真 (等于 (牌子 [n], 已出牌 [i]))
            .计次循环首 (13, L)
                .如果真 (并且 (等于 (到谁出牌, 2), 等于 (复制牌B [L], 可视, 真)))
                    赋值 (复制牌B [L], 可视, 假)
                    跳出循环 ()
                .如果真结束
                .如果真 (并且 (等于 (到谁出牌, 3), 等于 (复制牌C [L], 可视, 真)))
                    赋值 (复制牌C [L], 可视, 假)
                    跳出循环 ()
                .如果真结束
                .如果真 (并且 (等于 (到谁出牌, 4), 等于 (复制牌D [L], 可视, 真)))
                    赋值 (复制牌D [L], 可视, 假)
                    跳出循环 ()
                .如果真结束
                
            .计次循环尾 ()
            _启动窗口.画图片 (., 载入图片 (图片组 [牌子] [n]), 相加 (相减 (相乘 (71, i), 71), 距离), 50, , , )
            
        .如果真结束
        ' 本源码来自易语言资源网(www.5A5X.com)
    .计次循环尾 ()
.计次循环尾 ()



.窗口程序集 窗口程序集2, , , 

.子程序 _按钮1_被单击, 空白型, , 
.局部变量 值, 整数型, , , 
.局部变量 i, 整数型, , , 

 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--


.如果真 (等于 (.选中, 真))
    写配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “牌号排列”, “0”)
.如果真结束
.如果真 (等于 (.选中, 真))
    写配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “牌号排列”, “1”)
.如果真结束
.如果真 (等于 (.选中, 真))
    写配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “牌号排列”, “2”)
.如果真结束
.如果真 (等于 (.选中, 真))
    写配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “游戏速度”, “0”)
.如果真结束
.如果真 (等于 (.选中, 真))
    写配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “游戏速度”, “1”)
.如果真结束
.如果真 (等于 (.选中, 真))
    写配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “游戏速度”, “2”)
.如果真结束
 ' 本源码来自易语言资源网(www.5A5X.com)
赋值 (牌号排列, 到数值 (读配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “牌号排列”, “0”)))
.如果真 (不等于 (牌号排列, 0)) ' 为零不排列
    .如果 (等于 (牌号排列, 1))
        数组排序 (A牌号, 真) ' 从小到大
    .否则
        数组排序 (A牌号, 假) ' 从大到小
    .如果结束
    .计次循环首 (13, i)
        处理事件 ()
        赋值 (复制牌A [i], 底图, 图片组 [A牌号] [i])
    .计次循环尾 ()
.如果真结束
 ' 本源码来自易语言资源网(www.5A5X.com)
赋值 (值, 到数值 (读配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “游戏速度”, “0”)))
.如果真 (等于 (值, 0))
    赋值 (游戏速度, 2000)
.如果真结束
.如果真 (等于 (值, 1))
    赋值 (游戏速度, 4000)
.如果真结束
.如果真 (等于 (值, 2))
    赋值 (游戏速度, 100)
.如果真结束
.如果真 (小于 (游戏速度, 0))
    赋值 (游戏速度, 2000)
.如果真结束
.如果真 (并且 (等于 (谁赢了, 0), 不等于 (_启动窗口..时钟周期, 0)))
    赋值 (_启动窗口..时钟周期, 游戏速度)
    
.如果真结束
 ' 本源码来自易语言资源网(www.5A5X.com)
销毁 ()

.子程序 _按钮2_被单击, 空白型, , 
销毁 ()

.子程序 _设置窗口_创建完毕, 空白型, , 
.局部变量 i, 整数型, , , 

赋值 (i, 到数值 (读配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “牌号排列”, “0”)))
.如果真 (等于 (i, 0))
    赋值 (.选中, 真)
.如果真结束
.如果真 (等于 (i, 1))
    赋值 (.选中, 真)
.如果真结束
.如果真 (等于 (i, 2))
    赋值 (.选中, 真)
.如果真结束
 ' 本源码来自易语言资源网(www.5A5X.com)
赋值 (i, 到数值 (读配置项 (相加 (取运行目录 (), “\游戏配置.ini”), “游戏配置”, “游戏速度”, “0”)))
.如果真 (等于 (i, 0))
    赋值 (.选中, 真)
.如果真结束
.如果真 (等于 (i, 1))
    赋值 (.选中, 真)
.如果真结束
.如果真 (等于 (i, 2))
    赋值 (.选中, 真)
.如果真结束
 ' 本源码来自易语言资源网(www.5A5X.com)
.计次循环首 (4, i)
    赋值 ( [胜标签 (i)].标题, 到文本 (全局输赢 [i]))
    赋值 ( [负标签 (i)].标题, 到文本 (相减 (全局输赢 [5], 全局输赢 [i])))
.计次循环尾 ()

.子程序 胜标签, 标签, , 
.参数 值, 整数型, , 

.局部变量 返回标签, 标签, , , 

赋值 (返回标签, 多项选择 (值, , , , , , , , ))
返回 (返回标签)

.子程序 负标签, 标签, , 
.参数 值, 整数型, , 

.局部变量 返回标签, 标签, , , 

赋值 (返回标签, 多项选择 (值, , , , ))
返回 (返回标签)
' 本源码来自易语言资源网(www.5A5X.com)

.窗口程序集 窗口程序集3, , , 

.子程序 _关于窗口_创建完毕, 空白型, , 
赋值 (关于窗口., 图片组 [58])
赋值 (.底图, 图片组 [56])
' 本源码来自易语言资源网(www.5A5X.com)

.子程序 _按钮1_被单击, 空白型, , 
销毁 ()



 ' 不属于任何一个程序集、类模块的函数：
