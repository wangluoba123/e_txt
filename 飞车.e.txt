 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 300
    高度 = 430
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = 0 '  0x0
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 已保存到：D:\易语言学习\Data\飞车.e\_启动窗口_图标.ico
    背景音乐 =  ' 空
    标题 = “傻子飞车　----  by klince”
    帮助文件名 = “”

窗口 设置窗口
    左边 = 50
    顶边 = 50
    宽度 = 300
    高度 = 406
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = 15527148 '  0xECECEC
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “游戏设置”
    帮助文件名 = “”





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库
 ' EdirectX 81690053A86045bf9E362F5DE0BC4095 1 5 DirectX支持库
 ' iext 27bb20fdd3e145e4bee3db39ddd6e64c 1 2 扩展界面支持库一




.全局变量 系统屏幕, 未知类型0x20007, , , 
.全局变量 音乐序号, 整数型, , , 

.类模块 背景类, , , 

.程序集变量 背景图, 未知类型0x2000B, , , 
.程序集变量 位置X, 整数型, , , 窗口左上定点所在图片的X坐标
.程序集变量 位移, 小数型, , , 总共窗口的位置变化
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 创建, 逻辑型, 公开, 
.局部变量 返回值, 逻辑型, , , 

.如果 (等于 (_启动窗口., 真))
    赋值 (返回值, 背景图.未知支持库函数_111 (系统屏幕, “pic\jl.jpg”, #.))
    
    .如果 (等于 (返回值, 假))
        返回 (假)
    .否则
        
    .如果结束
    赋值 (位置X, 50)
    赋值 (位移, 0)
    
.否则
    赋值 (返回值, 背景图.未知支持库函数_111 (系统屏幕, 相加 (“pic\sd”, 到文本 (_启动窗口.), “.jpg”), #.))
    
    .如果 (等于 (返回值, 假))
        返回 (假)
    .否则
        
    .如果结束
    赋值 (位置X, 0)
    赋值 (位移, 0)
    
.如果结束

返回 (真)


.子程序 背景运动, 空白型, 公开, 
赋值 (位移, 相加 (位移, 0.5))


.子程序 画背景, 逻辑型, 公开, 
.参数 目的页面, 未知类型0x2000B, , 

.局部变量 窗口宽度, 整数型, , , 
.局部变量 窗口高度, 整数型, , , 
.局部变量 背景图宽度, 整数型, , , 
.局部变量 背景图高度, 整数型, , , 
.局部变量 小位移, 整数型, , , 
.局部变量 计算点Y, 整数型, , , 
.局部变量 源矩形, 未知类型0x2000D, , , 

赋值 (窗口宽度, 目的页面.未知支持库函数_168 ())
赋值 (窗口高度, 目的页面.未知支持库函数_169 ())
赋值 (背景图宽度, 背景图.未知支持库函数_168 ())
赋值 (背景图高度, 背景图.未知支持库函数_169 ())

赋值 (小位移, 求余数 (位移, 背景图高度))
背景图.未知支持库函数_132 (目的页面, 0, 相减 (相加 (窗口高度, 小位移), 背景图高度), )

赋值 (计算点Y, 相减 (相加 (窗口高度, 小位移), 背景图高度))

.判断循环首 (大于 (计算点Y, 0))
    .如果 (大于 (计算点Y, 背景图高度))
        背景图.未知支持库函数_132 (目的页面, 0, 计算点Y, )
        赋值 (计算点Y, 相减 (计算点Y, 背景图高度))
    .否则
        
        赋值 (源矩形., 0)
        赋值 (源矩形., 背景图宽度)
        赋值 (源矩形., 相减 (背景图高度, 计算点Y))
        赋值 (源矩形., 背景图高度)
        背景图.未知支持库函数_132 (目的页面, 0, 0, 源矩形)
        跳出循环 ()
    .如果结束
    
.判断循环尾 ()

返回 (真)




.子程序 修改背景图, 空白型, 公开, 
背景图.未知支持库函数_186 (相加 (“pic\sd”, 到文本 (_启动窗口.), “.jpg”))


.窗口程序集 窗口程序集1, , , 

.程序集变量 等级, 整数型, , , 
.程序集变量 MIDI, 未知类型0x20005, , , 
.程序集变量 wav, 未知类型0x20009, , , 
.程序集变量 全局声音, 未知类型0x20008, , , 
.程序集变量 背景, 背景类, , , 
.程序集变量 车, 赛车类, , , 
.程序集变量 障碍车, 障碍车类, , , 
.程序集变量 障碍车组, 障碍车类, , "0", 
.程序集变量 奖励车组, 障碍车类, , "0", 
.程序集变量 奖励车, 障碍车类, , , 
.程序集变量 后台页面, 未知类型0x2000B, , , 
.程序集变量 升级页面, 未知类型0x2000B, , , 
.程序集变量 控制器种类, 整数型, , , 
.程序集变量 得分, 整数型, , , 
.程序集变量 结束, 逻辑型, , , 
.程序集变量 通关, 逻辑型, , , 
.程序集变量 时钟3临时计数器, 整数型, , , 
.程序集变量 通关页面, 未知类型0x2000B, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 
.局部变量 返回值, 逻辑型, , , 

赋值 (等级, 1)
赋值 (得分, 0)
赋值 (结束, 假)
赋值 (通关, 假)
赋值 (返回值, 系统屏幕.未知支持库函数_64 (取窗口句柄 (), ., .))
.如果 (等于 (返回值, 假))
    返回 ()
.否则
    
.如果结束
赋值 (返回值, 背景.创建 ())
.如果 (等于 (返回值, 假))
    返回 ()
.否则
    
.如果结束
赋值 (返回值, 车.创建 (., .))
.如果 (等于 (返回值, 假))
    返回 ()
.否则
    
.如果结束
升级页面.未知支持库函数_111 (系统屏幕, “pic\levelup.bmp”, #.)
升级页面.未知支持库函数_157 ()
车.置等级 (等级)
全局声音.未知支持库函数_213 (取窗口句柄 (), )
赋值 (控制器种类, 0) ' 0 控制器    1 键盘
取窗口句柄 ().未知支持库函数_14 ()
10.未知支持库函数_38 ()


.子程序 __启动窗口_首次激活, 空白型, , 
置随机数种子 ()
赋值 (音乐序号, 取随机数 (1, 2))
载入 (设置窗口, , 真)

背景.修改背景图 () ' 需要加入等级


.子程序 __启动窗口_被激活, 空白型, , 
.如果 (等于 (控制器种类, 0))
    
    假.未知支持库函数_35 (假, 真)
.否则
    假.未知支持库函数_35 (真, 假)
.如果结束

赋值 (.时钟周期, 10)


.子程序 __启动窗口_被取消激活, 空白型, , 
假.未知支持库函数_35 (假, 假)
赋值 (.时钟周期, 0)

.子程序 _时钟1_周期事件, 空白型, , 
.局部变量 临时, 逻辑型, , , 
.局部变量 XX, 整数型, , , 
.局部变量 YY, 整数型, , , 
.局部变量 键状态, 整数型, , , 
.局部变量 数组大小, 整数型, , , 
.局部变量 遍历因子, 整数型, , , 
.局部变量 随机变量, 整数型, , , 

.如果 (等于 (通关, 真))
    后台页面.未知支持库函数_124 (0)
    
    后台页面.未知支持库函数_126 (相减 (相除 (., 2), 50), 相减 (相除 (., 2), 46), 60000, “恭喜你！通关了！”)
    系统屏幕.未知支持库函数_69 (假, 假, 假)
    赋值 (结束, 真)
    赋值 (.时钟周期, 0)
    返回 ()
.否则
    
.如果结束

.如果 (等于 (结束, 真))
    后台页面.未知支持库函数_126 (相减 (相除 (., 2), 43), 相减 (相除 (., 2), 46), #红色, “GAME OVER”)
    系统屏幕.未知支持库函数_69 (假, 假, 假)
    赋值 (.时钟周期, 0)
    返回 ()
.否则
    .如果 (小于 (等级, 3))
        .如果 (并且 (大于或等于 (得分, 2000), 等于 (等级, 1)))
            赋值 (等级, 2)
            MIDI.未知支持库函数_197 ()
            .如果 (等于 (音乐序号, 1))
                赋值 (音乐序号, 2)
            .否则
                赋值 (音乐序号, 1)
            .如果结束
            升级页面.未知支持库函数_134 (后台页面, 47, 90, )
            系统屏幕.未知支持库函数_69 (假, 假, 假)
            MIDI.未知支持库函数_196 (相加 (“sound\”, 到文本 (音乐序号), “.mid”))
            背景.修改背景图 ()
            延时 (1000)
        .否则
            .如果 (并且 (大于或等于 (得分, 6000), 等于 (等级, 2)))
                赋值 (等级, 3)
                MIDI.未知支持库函数_197 ()
                .如果 (等于 (音乐序号, 1))
                    赋值 (音乐序号, 2)
                .否则
                    赋值 (音乐序号, 1)
                .如果结束
                升级页面.未知支持库函数_134 (后台页面, 47, 90, )
                系统屏幕.未知支持库函数_69 (假, 假, 假)
                MIDI.未知支持库函数_196 (相加 (“sound\”, 到文本 (音乐序号), “.mid”))
                背景.修改背景图 ()
                延时 (1000)
            .否则
                
            .如果结束
            
        .如果结束
        
    .否则
        .如果 (大于 (得分, 10000))
            
            赋值 (通关, 真)
            连续赋值 (0, .时钟周期, .时钟周期)
        .否则
            
        .如果结束
        
    .如果结束
    赋值 (后台页面, 系统屏幕.未知支持库函数_83 ())
    
    背景.画背景 (后台页面)
    车.画车 (后台页面)
    
    后台页面.未知支持库函数_126 (相减 (_启动窗口., 100), 10, #红褐, 相加 (“当前等级： ”, 到文本 (等级)))
    后台页面.未知支持库函数_126 (10, 10, #红褐, 相加 (“得分： ”, 到文本 (得分)))
    赋值 (数组大小, 取数组成员数 (障碍车组))
    赋值 (遍历因子, 1)
    .判断循环首 (小于或等于 (遍历因子, 数组大小))
        .如果 (大于 (障碍车组.取位置Y ( [遍历因子]), .))
            删除成员 (障碍车组, 遍历因子, )
            赋值 (数组大小, 相减 (数组大小, 1))
            赋值 (得分, 相加 (得分, 100))
        .否则
            障碍车组.画障碍车 ( [遍历因子], 后台页面)
            障碍车组.运动 ( [遍历因子])
            赋值 (遍历因子, 相加 (遍历因子, 1))
        .如果结束
        
    .判断循环尾 ()
    赋值 (数组大小, 取数组成员数 (奖励车组))
    赋值 (遍历因子, 1)
    .判断循环首 (小于或等于 (遍历因子, 数组大小))
        .如果 (大于 (奖励车组.取位置Y ( [遍历因子]), .))
            删除成员 (奖励车组, 遍历因子, )
            赋值 (数组大小, 相减 (数组大小, 1))
        .否则
            奖励车组.画障碍车 ( [遍历因子], 后台页面)
            奖励车组.运动 ( [遍历因子])
            赋值 (遍历因子, 相加 (遍历因子, 1))
        .如果结束
        
    .判断循环尾 ()
    
    置随机数种子 ()
    
    
    .如果 (等于 (.时钟周期, 0))
        赋值 (随机变量, 取随机数 (1, 5000))
        .如果 (大于 (随机变量, 4980))
            .如果 (小于 (取数组成员数 (奖励车组), 2))
                奖励车.创建 (., ., 2)
                加入成员 (奖励车组, 奖励车)
                赋值 (.时钟周期, 500)
            .否则
                
            .如果结束
            
        .否则
            
        .如果结束
        
    .否则
        
    .如果结束
    .如果 (等于 (.时钟周期, 0))
        赋值 (随机变量, 取随机数 (1, 1000))
        .如果 (或者 (大于 (随机变量, 相减 (1000, 相乘 (等级, 100))), 小于 (取数组成员数 (障碍车组), 3)))
            .如果 (小于 (取数组成员数 (障碍车组), 相加 (5, 等级)))
                障碍车.创建 (., ., 1)
                加入成员 (障碍车组, 障碍车)
                赋值 (.时钟周期, 1000)
            .否则
                
            .如果结束
            
        .否则
            
        .如果结束
        
    .否则
        
    .如果结束
    系统屏幕.未知支持库函数_69 (假, 假, 假)
    背景.背景运动 ()
    
    .如果 (不等于 (车.是否接触 (障碍车组), 0))
        赋值 (遍历因子, 车.是否接触 (障碍车组))
        .如果 (不等于 (车.取状态 (), 5))
            障碍车组.置状态 ( [遍历因子], 1)
            车.置状态 (6)
            MIDI.未知支持库函数_197 ()
            wav.未知支持库函数_230 (全局声音, “sound\dead.wav”, )
            wav.未知支持库函数_231 ()
            赋值 (结束, 真)
            返回 ()
        .否则
            
            删除成员 (障碍车组, 遍历因子, )
            赋值 (数组大小, 相减 (数组大小, 1))
            赋值 (得分, 相加 (得分, 100))
        .如果结束
        
    .否则
        
    .如果结束
    .如果 (不等于 (车.是否接触 (奖励车组), 0))
        赋值 (遍历因子, 车.是否接触 (奖励车组))
        车.置状态 (5)
        赋值 (得分, 相加 (得分, 500))
        删除成员 (奖励车组, 遍历因子, )
        赋值 (时钟3临时计数器, 0)
        赋值 (.时钟周期, 1000)
    .否则
        
    .如果结束
    
    
    赋值 (临时, 假)
    .如果 (等于 (控制器种类, 0))
        XX.未知支持库函数_32 (YY)
        
        .如果 (并且 (小于或等于 (取绝对值 (XX), 300), 小于或等于 (取绝对值 (YY), 300)))
            车.运动 (0)
        .否则
            .如果 (小于 (XX, -300))
                车.运动 (1)
            .否则
                .如果 (大于 (XX, 300))
                    车.运动 (2)
                .否则
                    
                .如果结束
                
            .如果结束
            
            .如果 (小于 (YY, -300))
                车.运动 (3)
            .否则
                .如果 (大于 (YY, 300))
                    车.运动 (4)
                .否则
                    
                .如果结束
                
            .如果结束
            
        .如果结束
        
    .否则
        赋值 (键状态, #..未知支持库函数_46 ())
        
        .如果真 (等于 (键状态, 3))
            车.运动 (2)
            赋值 (临时, 真)
        .如果真结束
        
        赋值 (键状态, #..未知支持库函数_46 ())
        .如果真 (等于 (键状态, 3))
            车.运动 (1)
            赋值 (临时, 真)
        .如果真结束
        
        赋值 (键状态, #..未知支持库函数_46 ())
        .如果真 (等于 (键状态, 3))
            车.运动 (3)
            赋值 (临时, 真)
        .如果真结束
        
        赋值 (键状态, #..未知支持库函数_46 ())
        .如果真 (等于 (键状态, 3))
            车.运动 (4)
            赋值 (临时, 真)
        .如果真结束
        
        .如果 (等于 (临时, 假))
            车.运动 (0)
        .否则
            
        .如果结束
        
    .如果结束
    
.如果结束





.子程序 _时钟2_周期事件, 空白型, , 
赋值 (.时钟周期, 0)

.子程序 __启动窗口_按下某键, 逻辑型, , 
.参数 键代码, 整数型, , 
.参数 功能键状态, 整数型, , 

.如果 (并且 (等于 (结束, 真), 等于 (键代码, #回车键)))
    赋值 (等级, 1)
    赋值 (得分, 0)
    车.重置位置 ()
    车.置等级 (等级)
    车.修改状态 (0)
    背景.修改背景图 ()
    赋值 (结束, 假)
    赋值 (通关, 假)
    __启动窗口_首次激活 ()
    __启动窗口_被激活 ()
.否则
    
.如果结束



.子程序 _时钟3_周期事件, 空白型, , 
赋值 (时钟3临时计数器, 相加 (时钟3临时计数器, 1))
.如果 (等于 (时钟3临时计数器, 7))
    wav.未知支持库函数_230 (全局声音, “sound\ts.wav”, )
    wav.未知支持库函数_231 ()
.否则
    
.如果结束
.如果 (等于 (时钟3临时计数器, 10))
    赋值 (.时钟周期, 0)
    车.置状态 (0)
.否则
    
.如果结束


.窗口程序集 窗口程序集2, , , 

.程序集变量 a, 整数型, , , 
.程序集变量 midi, 未知类型0x20005, , , 
.程序集变量 b, 整数型, , , 
.子程序 _按钮1_被单击, 空白型, , 
.如果 (等于 (.现行选中项, 0))
    赋值 (_启动窗口., 1)
.否则
    赋值 (_启动窗口., 0)
.如果结束

赋值 (_启动窗口., 相加 (.现行选中项, 1))
赋值 (a, 1)
设置窗口.销毁 ()

_启动窗口.获取焦点 ()

.如果 (等于 (音乐序号, 1))
    赋值 (音乐序号, 2)
.否则
    赋值 (音乐序号, 1)
.如果结束
_启动窗口.未知支持库函数_196 (., 相加 (“sound\”, 到文本 (音乐序号), “.mid”))


.子程序 _设置窗口_可否被关闭, 逻辑型, , 
.如果 (等于 (a, 0))
    结束 ()
.否则
    
.如果结束


.子程序 _设置窗口_创建完毕, 空白型, , 
赋值 (a, 0)
_启动窗口.未知支持库函数_197 (.)
midi.未知支持库函数_196 (“sound\jms.mid”)
获取焦点 ()

.子程序 _按钮2_被单击, 空白型, , 
结束 ()

.类模块 赛车类, , , 

.程序集变量 车直开, 未知类型0x2000B, , , 
.程序集变量 车左开, 未知类型0x2000B, , , 
.程序集变量 车右开, 未知类型0x2000B, , , 
.程序集变量 奖励, 未知类型0x2000B, , , 
.程序集变量 挂了, 未知类型0x2000B, , , 
.程序集变量 状态, 整数型, , , 0，直开，1 左开，2右开,3 向前开，4 向后开，5 奖励，6 挂了
.程序集变量 相对位置X, 整数型, , , 所在窗口的相对位置
.程序集变量 相对位置Y, 整数型, , , 所在窗口的相对位置
.程序集变量 最大X, 整数型, , , 
.程序集变量 最大Y, 整数型, , , 
.程序集变量 等级, 整数型, , , 车的等级
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用
赋值 (状态, 0) ' 直开
赋值 (等级, 1)

.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 创建, 逻辑型, 公开, 
.参数 窗口宽度, 整数型, , 
.参数 窗口高度, 整数型, , 

.局部变量 临时页面, 未知类型0x2000B, , , 
.局部变量 返回值, 逻辑型, , , 


赋值 (返回值, 车直开.未知支持库函数_111 (系统屏幕, “pic\car.bmp”, #.))
.如果 (等于 (返回值, 假))
    返回 (假)
.否则
    
.如果结束
赋值 (返回值, 车左开.未知支持库函数_111 (系统屏幕, “pic\car.bmp”, #.))
.如果 (等于 (返回值, 假))
    返回 (假)
.否则
    
.如果结束
赋值 (返回值, 车右开.未知支持库函数_111 (系统屏幕, “pic\car.bmp”, #.))
.如果 (等于 (返回值, 假))
    返回 (假)
.否则
    
.如果结束
赋值 (返回值, 奖励.未知支持库函数_111 (系统屏幕, “pic\wudi.bmp”, #.))
.如果 (等于 (返回值, 假))
    返回 (假)
.否则
    
.如果结束
赋值 (返回值, 挂了.未知支持库函数_111 (系统屏幕, “pic\dead.bmp”, #.))
.如果 (等于 (返回值, 假))
    返回 (假)
.否则
    
.如果结束

 ' 车直开.建空页面 (系统屏幕, 82, 100, #内存类别.系统主存)
 ' 车左开.建空页面 (系统屏幕, 40, 49, #内存类别.系统主存)
 ' 车右开.建空页面 (系统屏幕, 40, 49, #内存类别.系统主存)

 ' 复制区域.左边 ＝ 0
 ' 复制区域.顶边 ＝ 0
 ' 复制区域.右边 ＝ 82
 ' 复制区域.底边 ＝ 100
 ' 临时页面.块复制 (车直开, 0, 0, 复制区域)
 ' 复制区域.左边 ＝ 38
 ' 复制区域.顶边 ＝ 0
 ' 复制区域.右边 ＝ 75
 ' 复制区域.底边 ＝ 35
 ' 临时页面.块复制 (车左开, 0, 0, 复制区域)
 ' 复制区域.左边 ＝ 76
 ' 复制区域.顶边 ＝ 0
 ' 复制区域.右边 ＝ 113
 ' 复制区域.底边 ＝ 35
 ' 临时页面.块复制 (车右开, 0, 0, 复制区域)

车直开.未知支持库函数_157 ()
车左开.未知支持库函数_157 ()
车右开.未知支持库函数_157 ()
挂了.未知支持库函数_157 ()
奖励.未知支持库函数_157 ()


赋值 (最大X, 相减 (窗口宽度, 45))
赋值 (最大Y, 相减 (窗口高度, 相乘 (2, 40)))

赋值 (相对位置X, 相除 (相减 (窗口宽度, 车直开.未知支持库函数_168 ()), 2))
赋值 (相对位置Y, 相减 (窗口高度, 相乘 (2, 车直开.未知支持库函数_169 ())))

返回 (真)

.子程序 画车, 逻辑型, 公开, 
.参数 目的页面, 未知类型0x2000B, , 

.局部变量 窗口宽度, 整数型, , , 
.局部变量 窗口高度, 整数型, , , 

赋值 (窗口宽度, 目的页面.未知支持库函数_168 ())
赋值 (窗口高度, 目的页面.未知支持库函数_169 ())
.如果 (等于 (状态, 0))
    车直开.未知支持库函数_134 (目的页面, 相对位置X, 相对位置Y, )
.否则
    .如果 (等于 (状态, 1))
        车左开.未知支持库函数_134 (目的页面, 相对位置X, 相对位置Y, )
    .否则
        .如果 (等于 (状态, 2))
            车右开.未知支持库函数_134 (目的页面, 相对位置X, 相对位置Y, )
        .否则
            .如果 (等于 (状态, 3))
                车直开.未知支持库函数_134 (目的页面, 相对位置X, 相对位置Y, )
            .否则
                .如果 (等于 (状态, 4))
                    车直开.未知支持库函数_134 (目的页面, 相对位置X, 相对位置Y, )
                .否则
                    .如果 (等于 (状态, 5))
                        奖励.未知支持库函数_134 (目的页面, 相对位置X, 相对位置Y, )
                    .否则
                        .如果 (等于 (状态, 6))
                            挂了.未知支持库函数_134 (目的页面, 相对位置X, 相对位置Y, )
                        .否则
                            
                            
                            
                        .如果结束
                        
                    .如果结束
                    
                .如果结束
                
            .如果结束
            
        .如果结束
        
    .如果结束
    
.如果结束



返回 (真)


.子程序 运动, 空白型, 公开, 
.参数 运动状态, 整数型, , 



.如果 (等于 (状态, 6))
    清除数组 (_启动窗口.)
    清除数组 (_启动窗口.)
    赋值 (_启动窗口., 真)
    返回 ()
.否则
    
.如果结束

 ' 改变位置
.如果 (不等于 (状态, 5))
    赋值 (状态, 运动状态)
.否则
    
.如果结束
.如果 (等于 (运动状态, 1))
    .如果 (大于或等于 (相减 (相对位置X, 1), 0))
        赋值 (相对位置X, 相减 (相对位置X, 1))
    .否则
        
    .如果结束
    
.否则
    .如果 (等于 (运动状态, 2))
        .如果 (小于或等于 (相加 (相对位置X, 1), 最大X))
            赋值 (相对位置X, 相加 (相对位置X, 1))
        .否则
            
        .如果结束
        
    .否则
        .如果 (等于 (运动状态, 3))
            .如果 (大于或等于 (相减 (相对位置Y, 1), 0))
                赋值 (相对位置Y, 相减 (相对位置Y, 1))
            .否则
                
            .如果结束
            
        .否则
            .如果 (等于 (运动状态, 4))
                .如果 (小于或等于 (相加 (相对位置Y, 1), 最大Y))
                    赋值 (相对位置Y, 相加 (相对位置Y, 1))
                .否则
                    
                .如果结束
                
            .否则
                
            .如果结束
            
        .如果结束
        
    .如果结束
    
.如果结束




.子程序 取位置X, 整数型, 公开, 
返回 (相对位置X)


.子程序 取位置Y, 整数型, 公开, 
返回 (相对位置Y)


.子程序 取等级, 整数型, 公开, 
返回 (等级)


.子程序 置等级, 空白型, 公开, 
.参数 车等级, 整数型, , 

赋值 (等级, 车等级)


.子程序 重置位置, 空白型, 公开, 

赋值 (相对位置X, 相除 (相减 (_启动窗口., 车直开.未知支持库函数_168 ()), 2))
赋值 (相对位置Y, 相减 (_启动窗口., 相乘 (2, 车直开.未知支持库函数_169 ())))


.子程序 修改状态, 空白型, 公开, 
.参数 状态参数, 整数型, , 


赋值 (状态, 状态参数)



.子程序 取状态, 整数型, 公开, 
返回 (状态)

.子程序 是否接触, 整数型, 公开, 
.参数 车组, 障碍车类, 数组, 

.局部变量 数组大小, 整数型, , , 
.局部变量 遍历因子, 整数型, , , 

赋值 (数组大小, 取数组成员数 (车组))
赋值 (遍历因子, 1)
.判断循环首 (小于或等于 (遍历因子, 数组大小))
    .如果 (并且 (小于 (车组.取位置X ( [遍历因子]), 相减 (相加 (相对位置X, 车直开.未知支持库函数_168 ()), 3)), 大于 (相加 (车组.取位置X ( [遍历因子]), 车直开.未知支持库函数_168 ()), 相加 (相对位置X, 3))))
        .如果 (并且 (小于 (车组.取位置Y ( [遍历因子]), 相减 (相加 (相对位置Y, 车直开.未知支持库函数_169 ()), 3)), 大于 (相加 (车组.取位置Y ( [遍历因子]), 车直开.未知支持库函数_169 ()), 相加 (相对位置Y, 3))))
            返回 (遍历因子)
        .否则
            
        .如果结束
        
    .否则
        
    .如果结束
    
    赋值 (遍历因子, 相加 (遍历因子, 1))
.判断循环尾 ()

返回 (0)


.子程序 置状态, 空白型, 公开, 
.参数 新状态, 整数型, , 

赋值 (状态, 新状态)
返回 ()

.类模块 障碍车类, , , 

.程序集变量 障碍车, 未知类型0x2000B, , , 
.程序集变量 毁灭车, 未知类型0x2000B, , , 
.程序集变量 位置X, 整数型, , , 
.程序集变量 位置Y, 整数型, , , 
.程序集变量 状态, 整数型, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用
赋值 (状态, 0)

.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 创建, 逻辑型, 公开, 
.参数 窗口宽度, 整数型, , 
.参数 窗口高度, 整数型, , 
.参数 车子类型, 整数型, , 1为普通障碍车，2为可食障碍车

.局部变量 临时页面, 未知类型0x2000B, , , 
.局部变量 返回值, 逻辑型, , , 

赋值 (返回值, 障碍车.未知支持库函数_111 (系统屏幕, 相加 (“pic\car”, 到文本 (车子类型), “.bmp”), #.))
.如果 (等于 (返回值, 假))
    返回 (假)
.否则
    
.如果结束
赋值 (返回值, 毁灭车.未知支持库函数_111 (系统屏幕, “pic\dead.bmp”, #.))
.如果 (等于 (返回值, 假))
    返回 (假)
.否则
    
.如果结束
障碍车.未知支持库函数_157 ()
置随机数种子 ()
赋值 (位置X, 取随机数 (0, 相减 (窗口宽度, 障碍车.未知支持库函数_168 ())))
赋值 (位置Y, -100)
返回 (真)

.子程序 置状态, 空白型, 公开, 
.参数 新状态, 整数型, , 

赋值 (状态, 新状态)
返回 ()

.子程序 画障碍车, 空白型, 公开, 
.参数 目的页面, 未知类型0x2000B, , 

.如果 (等于 (状态, 0))
    障碍车.未知支持库函数_134 (目的页面, 位置X, 位置Y, )
.否则
    .如果 (等于 (状态, 1))
        毁灭车.未知支持库函数_134 (目的页面, 位置X, 位置Y, )
    .否则
        
    .如果结束
    
.如果结束


.子程序 运动, 空白型, 公开, 
.局部变量 变动值, 小数型, , , 


赋值 (变动值, 1.3)
赋值 (位置Y, 相加 (位置Y, 变动值))

返回 ()


.子程序 取位置X, 整数型, 公开, 
返回 (位置X)


.子程序 取位置Y, 整数型, 公开, 
返回 (位置Y)



 ' 不属于任何一个程序集、类模块的函数：
