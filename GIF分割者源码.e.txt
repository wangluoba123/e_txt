 ' 文件类型：Windows控制台程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 750
    高度 = 497
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = 16777215 '  0xFFFFFF
    最大化按钮 = 假
    最小化按钮 = 真
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 假
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    窗口类名 = “”
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “GIF分解者”
    帮助文件名 = “”





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 5 3 系统核心支持库
 ' shell 52F260023059454187AF826A3C07AF2A 3 0 操作系统界面功能支持库





.窗口程序集 窗口程序集_启动窗口, , , 

.程序集变量 取指定帧图片, 字节集, , "0", 
.程序集变量 总帧数, 整数型, , , 
.程序集变量 集_当前帧, 整数型, , , 
.程序集变量 图片框, 图片框, , "0", 
.子程序 __启动窗口_创建完毕, 空白型, , 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢 QQ：2700433330
赋值 (.背景颜色, #白色)
赋值 (.背景颜色, #白色)
赋值 (.背景颜色, #白色)
赋值 (.背景颜色, #白色)
 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330

.子程序 _按钮_打开图片_被单击, 空白型, , 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢 QQ：2700433330
.局部变量 源文件, 字节集, , , 
.局部变量 标识, 文本型, , , 
.局部变量 版本号, 文本型, , , 
.局部变量 gif宽度, 整数型, , , 
.局部变量 gif高度, 整数型, , , 
.局部变量 返回路径, 文本型, , , 
.局部变量 i, 整数型, , , 
.局部变量 计次, 整数型, , , 

 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330
赋值 (.类型, 0)
赋值 (.标题, “打开”)
赋值 (.过滤器, “GIF图片(*.gif)|*.gif|所有文件(*.*)|*.*”)
赋值 (.初始目录, 未知支持库函数_7 (3))
.如果真 (等于 (打开 (), 假))
    返回 ()
.如果真结束
赋值 (返回路径, .文件名)
赋值 (源文件, 读入文件 (返回路径))
赋值 (.图片, 源文件)
赋值 (总帧数, gif_取帧数 (源文件, 取指定帧图片, 标识, 版本号, gif宽度, gif高度))
赋值 (.内容, 相加 (标识, “版本：”, 版本号, #换行符, “总帧数：”, 到文本 (总帧数), #换行符, “实际宽度：”, 到文本 (gif宽度), “px”, #换行符, “实际高度：”, 到文本 (gif高度), “px”, #换行符, “图片路径：”, 返回路径))
赋值 (.标题, 相加 (“总帧数”, 到文本 (总帧数), “/1”))
 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330
重定义数组 (图片框, 假, 总帧数)
赋值 (.宽度, 相乘 (总帧数, 200))
.计次循环首 (总帧数, i)
    复制窗口组件 (图片框 [i])
    赋值 (图片框 [i], 左边, 相乘 (计次, 200))
    赋值 (图片框 [i], 顶边, 0)
    赋值 (图片框 [i], 宽度, 200)
    赋值 (图片框 [i], 高度, 200)
    赋值 (图片框 [i], 图片, 取指定帧图片 [i])
    赋值 (图片框 [i], 显示方式, 1)
    赋值 (图片框 [i], 标记, 到文本 (i))
    图片框.置父窗口 ( [i], )
    赋值 (图片框 [i], 可视, 真)
    赋值 (计次, 相加 (计次, 1))
.计次循环尾 ()
 ' 总帧数*每帧图片的宽度-图片框_帧的宽度 （注意，这个图片框帧的宽度指的是设计时的宽度，而不是被改变后的宽度）
赋值 (.最大位置, 相减 (相乘 (总帧数, 200), 710))
赋值 (.位置, 1)
赋值 (.页改变值, 相除 (.最大位置, 10))
 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330

.子程序 gif_取帧数, 整数型, , 返回指定gif图片分割后的帧数【源码来自精易论坛用户：aqwvwv，转载请注明 谢谢 QQ：2700433330】
.参数 gif图片, 字节集, , 
.参数 返回帧图片数组, 字节集, 参考 数组, 
.参数 标识, 文本型, 参考, 每个图片都有他的标识，如gif图片的标识就是“GIF” ，png的图片就是png类似这样
.参数 版本号, 文本型, 参考, 返回gif的版本号
.参数 _宽度, 整数型, 参考, 返回gif的宽度
.参数 _高度, 整数型, 参考, 返回gif的高度

.局部变量 临时字节集, 字节集, , , 
.局部变量 GIF头部, 字节集, , , 
.局部变量 i, 整数型, , , 
.局部变量 帧界位置, 整数型, , "0", 
.局部变量 累计, 整数型, , , 
.局部变量 帧位置, 整数型, , "0", 
.局部变量 成员数, 整数型, , , 

 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330

 ' 前三个字节为GIF标识，都是“GIF”，这个gif标识作用就是识别是否为gif图片，以后打开图片是可以通过这个判断图片是否为gif图片
 ' 3~6三个字节为版本号(通常为89a，表示1989年7月的版本，还有一个版本为87a,为1987年5月的)
 ' 7~8两个字节为宽度 为uint16位无符号整数，要通过取字节集数据才能解析
 ' 9~10两个字节为高度 为uint16位无符号整数，要通过取字节集数据才能解析
 ' {0,33,249,4} 这个字节集是通过我研究了一晚上得出来不变的gif块标识
 ' 百度上说的gif 块标识 是{44},转换为文本也就是“,”逗号，但是由于内部如何识别这个{44](有很多)
 ' 实际上我在字节集中看到的块标识是 {0,33,249,4,x,x,x,x,x,44}，通过多次比较，发现0,33,249,4是不变的，有多少这个字符，就有多少帧
 ' 其中xxxx表示是动态的，没张gif图都不一样，只有0,33,249,4,是不变的，还有标识数{4}4
 ' 另外gif结尾是通过{ 59 }结尾，也就是“;”分号（字节集尾部）
 ' ===========我们模拟下gif文件的格式================
 ' {71,73,70"头部标识GIF"} + {56,57,97"GIF版本号"} + {32,3"uint16位无符号整数 gif 宽度"} + {88,2"uint16位无符号整数 gif 高度"} + {gif头部文件} + {块图片"块图片里好像记录着每张图片的帧延迟时间"} + {0,33,249,4,x,x,x,x,x,44"块结束标识"} + {59"尾部结束标识"}
 ' ===========我们模拟下gif文件的格式结束================
赋值 (临时字节集, gif图片)

赋值 (标识, 到文本 (取字节集左边 (临时字节集, 3))) ' 前3个字节，标识"GIF"
赋值 (版本号, 到文本 (取字节集中间 (临时字节集, 4, 3))) ' 3~6三个字节为版本号(通常为89a，表示1989年的版本，还有一个版本为87a,为1987年的，具体百度)
赋值 (_宽度, 到整数 (取字节集数据 (取字节集中间 (临时字节集, 7, 2), #长整数型, ))) ' 7~8两个字节为宽度 通常为uint16位无符号整数，所以要通过取字节集数据才能解析
赋值 (_高度, 到整数 (取字节集数据 (取字节集中间 (临时字节集, 9, 2), #长整数型, ))) ' 9~10两个字节为高度 通常为uint16位无符号整数，所以要通过取字节集数据才能解析

赋值 (GIF头部, 取字节集左边 (临时字节集, 寻找字节集 (临时字节集, { 0, 33, 249, 4 }, )))
.判断循环首 (真)
    赋值 (i, 相加 (i, 1))
    加入成员 (帧界位置, 寻找字节集 (临时字节集, { 0, 33, 249, 4 }, ))
    .如果真 (等于 (帧界位置 [i], -1))
        跳出循环 ()
    .如果真结束
    
    赋值 (临时字节集, 取字节集右边 (临时字节集, 相减 (取字节集长度 (临时字节集), 帧界位置 [i])))
    赋值 (累计, 相加 (累计, 帧界位置 [i]))
    加入成员 (帧位置, 累计)
    
.判断循环尾 ()
 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330
赋值 (成员数, 取数组成员数 (帧位置))
重定义数组 (返回帧图片数组, 假, 成员数)
赋值 (i, 0)
.计次循环首 (成员数, i)
    .如果真 (等于 (i, 成员数))
        赋值 (返回帧图片数组 [成员数], 相加 (GIF头部, 取字节集右边 (gif图片, 相减 (取字节集长度 (gif图片), 帧位置 [i]))))
        跳出循环 ()
    .如果真结束
    赋值 (返回帧图片数组 [i], 相加 (GIF头部, 取字节集中间 (gif图片, 相加 (帧位置 [i], 1), 相减 (帧位置 [相加 (i, 1)], 帧位置 [i])), { 59 }))
.计次循环尾 ()
返回 (成员数)
 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330

.子程序 _按钮_另存为_被单击, 空白型, , 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢 QQ：2700433330
.局部变量 i, 整数型, , , 
.局部变量 信息值, 整数型, , , 

赋值 (.类型, 1)
赋值 (.标题, “另存为”)
赋值 (.过滤器, “png图片(*.png)|*.png|所有文件(*.*)|*.*”)
赋值 (.文件名, 取文本左边 (.文件名, 相减 (取文本长度 (.文件名), 4)))
.如果真 (打开 ())
    .计次循环首 (i)
        写到文件 (相加 (.文件名, 到文本 (i), “.png”),  [i])
    .计次循环尾 ()
    赋值 (信息值, 信息框 (“保存成功，是否立即打开保存位置？”, 相加 (#信息图标, 相乘 (#位于前台, 4), #是否钮, #默认按钮一), “确认”, ))
    .如果真 (等于 (信息值, #是钮))
        赋值 (.文件名, 取文本左边 (.文件名, 倒找文本 (.文件名, “\”, , 假)))
        未知支持库函数_6 (2, .文件名, , , )
    .如果真结束
    
.如果真结束
 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330


.子程序 _横向滚动条1_位置被改变, 空白型, , 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢 QQ：2700433330
 ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
 ' QQ：2700433330

 ' 8的意思是多留出一点位置，不然就将分组框的边框给遮住了
相加 (负 (.位置), 8).移动 ()

.子程序 _图片框_原图_鼠标左键被按下, 逻辑型, , 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢 QQ：2700433330
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

.局部变量 事件来源, 图片框, , , 
.局部变量 成员数, 整数型, , , 
.局部变量 i, 整数型, , , 

 ' 由于图片框_帧 是通过复制 图片框_原图 来的，所以复制过来的组件事件直接都写在 图片框_原图 里
 ' 通过 取事件组件（） 然后再通过 对象.标记 来知道操作了复制来的那个组件的事件，这个标记在复制组件时就要标记上，我是每复制一个组件就标记+1，这样判断的时候比较方便
赋值 (事件来源, 取事件组件 ())
.如果真 (小于 (到整数 (事件来源.标记), 1))
    返回 ()
.如果真结束
赋值 (成员数, 取数组成员数 (图片框))
.计次循环首 (成员数, i)
    
    .如果真 (等于 (到整数 (事件来源.标记), i))
         ' 记录下当前被赋予边框的图片框序号，直接将该图片框的边框复制为无边框，然后将新的图片框赋值为有边框，大大节约了循环时间
        .如果真 (小于 (集_当前帧, 1))
            赋值 (集_当前帧, 1)
        .如果真结束
        
        赋值 (图片框 [集_当前帧], 边框, 0)
        赋值 (集_当前帧, i)
        赋值 (图片框 [i], 边框, 5)
        赋值 (.标题, 相加 (“总帧数”, 到文本 (总帧数), “/”, 到文本 (i)))
        跳出循环 ()
    .如果真结束
     ' 源码来自精易论坛用户：aqwvwv，转载请注明 谢谢
     ' QQ：2700433330
.计次循环尾 ()



 ' 不属于任何一个程序集、类模块的函数：
