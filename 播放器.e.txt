 ' 文件类型：Windows窗口程序

 ' 程序名称：屏录
 ' 程序描述：
 ' 程序作者：丁坤
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口
    左边 = 50
    顶边 = 50
    宽度 = 344
    高度 = 235
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 0
    底图方式 = 1
    底色 = 0 '  0x0
    最大化按钮 = 真
    最小化按钮 = 真
    控制按钮 = 真
    位置 = 3
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 假
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “”
    帮助文件名 = “”



.图片 鼠标图片, " ' 已保存到：D:\易语言学习\Data\播放器.e\鼠标图片", , 


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 3 4 系统核心支持库
 ' eLIBpp ECFB3D10541A422b8B73779AF00B4D0C 1 2 ｅＬＩＢ＋＋
 ' dp1 4BB4003860154917BC7D8230BF4FA58A 1 0 数据操作支持库一





.DLL命令 释放场景, 整数型, "", "ReleaseDC", , 
    .参数 窗口句柄, 整数型, , 
    .参数 设备场景句柄, 整数型, , 

.DLL命令 取场景, 整数型, "user32.dll", "GetDC", , 
    .参数 句柄, 整数型, , 

.DLL命令 复制位图, 整数型, "gdi32.dll", "SetDIBitsToDevice", , 
    .参数 hdc, 整数型, , 一个设备场景的句柄。该场景用于接收位图数据
    .参数 x, 整数型, , x,y-用逻辑坐标表示的目标矩形的起点
    .参数 y, 整数型, , 
    .参数 dx, 整数型, , dx,dy-用目标矩形的设备单位表示的宽度及高度
    .参数 dy, 整数型, , 
    .参数 scrx, 整数型, , scrx,scry-用设备坐标表示的源矩形在DIB中的起点
    .参数 scry, 整数型, , 
    .参数 scan, 整数型, , 第一条扫描线的编号
    .参数 numscans, 整数型, , 欲复制的扫描线数量
    .参数 bits, 整数型, , 指向一个缓冲区的指针
    .参数 bitsinfo, 整数型, , 格式
    .参数 wusage, 整数型, , 

.DLL命令 复制内存, 空白型, "kernel32.dll", "RtlMoveMemory", , 
    .参数 目标地址, 整数型, , 
    .参数 源地址, 整数型, , 
    .参数 字节长度, 整数型, , 

.窗口程序集 窗口程序集1, , , 

.程序集变量 录象数据, 字节集, , "0", 
.程序集变量 停止放象, 逻辑型, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 
.局部变量 播放文件, 字节集, , , 
.局部变量 临时数组, 字节集, , "0", 
.局部变量 数据文件, 字节集, , , 

置等待鼠标 ()
赋值 (.标题, 相加 (“文件名：”, 取执行文件名 ()))
赋值 (播放文件, 读入文件 (取执行文件名 ()))
赋值 (临时数组, 分割字节集 (播放文件, 到字节集 (“@#$@#$”), ))
.如果真 (小于 (取数组成员数 (临时数组), 4))
    信息框 (“错误的文件!”, 16, )
    结束 ()
.如果真结束
赋值 (数据文件, 临时数组 [3])
清除数组 (录象数据)
赋值 (录象数据, 分割字节集 (数据文件, 到字节集 (“|||”), ))
恢复鼠标 ()
未知函数_67174415 ()

.子程序 播放录像, 空白型, , 
.局部变量 图片号, 整数型, , , 
.局部变量 场景, 整数型, , , 
.局部变量 分文本, 文本型, , , 
.局部变量 秒文本, 文本型, , , 
.局部变量 图片数据, 字节集, , , 
.局部变量 录象总数, 整数型, , , 
.局部变量 录像总长, 整数型, , , 
.局部变量 循环数, 整数型, , , 
.局部变量 数据, 字节集, , , 
.局部变量 文件头, 字节集, , , 
.局部变量 数据长度, 整数型, , , 
.局部变量 当前位置, 整数型, , , 
.局部变量 差异位置, 整数型, , , 
.局部变量 差异长度, 短整数型, , , 
.局部变量 行数, 短整数型, , , 
.局部变量 鼠标横, 短整数型, , , 
.局部变量 鼠标纵, 短整数型, , , 
.局部变量 开始时间, 整数型, , , 
.局部变量 经过时间, 整数型, , , 
.局部变量 当前时间, 整数型, , , 

赋值 (_启动窗口.位置, 3)
赋值 (场景, 取场景 (取窗口句柄 ()))
赋值 (载入图片 (#鼠标图片))
赋值 (取数组成员数 (录象数据))
赋值 (录像总长, 取字节集数据 (取字节集左边 (录象数据 [录象总数], 4), #整数型))
赋值 (.最大位置, 取整 (相除 (录像总长, 1000)))
赋值 (到文本 (取整 (相除 (.最大位置, 60))))
赋值 (到文本 (取整 (求余数 (.最大位置, 60))))
.如果真 (小于 (到数值 (), 10))
    赋值 (相加 (到文本 (0), ))
.如果真结束
.如果真 (小于 (到数值 (), 10))
    赋值 (相加 (到文本 (0), ))
.如果真结束
赋值 (.标题, 相加 (“总时间：”, , “:”, ))

赋值 (文件头, 取字节集右边 (录象数据 [录象总数], 54))
赋值 (.宽度, 取字节集数据 (取字节集中间 (文件头, 19, 4), #整数型))
赋值 (.高度, 取字节集数据 (取字节集中间 (文件头, 23, 4), #整数型))
相减 (相除 (_启动窗口.宽度, 2), 相除 (.宽度, 2)).移动 (相减 (相除 (_启动窗口.高度, 2), 相除 (.高度, 2)), , )
赋值 (图片数据, 相加 (文件头, 取空白字节集 (相乘 (.宽度, .高度, 3))))

赋值 (开始时间, 取启动时间 ())
.计次循环首 (相减 (1), 循环数)
    赋值 (数据, 未知支持库函数_1 (录象数据 [循环数]))
    赋值 (取字节集长度 (数据))
    赋值 (1)
    .判断循环首 (小于 ())
        复制内存 (未知支持库函数_2 (鼠标横), 未知支持库函数_2 (数据 [当前位置]), 2)
        复制内存 (未知支持库函数_2 (鼠标纵), 相加 (未知支持库函数_2 (数据 [当前位置]), 2), 2)
        复制内存 (未知支持库函数_2 (当前时间), 相加 (未知支持库函数_2 (数据 [当前位置]), 4), 4)
        复制内存 (未知支持库函数_2 (行数), 相加 (未知支持库函数_2 (数据 [当前位置]), 8), 2)
        赋值 (相加 (10))
        .计次循环首 ()
            复制内存 (未知支持库函数_2 (差异位置), 未知支持库函数_2 (数据 [当前位置]), 4)
            复制内存 (未知支持库函数_2 (差异长度), 相加 (未知支持库函数_2 (数据 [当前位置]), 4), 2)
            复制内存 (未知支持库函数_2 (图片数据 [差异位置]), 相加 (未知支持库函数_2 (数据 [当前位置]), 6), 差异长度)
            赋值 (相加 (6, ))
        .计次循环尾 ()
        复制位图 (场景, 0, 0, .宽度, .高度, 0, 0, 0, .高度, 未知支持库函数_2 (图片数据 [55]), 未知支持库函数_2 (图片数据 [15]), 0)
        图片号.画图片 (鼠标横, 鼠标纵, , , )
        赋值 (.位置, 相除 (当前时间, 1000))
        赋值 (到文本 (取整 (相除 (.位置, 60))))
        赋值 (到文本 (取整 (求余数 (.位置, 60))))
        .如果真 (小于 (到数值 (), 10))
            赋值 (相加 (到文本 (0), ))
        .如果真结束
        .如果真 (小于 (到数值 (), 10))
            赋值 (相加 (到文本 (0), ))
        .如果真结束
        赋值 (.标题, 相加 (“:”, ))
        .循环判断首 ()
            .如果真 (停止放象)
                释放场景 (取窗口句柄 (), 场景)
                结束 ()
            .如果真结束
            处理事件 ()
        .循环判断尾 (小于 (相减 (取启动时间 (), 开始时间), 当前时间))
    .判断循环尾 ()
.计次循环尾 ()
信息框 (“文件播放完毕！”, 64, “信息”)
释放场景 (取窗口句柄 (), 场景)
结束 ()

.子程序 __启动窗口_尺寸被改变, 空白型, , 
相减 (取用户区宽度 (), .宽度, 20).移动 (相减 (取用户区高度 (), .高度, 40), , )

.子程序 _图形按钮1_被单击, 空白型, , 
赋值 (停止放象, 真)

.子程序 _标签6_鼠标左键被按下, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

161.发送信息 (2, 0)


 ' 不属于任何一个程序集、类模块的函数：
