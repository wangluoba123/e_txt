 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 380
    高度 = 316
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库





.窗口程序集 窗口程序集1, , , 

.程序集变量 图片, 字节集, , , 
.子程序 逆旋90度, 空白型, 公开, 返回将24位真彩色位图(bmp格式)进行逆时针旋转90度后的图像
.参数 源图像, 字节集, 参考, 必须为24位真彩色位图(bmp格式)。

.局部变量 新图像, 字节集, , , 
.局部变量 数据位置, 整数型, , , 
.局部变量 蓝色, 整数型, , , 
.局部变量 绿色, 整数型, , , 
.局部变量 红色, 整数型, , , 
.局部变量 实际数宽, 整数型, , , 
.局部变量 数据大小, 整数型, , , 
.局部变量 文件大小, 整数型, , , 
.局部变量 当前行, 整数型, , , 
.局部变量 当前列, 整数型, , , 
.局部变量 行首点, 整数型, , , 
.局部变量 宽度, 空白型, , , 
.局部变量 高度, 空白型, , , 
.局部变量 纠正位, 空白型, , , 

赋值 (宽度, 取字节集数据 (取字节集中间 (源图像, 19, 4), #整数型))
赋值 (高度, 取字节集数据 (取字节集中间 (源图像, 23, 4), #整数型))
赋值 (数据位置, 相加 (取字节集数据 (取字节集中间 (源图像, 11, 4), #整数型), 1))
赋值 (数据大小, 取字节集数据 (取字节集中间 (源图像, 35, 4), #整数型))
赋值 (实际数宽, 相除 (数据大小, 高度))
赋值 (纠正位, 选择 (等于 (求余数 (相乘 (高度, 3), 4), 0), 0, 相减 (4, 求余数 (相乘 (高度, 3), 4))))
赋值 (数据大小, 相乘 (相加 (相乘 (高度, 3), 纠正位), 宽度))
赋值 (蓝色, 55)
赋值 (绿色, 56)
赋值 (红色, 57)
赋值 (当前列, 0)
赋值 (新图像, 相加 (取字节集左边 (源图像, 54), 取空白字节集 (数据大小)))
赋值 (文件大小, 取字节集长度 (新图像))
.计次循环首 (宽度, )
    .变量循环首 (高度, 1, -1, 当前行)
        赋值 (行首点, 相加 (相减 (相乘 (当前行, 实际数宽), 实际数宽), 1, 54)) ' 其中“54”为图像头数据长度
        赋值 (新图像 [蓝色], 源图像 [相加 (行首点, 当前列)])
        赋值 (新图像 [绿色], 源图像 [相加 (行首点, 当前列, 1)])
        赋值 (新图像 [红色], 源图像 [相加 (行首点, 当前列, 2)])
        赋值 (蓝色, 相加 (蓝色, 3))
        赋值 (绿色, 相加 (绿色, 3))
        赋值 (红色, 相加 (红色, 3))
    .变量循环尾 ()
    
    赋值 (当前列, 相加 (当前列, 3))
    赋值 (蓝色, 相加 (蓝色, 纠正位))
    赋值 (绿色, 相加 (绿色, 纠正位))
    赋值 (红色, 相加 (红色, 纠正位))
    赋值 (新图像, 相加 (新图像, 取空白字节集 (纠正位)))
.计次循环尾 ()
赋值 (新图像, 字节集替换 (新图像, 3, 4, 到字节集 (文件大小)))
赋值 (新图像, 字节集替换 (新图像, 19, 4, 到字节集 (高度)))
赋值 (新图像, 字节集替换 (新图像, 23, 4, 到字节集 (宽度)))
赋值 (新图像, 字节集替换 (新图像, 35, 4, 到字节集 (数据大小)))
赋值 (., )


.子程序 顺旋90度, 空白型, 公开, 本命令使图像按逆时针方向旋转90度。
.参数 源图像, 字节集, 参考, 必须为24位真彩色位图(bmp格式)。

.局部变量 新图像, 字节集, , , 
.局部变量 数据位置, 整数型, , , 
.局部变量 蓝色, 整数型, , , 
.局部变量 绿色, 整数型, , , 
.局部变量 红色, 整数型, , , 
.局部变量 宽度, 空白型, , , 
.局部变量 高度, 空白型, , , 
.局部变量 纠正位, 空白型, , , 
.局部变量 实际数宽, 整数型, , , 
.局部变量 数据大小, 整数型, , , 
.局部变量 文件大小, 整数型, , , 
.局部变量 当前行, 整数型, , , 
.局部变量 当前列, 整数型, , , 
.局部变量 行尾点, 整数型, , , 

赋值 (宽度, 取字节集数据 (取字节集中间 (源图像, 19, 4), #整数型))
赋值 (高度, 取字节集数据 (取字节集中间 (源图像, 23, 4), #整数型))
赋值 (数据位置, 相加 (取字节集数据 (取字节集中间 (源图像, 11, 4), #整数型), 1))
赋值 (数据大小, 取字节集数据 (取字节集中间 (源图像, 35, 4), #整数型))
赋值 (实际数宽, 相除 (数据大小, 高度))
赋值 (纠正位, 选择 (等于 (求余数 (相乘 (高度, 3), 4), 0), 0, 相减 (4, 求余数 (相乘 (高度, 3), 4))))
赋值 (数据大小, 相乘 (相加 (相乘 (高度, 3), 纠正位), 宽度))
赋值 (蓝色, 55)
赋值 (绿色, 56)
赋值 (红色, 57)
赋值 (当前列, 0)
赋值 (新图像, 相加 (取字节集左边 (源图像, 54), 取空白字节集 (数据大小)))
赋值 (文件大小, 取字节集长度 (新图像))
.计次循环首 (宽度, )
    .计次循环首 (高度, 当前行)
        赋值 (行尾点, 相加 (相减 (相乘 (当前行, 实际数宽), 相减 (实际数宽, 相乘 (宽度, 3))), 54))
        
        输出调试文本 (“当前行：” ＋ 到文本 (当前行))
        输出调试文本 (“当前点位置：” ＋ 到文本 (行尾点 － 当前列))
        
        赋值 (新图像 [蓝色], 源图像 [相减 (行尾点, 当前列, 2)])
        赋值 (新图像 [绿色], 源图像 [相减 (行尾点, 当前列, 1)])
        赋值 (新图像 [红色], 源图像 [相减 (行尾点, 当前列)])
        赋值 (蓝色, 相加 (蓝色, 3))
        赋值 (绿色, 相加 (绿色, 3))
        赋值 (红色, 相加 (红色, 3))
    .计次循环尾 ()
    赋值 (当前列, 相加 (当前列, 3))
    赋值 (蓝色, 相加 (蓝色, 纠正位))
    赋值 (绿色, 相加 (绿色, 纠正位))
    赋值 (红色, 相加 (红色, 纠正位))
    赋值 (新图像, 相加 (新图像, 取空白字节集 (纠正位)))
.计次循环尾 ()
赋值 (新图像, 字节集替换 (新图像, 3, 4, 到字节集 (文件大小)))
赋值 (新图像, 字节集替换 (新图像, 19, 4, 到字节集 (高度)))
赋值 (新图像, 字节集替换 (新图像, 23, 4, 到字节集 (宽度)))
赋值 (新图像, 字节集替换 (新图像, 35, 4, 到字节集 (数据大小)))
赋值 (., 新图像)

.子程序 _按钮1_被单击, 空白型, , 
逆旋90度 (图片)
赋值 (., 真)

.子程序 _按钮2_被单击, 空白型, , 
顺旋90度 (图片)
赋值 (., 真)

.子程序 __启动窗口_创建完毕, 空白型, , 
赋值 (.取图片 ())



 ' 不属于任何一个程序集、类模块的函数：
