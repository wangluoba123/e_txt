 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 380
    高度 = 289
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 5 0 系统核心支持库





.窗口程序集 窗口程序集1, , , 

.程序集变量 a, 字节集, , , 
.程序集变量 b, 字节集, , , 
.程序集变量 h, 整数型, , , 
.程序集变量 记录, 整数型, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 
赋值 (h, 打开文件 (“D:\问道\client.dbfs”, , ))
 ' h ＝ 打开文件 (“D:\Desktop\update\client.dbfs”, , )
创建目录 (“输出”)

.子程序 _按钮1_被单击, 空白型, , 
.局部变量 大小, 整数型, , , 
.局部变量 aa, 整数型, 静态, , 

.循环判断首 ()
    赋值 (记录, 寻找字节集 (a, { 255, 216, 255, 224 }, 记录))
    赋值 (大小, 相加 (相减 (寻找字节集 (a, { 255, 217 }, 记录), 记录), 2))
    赋值 (取字节集中间 (a, 记录, 大小))
    赋值 (., 修复 ())
    赋值 (记录, 相加 (记录, 10))
    .如果真 (.)
        赋值 (aa, 相加 (aa, 1))
        输出调试文本 (写到文件 (相加 (取运行目录 (), “\输出\”, 到文本 (aa), “.jpg”), 修复 (b)))
    .如果真结束
    处理事件 ()
.循环判断尾 (.)


.子程序 修复, 字节集, , 
.参数 图片, 字节集, , 

.局部变量 修, 字节集, , , 
.局部变量 还有, 逻辑型, , , 

.如果真 (等于 (寻找字节集 (图片, { 0, 0, 0, 0, 1, 0, 0, 0 }, ), -1))
    返回 (图片)
.如果真结束
赋值 (修, 字节集替换 (图片, 寻找字节集 (图片, { 0, 0, 0, 0, 1, 0, 0, 0 }, ), 26, ))
.如果真 (等于 (寻找字节集 (修, { 0, 0, 0, 0, 1, 0, 0, 0 }, ), -1))
    返回 (修)
.如果真结束
.循环判断首 ()
    赋值 (修, 字节集替换 (修, 寻找字节集 (修, { 0, 0, 0, 0, 1, 0, 0, 0 }, ), 26, ))
    .如果 (大于 (寻找字节集 (修, { 0, 0, 0, 0, 1, 0, 0, 0 }, ), -1))
        赋值 (还有, 真)
    .否则
        赋值 (还有, 假)
    .如果结束
    
.循环判断尾 (还有)
返回 (修)


.子程序 _按钮2_被单击, 空白型, , 
 ' a ＝ 读入文件 (“D:\Desktop\update\client.dbfs”)
赋值 (记录, 1)
输出调试文本 (是否在文件尾 (h, ))
赋值 (a, 读入字节集 (h, 104857600))
输出调试文本 (取字节集长度 (a))
输出调试文本 (h)

.子程序 _按钮3_被单击, 空白型, , 
写到文件 (相加 (取运行目录 (), “\123.jpg”), 修复 (b))


 ' 不属于任何一个程序集、类模块的函数：
