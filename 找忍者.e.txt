 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 682
    高度 = 439
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = 15527148 '  0xECECEC
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 已保存到：D:\易语言学习\Data\找忍者.e\_启动窗口_图标.ico
    背景音乐 =  ' 空
    标题 = “找忍者 --- by klince”
    帮助文件名 = “”





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库
 ' EdirectX 81690053A86045bf9E362F5DE0BC4095 1 5 DirectX支持库




.全局变量 系统屏幕, 未知类型0x20007, , , 

.类模块 塔类, , , 

.程序集变量 位置X, 双精度小数型, , , 
.程序集变量 位置Y, 双精度小数型, , , 
.程序集变量 塔, 未知类型0x2000B, , , 
.程序集变量 状态, 整数型, , , 0为存在，1为不存在
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用
赋值 (状态, 0)

.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 创建, 空白型, 公开, 
.参数 位置, 双精度小数型, , 

塔.未知支持库函数_111 (系统屏幕, “ta.bmp”, #)
塔.未知支持库函数_157 ()
赋值 (位置X, 位置)
赋值 (位置Y, 30)

.子程序 取位置X, 整数型, 公开, 
返回 (位置X)

.子程序 取位置Y, 整数型, 公开, 
返回 (位置Y)


.子程序 置位置X, 空白型, 公开, 
.参数 位置, 整数型, , 

赋值 (位置X, 位置)

.子程序 置位置Y, 空白型, 公开, 
.参数 位置, 整数型, , 

赋值 (位置Y, 位置)

.子程序 取状态, 整数型, 公开, 
返回 (状态)

.子程序 置状态, 空白型, 公开, 
.参数 状态a, 整数型, , 

赋值 (状态, 状态a)

.子程序 隐忍者运动, 空白型, 公开, 
赋值 (位置Y, 相加 (位置Y, 3))

.子程序 塔交换运动, 空白型, 公开, 
.参数 方向, 整数型, , 1为向右，-1为向左

.局部变量 相对位置x, 整数型, , , 
.局部变量 相对位置y, 整数型, , , 
.局部变量 r, 整数型, , , 
.局部变量 临时塔, 塔类, , , 用于交换

赋值 (r, 相除 (取绝对值 (相减 (_启动窗口., _启动窗口.)), 2))
.如果 (等于 (方向, 1))
    赋值 (相对位置x, 相减 (位置X, _启动窗口.))
    
    .如果 (小于 (相对位置x, 相乘 (2, r)))
        赋值 (相对位置x, 相加 (相对位置x, 相乘 (1.32, 4)))
        赋值 (相对位置y, 负 (求平方根 (相减 (相乘 (r, r), 求次方 (相减 (相对位置x, r), 2)))))
        赋值 (位置X, 相加 (相对位置x, _启动窗口.))
        赋值 (位置Y, 相加 (相对位置y, _启动窗口.))
        
    .否则
        
    .如果结束
    
.否则
    .如果 (等于 (方向, -1))
        赋值 (相对位置x, 相减 (位置X, _启动窗口.))
        .如果 (大于 (相对位置x, 负 (相乘 (2, r))))
            赋值 (相对位置x, 相减 (相对位置x, 相乘 (1.32, 4)))
            赋值 (相对位置y, 求平方根 (相减 (相乘 (r, r), 求次方 (相加 (相对位置x, r), 2))))
            赋值 (位置X, 相加 (相对位置x, _启动窗口.))
            赋值 (位置Y, 相加 (相对位置y, _启动窗口.))
            
            
        .否则
             ' 重定位忍者位置
            .如果 (等于 (_启动窗口., _启动窗口.))
                赋值 (_启动窗口., _启动窗口.)
            .否则
                .如果 (等于 (_启动窗口., _启动窗口.))
                    赋值 (_启动窗口., _启动窗口.)
                .否则
                    
                .如果结束
                
            .如果结束
             ' 塔坐标位置修正
            _启动窗口.置位置Y (. [_启动窗口]., _启动窗口.)
            _启动窗口.置位置Y (. [_启动窗口]., _启动窗口.)
            
            .如果 (大于 (., .))
                _启动窗口.置位置X (. [_启动窗口]., _启动窗口.)
                _启动窗口.置位置X (. [_启动窗口]., _启动窗口.)
                
            .否则
                _启动窗口.置位置X (. [_启动窗口]., _启动窗口.)
                _启动窗口.置位置X (. [_启动窗口]., _启动窗口.)
                
            .如果结束
            
             ' 重定位塔的位置
            加入成员 (_启动窗口., 临时塔)
            赋值 (临时塔, _启动窗口. [_启动窗口].)
            赋值 (_启动窗口. [_启动窗口]., _启动窗口. [_启动窗口].)
            赋值 (_启动窗口. [_启动窗口]., 临时塔)
            
            
            
            赋值 (_启动窗口., 真)
            赋值 (_启动窗口., 相加 (_启动窗口., 1))
            
        .如果结束
        
    .否则
        
    .如果结束
    
.如果结束


.子程序 画塔, 空白型, 公开, 
.参数 目的页面, 未知类型0x2000B, , 

塔.未知支持库函数_134 (目的页面, 位置X, 位置Y, )

.类模块 忍者类, , , 

.程序集变量 位置X, 整数型, , , 
.程序集变量 位置Y, 整数型, , , 
.程序集变量 忍者, 未知类型0x2000B, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 创建, 空白型, 公开, 
.参数 位置, 整数型, , 

忍者.未知支持库函数_111 (系统屏幕, “nz.bmp”, #)
忍者.未知支持库函数_157 ()
赋值 (位置X, 位置)
赋值 (位置Y, 180)

.子程序 取位置X, 整数型, 公开, 
返回 (位置X)

.子程序 取位置Y, 整数型, 公开, 
返回 (位置Y)

.子程序 画忍者, 空白型, 公开, 
.参数 目的页面, 未知类型0x2000B, , 

忍者.未知支持库函数_134 (目的页面, 位置X, 位置Y, )


.子程序 向上运动, 空白型, 公开, 
赋值 (位置Y, 相减 (位置Y, 3))
赋值 (位置X, 相减 (相加 (_启动窗口.取位置X (. [_启动窗口].), 41), 15))


.窗口程序集 窗口程序集1, , , 

.程序集变量 后台页面, 未知类型0x2000B, , , 
.程序集变量 塔, 塔类, , , 
.程序集变量 塔组, 塔类, , "0", 
.程序集变量 忍者, 忍者类, , , 
.程序集变量 忍者位置, 整数型, , , 
.程序集变量 _周期, 整数型, , , 
.程序集变量 过程计次, 整数型, , , 
.程序集变量 方向1, 整数型, , , 1为向右，-1为向左
.程序集变量 方向2, 整数型, , , 同上
.程序集变量 变换塔1初始X, 整数型, , , 左边的一个
.程序集变量 变换塔2初始X, 整数型, , , 右边的一个
.程序集变量 初始y, 整数型, , , 
.程序集变量 交换结束, 逻辑型, , , 
.程序集变量 a, 整数型, , , 用于记录变换的是哪两个塔
.程序集变量 b, 整数型, , , 同上
.程序集变量 塔个数, 整数型, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 
置随机数种子 ()

赋值 (塔个数, 5)

赋值 (初始y, 126)

.子程序 初始化, 空白型, , 
.局部变量 随机数, 整数型, , , 
.局部变量 i, 整数型, , , 

清除数组 (塔组)
取窗口句柄 ().未知支持库函数_64 (.宽度, .高度)
赋值 (随机数, 取随机数 (1, 塔个数))
赋值 (真)
赋值 (0)
.变量循环首 (1, , 1, )
    相乘 (100).未知函数_67174792 ()
    加入成员 ()
    
    .如果 (等于 ())
        相加 (相减 (相乘 (100), 15), 41).未知函数_67174793 () ' 41为塔宽的一半
        赋值 ()
    .否则
        
    .如果结束
    
.变量循环尾 ()


.子程序 隐忍者, 空白型, , 
.局部变量 i, 整数型, , , 

赋值 (后台页面, 系统屏幕.未知支持库函数_83 ())
.变量循环首 (1, 塔个数, 1, i)
    塔组.隐忍者运动 ( [i])
    .如果 (等于 (i, 忍者位置))
        忍者.画忍者 (后台页面)
        塔组.画塔 ( [i], 后台页面)
    .否则
        塔组.画塔 ( [i], 后台页面)
    .如果结束
    
.变量循环尾 ()

系统屏幕.未知支持库函数_69 (假, 假, 假)
后台页面.未知支持库函数_124 (#银白)

.子程序 塔交换, 空白型, , 
.局部变量 i, 整数型, , , 

赋值 (后台页面, 系统屏幕.未知支持库函数_83 ())
.如果 (等于 (交换结束, 真))
    赋值 (交换结束, 假)
    赋值 (a, 取随机数 (1, 塔个数))
    赋值 (b, 取随机数 (1, 塔个数))
    
    .判断循环首 (不等于 (取绝对值 (相减 (b, a)), 1))
        赋值 (b, 取随机数 (1, 塔个数))
    .判断循环尾 ()
    输出调试文本 (相加 (到文本 (a), “,”, 到文本 (b)))
     ' a ＝ 3
     ' b ＝ 2
    .如果 (大于 (a, b))
        赋值 (方向1, -1)
        赋值 (变换塔1初始X, 相乘 (b, 100))
        赋值 (变换塔2初始X, 相乘 (a, 100))
        
    .否则
        赋值 (方向1, 1)
        赋值 (变换塔1初始X, 相乘 (a, 100))
        赋值 (变换塔2初始X, 相乘 (b, 100))
        
        
    .如果结束
     ' 方向1 ＝ (b － a) ÷ 取绝对值 (a － b)
    赋值 (方向2, 负 (方向1))
    
    
.否则
    
.如果结束
赋值 (i, 1)
.计次循环首 (塔个数, i)
    .如果 (或者 (等于 (i, a), 等于 (i, b)))
        
    .否则
        塔组.画塔 ( [i], 后台页面)
    .如果结束
    
.计次循环尾 ()
.如果 (大于 (a, b)) ' 保证方向为-1的靠后运行（重要代码都放在那儿）
    塔组.塔交换运动 ( [b], 方向2)
    塔组.塔交换运动 ( [a], 方向1)
.否则
    .未知函数_67174697 ()
    .未知函数_67174697 ()
    
.如果结束
塔组.画塔 ( [a], 后台页面)
塔组.画塔 ( [b], 后台页面)
系统屏幕.未知支持库函数_69 (假, 假, 假)
后台页面.未知支持库函数_124 (#银白)


.子程序 _按钮1_被单击, 空白型, , 
连续赋值 (真, .禁止, .禁止, .禁止, .禁止)

初始化 ()
后台页面.未知支持库函数_124 (#银白)
忍者.画忍者 (后台页面)

赋值 (_周期, 30)
.判断循环首 (小于 (塔组.取位置Y ( [1]), 相加 (76, 50)))
    隐忍者 ()
    处理事件 ()
    延时 (_周期)
.判断循环尾 ()
赋值 (_周期, 10)
.循环判断首 ()
    塔交换 ()
    处理事件 ()
    延时 (_周期)
.循环判断尾 (小于 (过程计次, 10))



.子程序 __启动窗口_鼠标左键被放开, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

.局部变量 i, 整数型, , , 
.局部变量 所选塔, 整数型, , , 
.局部变量 选中塔, 逻辑型, , , 

.如果 (并且 (大于或等于 (纵向位置, 126), 小于或等于 (纵向位置, 222)))
    .变量循环首 (1, 塔个数, 1, i)
        .如果 (并且 (大于或等于 (横向位置, 相乘 (100, i)), 小于或等于 (横向位置, 相加 (相乘 (100, i), 82)))) ' 82为塔宽
            赋值 (所选塔, i)
            .如果 (等于 (塔组.取状态 ( [所选塔]), 1))
                
            .否则
                赋值 (选中塔, 真)
                跳出循环 ()
            .如果结束
            
        .否则
            赋值 (选中塔, 假)
        .如果结束
        
    .变量循环尾 ()
    .如果 (等于 (选中塔, 真))
        后台页面.未知支持库函数_160 (“宋体”, 20, 30, 500)
        未知支持库函数_161 ()
        
        .如果 (不等于 ())
            赋值 (10)
            .循环判断首 ()
                未知函数_67174762 ()
                处理事件 ()
                延时 ()
            .循环判断尾 (大于 (-1))
        .否则
            
            赋值 (10)
            .循环判断首 ()
                显忍者 (所选塔)
                处理事件 ()
                延时 ()
            .循环判断尾 (大于 (-1))
            
            连续赋值 (假, .禁止, .禁止, .禁止, .禁止)
            
        .如果结束
        
        
        
    .否则
        
    .如果结束
    
.否则
    
.如果结束


.子程序 消塔, 空白型, , 
.参数 所选塔, 空白型, , 

.局部变量 i, 整数型, , , 

#银白.未知支持库函数_124 ()

.变量循环首 (1, 塔个数, 1, i)
    .如果 (并且 (不等于 (i, 所选塔), 不等于 (塔组.取状态 ( [i]), 1)))
        塔组.画塔 ( [i], 后台页面)
    .否则
        
    .如果结束
    
.变量循环尾 ()

.如果 (大于 (相减 (未知函数_67174718 (), 3), 0))
    塔组.置位置Y ( [所选塔], 相减 (塔组.取位置Y ( [所选塔]), 3))
    塔组.画塔 ( [所选塔], 后台页面)
.否则
    塔组.置状态 ( [所选塔], 1)
    赋值 (_周期, -1)
.如果结束
50.未知支持库函数_126 (30, #红色, “这么简单也会错？”)

系统屏幕.未知支持库函数_69 (假, 假, 假)


.子程序 显忍者, 空白型, , 
.参数 所选塔, 空白型, , 

.局部变量 i, 整数型, , , 

后台页面.未知支持库函数_124 (#银白)
.变量循环首 (1, 塔个数, 1, i)
    .如果 (不等于 (塔组.取状态 ( [i]), 1))
        .未知函数_67174749 ()
    .否则
        
    .如果结束
    
.变量循环尾 ()

忍者.向上运动 ()
.如果 (小于或等于 (相加 (忍者.取位置Y (), 42), 初始y))
    赋值 (_周期, -1)
.否则
    
.如果结束
忍者.画忍者 (后台页面)
后台页面.未知支持库函数_126 (50, 30, #红色, “简单如此的游戏，”)
后台页面.未知支持库函数_126 (50, 60, #红色, “赢了也没有成就感吧``”)
系统屏幕.未知支持库函数_69 (假, 假, 假)

.子程序 _单选框1_被单击, 空白型, , 
赋值 (_启动窗口.宽度, 相加 (300, 82, 100))
赋值 (_启动窗口.位置, 1)
赋值 (塔个数, 3)


.子程序 _单选框2_被单击, 空白型, , 
赋值 (_启动窗口.宽度, 相加 (400, 82, 100))
赋值 (.位置, 1)
赋值 (塔个数, 4)


.子程序 _单选框3_被单击, 空白型, , 
赋值 (_启动窗口.宽度, 相加 (500, 82, 100))
赋值 (.位置, 1)
赋值 (塔个数, 5)



 ' 不属于任何一个程序集、类模块的函数：
