 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：本源码来自易语言资源网(www.5A5X.com)
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：             易语言资源网注意事项
--============   www.5A5X.com  =============--
* 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权纠纷本站概不负责！
* 本站资源未经许可,任何网站不得非法盗链及抄袭本站资源；如引用，请注明来自易语言资源网，谢谢合作！
--============   www.5A5X.com  =============--
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 856
    高度 = 616
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 真
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    窗口类名 = “”
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “”
    帮助文件名 = “”

窗口 窗口_弹窗公告
    左边 = 50
    顶边 = 50
    宽度 = 380
    高度 = 200
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = 14458472 '  0xDC9E68
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 假
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    窗口类名 = “”
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “”
    帮助文件名 = “”

窗口 窗口_系统客服
    左边 = 50
    顶边 = 50
    宽度 = 380
    高度 = 250
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    窗口类名 = “”
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “客服人员”
    帮助文件名 = “”

窗口 窗口_会员
    左边 = 50
    顶边 = 50
    宽度 = 265
    高度 = 189
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    窗口类名 = “”
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “会员管理”
    帮助文件名 = “”



.图片 托盘图标1, " ' 已保存到：D:\易语言学习\Data\服务端Y.e\托盘图标1", , 16*16
.常量 客户_帐号, "“帐号”", , 
.常量 客户_密码, "“密码”", , 
.常量 客户_昵称, "“昵称”", , 
.常量 客户_备注名称, "“备注名称”", , 
.常量 客户_姓名, "“姓名”", , 
.常量 客户_英文名, "“英文名”", , 
.常量 客户_性别, "“性别”", , 
.常量 客户_年龄, "“年龄”", , 
.常量 客户_会员, "“会员”", , 
.常量 客户_个性签名, "“个性签名”", , 
.常量 客户_生日, "“生日”", , 
.常量 客户_生肖, "“生肖”", , 
.常量 客户_星座, "“星座”", , 
.常量 客户_血型, "“血型”", , 
.常量 客户_故乡, "“故乡”", , 
.常量 客户_所在地, "“所在地”", , 
.常量 客户_地址, "“地址”", , 
.常量 客户_邮编, "“邮编”", , 
.常量 客户_电话, "“电话”", , 
.常量 客户_手机, "“手机”", , 
.常量 客户_主页, "“主页”", , 
.常量 客户_职业, "“职业”", , 
.常量 客户_学历, "“学历”", , 
.常量 客户_邮箱, "“邮箱”", , 
.常量 客户_个人说明, "“个人说明”", , 
.常量 客户_注册时间, "“注册时间”", , 
.常量 客户_在线时长, "“在线时长”", , 
.常量 客户_总在线时长, "“总在线时长”", , 
.常量 客户_登录天数, "“登录天数”", , 
.常量 客户_累积天数, "“累积天数”", , 
.常量 客户_积分, "“积分”", , 
.常量 客户_等级, "“等级”", , 
.常量 客户_头像编号, "“头像编号”", , 
.常量 客户_分组名称, "“分组名称”", , 
.常量 客户_属下好友, "“属下好友”", , 
.常量 客户_属下黑名单, "“属下黑名单”", , 
.常量 客户_禁止登录, "“禁止登录”", , 
.常量 客户_禁止发言, "“禁止发言”", , 
.常量 客户_密保问题1, "“密保问题1”", , 
.常量 客户_密保回答1, "“密保回答1”", , 
.常量 客户_密保问题2, "“密码问题2”", , 
.常量 客户_密保回答2, "“密保回答2”", , 
.常量 客户_密保问题3, "“密保问题3”", , 
.常量 客户_密保回答3, "“密保回答3”", , 
.常量 , , , 
.常量 端口, "9001", , 
.常量 托盘提示, "“V V 2012 服务端”", , 
.常量 , , , 


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 5 0 系统核心支持库
 ' iext 27bb20fdd3e145e4bee3db39ddd6e64c 2 0 扩展界面支持库一
 ' EThread 5F99C1642A2F4e03850721B4F5D7C3F8 2 0 多线程支持库
 ' spec A512548E76954B6E92C21055517615B0 3 1 特殊功能支持库
 ' dp1 4BB4003860154917BC7D8230BF4FA58A 2 0 数据操作支持库一
 ' mysql 7F54B9CE8887428dBA9CEEB94CEF4C72 3 0 MySQL支持库
 ' Exmlrpc A36CFD538657479eBD7C0D287BBB3D95 2 0 远程服务支持库




数据类型 用户信息, , 用户的所有信息
    .成员 帐号, 文本型, , , 占用10个字节
    .成员 密码, 文本型, , , 占用20个字节
    .成员 昵称, 文本型, , , 占用20个字节
    .成员 备注名称, 文本型, , , 占用20个字节
    .成员 姓名, 文本型, , , 占用10个字节
    .成员 英文名, 文本型, , , 占用20字节
    .成员 性别, 文本型, , , 占用2个字节
    .成员 年龄, 字节型, , , 用户的年龄
    .成员 会员, 逻辑型, , , 真为开通会员
    .成员 个性签名, 文本型, , , 占用128个字节
    .成员 生日, 日期时间型, , , 用户的生日
    .成员 生肖, 文本型, , , 占用2个字节
    .成员 星座, 文本型, , , 占用6字节
    .成员 血型, 文本型, , , 占用10字节
    .成员 故乡, 文本型, , , 占用40字节
    .成员 所在地, 文本型, , , 占用40字节
    .成员 地址, 文本型, , , 占用40字节
    .成员 邮编, 文本型, , , 占用6字节
    .成员 电话, 文本型, , , 占用15字节
    .成员 手机, 文本型, , , 占用11字节
    .成员 主页, 文本型, , , 占用20字节
    .成员 职业, 文本型, , , 占用20字节
    .成员 学历, 文本型, , , 占用10字节
    .成员 邮箱, 文本型, , , 占用40字节
    .成员 个人说明, 文本型, , , 占用512字节
    .成员 注册时间, 日期时间型, , , 用户的注册时间
    .成员 总在线时长, 长整数型, , , 以分钟记录
    .成员 登录天数, 短整数型, , , 登录的天数
    .成员 累积天数, 短整数型, , , 每天在线达到指定的时间才累积1天
    .成员 积分, 整数型, , , 用户的积分
    .成员 等级, 字节型, , , 在线累积的等级
    .成员 头像编号, 字节型, , , 记录用户的头像
    .成员 分组名称, 文本型, , , 用来记录用户的分组
    .成员 属下好友, 文本型, , , 不限字节,用来记录帐号下的所有好友
    .成员 属下黑名单, 文本型, , , 不限字节,用来记录帐号下被拉黑的人员
    .成员 禁止登录, 逻辑型, , , 为真时禁止用户登录
    .成员 禁止发言, 逻辑型, , , 为真时禁止用户说话
    .成员 密保问题1, 文本型, , , 占用64字节
    .成员 密保回答1, 文本型, , , 占用64字节
    .成员 密保问题2, 文本型, , , 占用64字节
    .成员 密保回答2, 文本型, , , 占用64字节
    .成员 密保问题3, 文本型, , , 占用64字节
    .成员 密保回答3, 文本型, , , 占用64字节

.全局变量 系统_客服人员, 文本型, , "0", 
.全局变量 MYSQL句柄, 整数型, , , 
.全局变量 服务器, 未知类型0x70001, , , 

.窗口程序集 窗口程序集1, , , 

.程序集变量 程_传递参数, 文本型, , , 
.程序集变量 属下备注, 文本型, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 
 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--

置托盘图标 (#托盘图标1, #托盘提示)
载入 (真)
.判断开始 (服务器.未知支持库函数_1 (#端口, &子程序_处理函数, 假))
    赋值 (_启动窗口., “(服务端启动成功)”)
    赋值 (MYSQL句柄, 未知支持库函数_1 (“127.0.0.1”, “root”, “”, “vv”, 3306))
    未知支持库函数_3 (MYSQL句柄, “SET NAMES 'GBK'”)
    输出调试文本 (MYSQL句柄)
    .如果真 (等于 (MYSQL句柄, 0))
        信息框 (“连接数据库失败，请检查数据库配置！”, 相加 (#确认钮, #错误图标), “错误”)
        结束 ()
    .如果真结束
    赋值 (系统_客服人员, 分割文本 (到文本 (读入文件 (相加 (取运行目录 (), “\客服人员.txt”))), “*”, ))
    
    
.默认
     ' 本源码来自易语言资源网(www.5A5X.com)
    赋值 (_启动窗口., “(服务端启动失败)”)
.判断结束


.子程序 子程序_处理函数, 空白型, , 
.参数 请求消息地址, 整数型, , 

.局部变量 客户句柄, 整数型, , , 
.局部变量 客户IP, 文本型, , , 
.局部变量 消息类型, 整数型, , , 有客户连接返回0，外断返回1，数据到达返回2，出错返回-1
.局部变量 变量地址, 整数型, , , 
.局部变量 请求代码, 文本型, , , 
.局部变量 请求信息, 字节集, , , 
.局部变量 n1, 整数型, , , 
.局部变量 客户离开坐标, 整数型, , , 
.局部变量 客户时间, 整数型, , , 
.局部变量 SQL, 文本型, , , 

赋值 (消息类型, 服务器.未知支持库函数_27 (请求消息地址))
服务器.未知支持库函数_8 (请求消息地址, 客户句柄)
服务器.未知支持库函数_9 (客户句柄, 客户IP)
.判断开始 (等于 (消息类型, 0)) ' 有客户连接到服务端
    
.判断 (等于 (消息类型, 1)) ' 有客户与服务器失去链接
    
    赋值 (客户离开坐标, 到文本 (客户句柄).查找表项 (1))
    .如果真 (等于 (客户离开坐标, -1))
        返回 ()
    .如果真结束
    赋值 (客户时间, 到数值 (取时间间隔 (取现行时间 (), 到时间 (客户离开坐标.取标题 (5)), #分钟)))
    .如果真 (大于 (客户时间, 120))
        赋值 (客户时间, 相乘 (60, 24))
    .如果真结束
    赋值 (SQL, 相加 (“update vvuser set `总在线时长`=总在线时长+”, 到文本 (客户时间), “ where `帐号`=”, 客户离开坐标.取标题 (2)))
    输出调试文本 (SQL)
    未知支持库函数_3 (MYSQL句柄, SQL)
    赋值 (程_传递参数, 客户离开坐标.取标题 (2))
    赋值 (变量地址, 取变量数据地址 (程_传递参数))
    .如果真 (大于 (变量地址, 0))
        未知支持库函数_0 (&通知好友下线, 变量地址, )
    .如果真结束
     ' 本源码来自易语言资源网(www.5A5X.com)
    客户离开坐标.删除表项 ()
    
.判断 (等于 (消息类型, 2)) ' 有客户发送请求数据
    服务器.未知支持库函数_5 (请求消息地址, 请求代码, 请求信息)
    赋值 (程_传递参数, 相加 (到文本 (客户句柄), “~”, 客户IP, “~”, 到文本 (未知支持库函数_1 (请求信息))))
    
    赋值 (变量地址, 取变量数据地址 (程_传递参数))
    .如果真 (大于 (变量地址, 0))
        未知支持库函数_0 (&子程序_处理客户端所有请求, 变量地址, )
    .如果真结束
    
.默认
    
.判断结束
.判断开始 (等于 (消息类型, -1)) ' 未知错误
    
.默认
    
.判断结束


.子程序 通知好友下线, 空白型, , 
.参数 下线帐号, 文本型, , 

.局部变量 子记录集句柄, 整数型, , , 
.局部变量 属下好友, 文本型, , , 
.局部变量 好友, 文本型, , "0", 
.局部变量 i, 整数型, , , 
.局部变量 好友坐标, 整数型, , , 
.局部变量 好友句柄, 整数型, , , 
.局部变量 SQL, 文本型, , , 

赋值 (SQL, 相加 (“select `属下好友` from `vvuser` where `帐号`=”, 下线帐号))
输出调试文本 (SQL)
未知支持库函数_3 (MYSQL句柄, SQL)

赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
未知支持库函数_12 (子记录集句柄)
.如果真 (等于 (未知支持库函数_7 (子记录集句柄), 0))
    未知支持库函数_5 (子记录集句柄)
    返回 ()
.如果真结束
.如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
    未知支持库函数_6 (子记录集句柄, #客户_属下好友, 属下好友)
    未知支持库函数_5 (子记录集句柄)
    赋值 (好友, 分割文本 (属下好友, “*”, ))
    .如果真 (大于 (取数组成员数 (好友), 0))
        .计次循环首 (取数组成员数 (好友), i)
            赋值 (好友坐标, 好友.查找表项 ( [i], , , 2))
            .如果真 (不等于 (好友坐标, -1))
                赋值 (好友句柄, 到数值 (好友坐标.取标题 (1)))
                服务器.未知支持库函数_7 (好友句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|好友下线|”, 下线帐号))))
            .如果真结束
            
        .计次循环尾 ()
    .如果真结束
    
.如果真结束


.子程序 子程序_处理客户端所有请求, 空白型, , 
.参数 参数, 文本型, , 

.局部变量 客户句柄, 整数型, , , 
.局部变量 客户IP, 文本型, , , 
.局部变量 传递过来的参数, 文本型, , "3", 
.局部变量 分割好的, 文本型, , "0", 
.局部变量 用户信息, 用户信息, , , 
.局部变量 匿名局部变量_474, 空白型, , , 
.局部变量 客户B的句柄, 整数型, , , 
.局部变量 匿名局部变量_557, 空白型, , , 
.局部变量 n1, 整数型, , , 
.局部变量 帐号, 文本型, , , 
.局部变量 表项数, 整数型, , , 
.局部变量 匿名局部变量_566, 空白型, , , 
.局部变量 好友, 文本型, , "0", 
.局部变量 好友资料, 文本型, , , 
.局部变量 匿名局部变量_577, 空白型, , , 
.局部变量 客户A的资料, 文本型, , , 
.局部变量 客户B的资料, 文本型, , , 
.局部变量 客户帐号, 文本型, , , 
.局部变量 客户昵称, 文本型, , , 
.局部变量 客户头像编号, 文本型, , , 
.局部变量 匿名局部变量_606, 空白型, , , 
.局部变量 是否有离线消息, 逻辑型, , , 
.局部变量 离线消息_一次分割, 文本型, , "0", 
.局部变量 离线消息_二次分割, 文本型, , "3", 
.局部变量 离线消息_合并, 文本型, , , 将同一个人所有离线消息合并然后发往客户
.局部变量 离线消息_昵称, 文本型, , , 客户的昵称
.局部变量 离线消息_文本, 文本型, , , 
.局部变量 离线消息_未处理的消息, 文本型, , , 将没有发送出去的离线消息重新保存下来
.局部变量 文件号, 整数型, , , 
.局部变量 客户个性签名, 文本型, , , 
.局部变量 局部_记录集, 整数型, , , 
.局部变量 局部_赋值语句, 文本型, , , 
.局部变量 注册时间, 文本型, , , 
.局部变量 SQL, 文本型, , , 
.局部变量 子记录集句柄, 整数型, , , 
.局部变量 密码, 文本型, , , 
.局部变量 禁止登录, 整数型, , , 
.局部变量 禁止发言, 整数型, , , 
.局部变量 属下好友, 文本型, , , 
.局部变量 好友帐号, 文本型, , , 
.局部变量 好友昵称, 文本型, , , 
.局部变量 好友签名, 文本型, , , 
.局部变量 好友头像, 整数型, , , 
.局部变量 资料_等级, 文本型, , , 
.局部变量 资料_在线时长, 文本型, , , 
.局部变量 资料_昵称, 文本型, , , 
.局部变量 资料_英文名, 文本型, , , 
.局部变量 资料_注册时间, 文本型, , , 
.局部变量 资料_个性签名, 文本型, , , 
.局部变量 资料_姓名, 文本型, , , 
.局部变量 资料_星座, 文本型, , , 
.局部变量 资料_性别, 文本型, , , 
.局部变量 资料_生肖, 文本型, , , 
.局部变量 资料_血型, 文本型, , , 
.局部变量 资料_生日, 文本型, , , 
.局部变量 资料_年龄, 文本型, , , 
.局部变量 资料_学历, 文本型, , , 
.局部变量 资料_职业, 文本型, , , 
.局部变量 资料_手机, 文本型, , , 
.局部变量 资料_邮箱, 文本型, , , 
.局部变量 资料_邮编, 文本型, , , 
.局部变量 资料_电话, 文本型, , , 
.局部变量 资料_主页, 文本型, , , 
.局部变量 资料_故乡, 文本型, , , 
.局部变量 资料_所在地, 文本型, , , 
.局部变量 资料_个人说明, 文本型, , , 
.局部变量 资料_头像编号, 文本型, , , 
.局部变量 资料_帐号, 文本型, , , 
.局部变量 资料_属下好友, 文本型, , , 
.局部变量 好友坐标, 整数型, , , 
.局部变量 好友句柄, 整数型, , , 
.局部变量 好友分组, 文本型, , , 
.局部变量 分组名称, 文本型, , , 
.局部变量 资料_好友分组, 文本型, , , 
.局部变量 资料_分组名称, 日期时间型, , , 
.局部变量 客户在线时间, 文本型, , , 
.局部变量 i, 整数型, , , 
.局部变量 客服资料, 文本型, , , 
.局部变量 属下黑名单, 文本型, , , 
.局部变量 黑名单好友, 文本型, , , 
.局部变量 资料_属下黑名单, 文本型, , , 
.局部变量 群_备注, 文本型, , , 
.局部变量 群_群号, 文本型, , , 
.局部变量 群_帐号, 文本型, , , 
.局部变量 群_成员, 文本型, , , 
.局部变量 群_名称, 文本型, , , 
.局部变量 群_公告, 文本型, , , 
.局部变量 群_简介, 文本型, , , 
.局部变量 群_成员备注, 文本型, , , 
.局部变量 成员备注, 文本型, , "0", 
.局部变量 群_群主名片, 文本型, , , 
.局部变量 备注好友, 文本型, , "0", 
.局部变量 会员, 整数型, , , 
.局部变量 我的会员, 整数型, , , 



赋值 (传递过来的参数, 分割文本 (参数, “~”, ))
赋值 (客户句柄, 到整数 (传递过来的参数 [1]))
赋值 (客户IP, 传递过来的参数 [2])

赋值 (分割好的, 分割文本 (传递过来的参数 [3], “|”, ))
赋值 (表项数, 取表项数 ())
.判断开始 (等于 (分割好的 [1], “&心跳”))
    赋值 (好友坐标, 到文本 (客户句柄).查找表项 (1))
    .如果 (不等于 (好友坐标, -1))
        服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&心跳|”)))
    .否则
        相加 (“用户 [”, 客户IP, “] 帐号 [”, 分割好的 [2], “] 心跳失败！！！”).加入项目 ()
    .如果结束
    返回 ()
    
.默认
    
.判断结束

.判断开始 (等于 (分割好的 [1], “&用户注册”))
    赋值 (SQL, “select `帐号` from `vvuser` ORDER BY `帐号` DESC limit 0,1”)
    未知支持库函数_3 (MYSQL句柄, SQL)
    赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
    未知支持库函数_12 (子记录集句柄)
    未知支持库函数_6 (子记录集句柄, “帐号”, 帐号)
    未知支持库函数_5 (子记录集句柄)
    输出调试文本 (帐号)
    .如果 (等于 (帐号, “”))
        赋值 (帐号, 到文本 (50001)) ' 帐号注册从50001开始
    .否则
        赋值 (帐号, 到文本 (相加 (到数值 (帐号), 1))) ' 开始分配帐号
    .如果结束
    
    .判断循环首 (子程序_过滤帐号 (帐号)) ' 取出一个不在过滤列表中的帐号
        赋值 (帐号, 到文本 (相加 (到数值 (帐号), 1)))
    .判断循环尾 ()
    赋值 (分割好的 [5], 处理时间 (分割好的 [5], 假))
    赋值 (注册时间, 处理时间 (到文本 (取现行时间 ()), 假))
    赋值 (局部_赋值语句, 相加 (“'”, 帐号, “','”, 分割好的 [2], “','”, 分割好的 [3], “','”, 分割好的 [4], “',”, 分割好的 [5], “,'”, 分割好的 [6], “','”, 分割好的 [7], “','”, 分割好的 [8], “','”, 分割好的 [9], “','”, 分割好的 [10], “','”, 分割好的 [11], “','14”, “',”, 注册时间))
    赋值 (SQL, 相加 (“insert into `vvuser` (`帐号`,`昵称`,`性别`,`密码`,`生日`,`密保问题1`,`密保回答1`,`密保问题2`,`密保回答2`,`密保问题3`,`密保回答3`,`头像编号`,`注册时间`) VALUES (”, 局部_赋值语句, “)”))
    输出调试文本 (SQL)
    .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
        相加 (“用户 [”, 客户IP, “] 注册帐号 [”, 帐号, “] 成功”).加入项目 ()
        服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&用户注册|帐号注册成功,感谢你使用诛歪-即时通讯,您的帐号【”, 帐号, “】，请妥善保管好您的帐号!”))))
        
    .否则
        相加 (“用户 [”, 客户IP, “] 注册帐号 [”, 帐号, “] 失败！！！”).加入项目 ()
    .如果结束
    
    返回 ()
.判断 (等于 (分割好的 [1], “&用户登录”))
    赋值 (SQL, 相加 (“select * from `vvuser` where `帐号`=”, 分割好的 [2], “ and `密码`='”, 分割好的 [3], “'”))
    输出调试文本 (SQL)
    未知支持库函数_3 (MYSQL句柄, SQL)
    
    赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
    .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 0))
        未知支持库函数_12 (子记录集句柄)
        未知支持库函数_5 (子记录集句柄)
        服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&用户登录|登录失败|帐号或密码错误”)))
        返回 ()
    .如果真结束
    .如果 (等于 (未知支持库函数_7 (子记录集句柄), 1))
        未知支持库函数_6 (子记录集句柄, #客户_帐号, 帐号)
        未知支持库函数_6 (子记录集句柄, #客户_密码, 密码)
        未知支持库函数_6 (子记录集句柄, #客户_昵称, 客户昵称)
        未知支持库函数_6 (子记录集句柄, #客户_禁止登录, 禁止登录)
        未知支持库函数_6 (子记录集句柄, #客户_禁止发言, 禁止发言)
        .如果真 (并且 (等于 (帐号, 分割好的 [2]), 等于 (密码, 分割好的 [3]))) ' 登录成功
            赋值 (好友坐标, 到文本 (分割好的 [2]).查找表项 (2))
            输出调试文本 (好友坐标)
            .如果真 (不等于 (好友坐标, -1))
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&用户登录|登录失败|该用户已经登录！！！”)))
                返回 ()
            .如果真结束
            .插入表项 ()
            表项数.置标题 (0, 到文本 (相加 (表项数, 1))) ' 加入用户序号
            表项数.置标题 (1, 到文本 (客户句柄)) ' 加入用户句柄
            表项数.置标题 (2, 分割好的 [2]) ' 加入用户帐号
            表项数.置标题 (3, 客户昵称) ' 加入用户昵称
            表项数.置标题 (4, 客户IP) ' 加入用户登录IP
            表项数.置标题 (5, 到文本 (取现行时间 ())) ' 加入用户登录时间
            .如果 (等于 (禁止登录, 1))
                表项数.置标题 (6, “是”) ' 加入用户登录限制
            .否则
                表项数.置标题 (6, “否”)
            .如果结束
            .如果 (等于 (禁止发言, 1))
                表项数.置标题 (7, “是”) ' 加入用户发言限制
            .否则
                表项数.置标题 (7, “否”)
            .如果结束
            
            
            
            未知支持库函数_6 (子记录集句柄, #客户_帐号, 客户帐号)
            未知支持库函数_6 (子记录集句柄, #客户_昵称, 客户昵称)
            未知支持库函数_6 (子记录集句柄, #客户_个性签名, 客户个性签名)
            未知支持库函数_6 (子记录集句柄, #客户_头像编号, 客户头像编号)
            未知支持库函数_6 (子记录集句柄, #客户_头像编号, 客户头像编号)
            未知支持库函数_6 (子记录集句柄, #客户_总在线时长, 客户在线时间)
            未知支持库函数_6 (子记录集句柄, #客户_属下好友, 属下好友)
            未知支持库函数_6 (子记录集句柄, “属下备注”, 属下备注)
            未知支持库函数_6 (子记录集句柄, #客户_分组名称, 分组名称)
            未知支持库函数_6 (子记录集句柄, “好友分组”, 好友分组)
            未知支持库函数_6 (子记录集句柄, #客户_属下黑名单, 属下黑名单)
            未知支持库函数_6 (子记录集句柄, #客户_会员, 我的会员)
            未知支持库函数_5 (子记录集句柄)
            
            
            
            .如果真 (大于 (取数组成员数 (系统_客服人员), 0)) ' -------------------------------------系统客服
                .计次循环首 (取数组成员数 (系统_客服人员), i)
                    赋值 (SQL, 相加 (“select 帐号,昵称,个性签名,头像编号,总在线时长 from `vvuser` where `帐号`=”, 系统_客服人员 [i]))
                    输出调试文本 (SQL)
                    未知支持库函数_3 (MYSQL句柄, SQL)
                    赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_帐号, 好友帐号)
                    未知支持库函数_6 (子记录集句柄, #客户_昵称, 好友昵称)
                    未知支持库函数_6 (子记录集句柄, #客户_个性签名, 好友签名)
                    未知支持库函数_6 (子记录集句柄, #客户_头像编号, 好友头像)
                    未知支持库函数_6 (子记录集句柄, #客户_头像编号, 好友头像)
                    未知支持库函数_6 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                    
                    
                    赋值 (客服资料, 相加 (客服资料, 好友帐号, “=”, 好友昵称, “=”, 好友签名, “=”, 到文本 (好友头像), “==”, 资料_在线时长, “=1(@!$)”))
                    
                .计次循环尾 ()
                未知支持库函数_5 (子记录集句柄)
            .如果真结束
            
             ' 好友 ＝ 分割文本 (属下黑名单, “*”, )  ' -----------------------------------------黑名单
             ' .如果真 (大于 (取数组成员数 (好友), 0))
                 ' .计次循环首 (取数组成员数 (好友), n1)
                     ' SQL ＝ “select 帐号,昵称,个性签名,头像编号,总在线时长 from `vvuser` where `帐号`=” ＋ 好友 [n1]
                     ' 输出调试文本 (SQL)
                     ' 执行SQL语句 (MYSQL句柄, SQL)
                     ' 子记录集句柄 ＝ 取记录集 (MYSQL句柄)
                     ' 到首行 (子记录集句柄)
                     ' 读字段值 (子记录集句柄, #客户_帐号, 好友帐号)
                     ' 读字段值 (子记录集句柄, #客户_昵称, 好友昵称)
                     ' 读字段值 (子记录集句柄, #客户_个性签名, 好友签名)
                     ' 读字段值 (子记录集句柄, #客户_头像编号, 好友头像)
                     ' 读字段值 (子记录集句柄, #客户_头像编号, 好友头像)
                     ' 读字段值 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                    
                     ' 好友坐标 ＝ 超级列表框_用户列表.查找表项 (好友 [n1], , , 2)
                    
                     ' .如果 (等于 (好友坐标, -1))
                         ' 黑名单好友 ＝ 黑名单好友 ＋ 好友帐号 ＋ “=” ＋ 好友昵称 ＋ “=” ＋ 好友签名 ＋ “=” ＋ 到文本 (好友头像) ＋ “=” ＋ 资料_在线时长 ＋ “=0(@!$)”
                    .否则
                         ' 黑名单好友 ＝ 黑名单好友 ＋ 好友帐号 ＋ “=” ＋ 好友昵称 ＋ “=” ＋ 好友签名 ＋ “=” ＋ 到文本 (好友头像) ＋ “=” ＋ 资料_在线时长 ＋ “=1(@!$)”
                    .如果结束
                    
                 ' .计次循环尾 ()
                 ' 释放记录集 (子记录集句柄)
                
            .如果真结束
            
            
            
            赋值 (好友, 分割文本 (属下好友, “*”, )) ' -----------------------------------好友
            赋值 (备注好友, 分割文本 (属下备注, “*”, ))
            
            .如果真 (大于 (取数组成员数 (好友), 0))
                
                .计次循环首 (取数组成员数 (好友), n1)
                    赋值 (SQL, 相加 (“select 帐号,昵称,个性签名,头像编号,总在线时长,会员 from `vvuser` where `帐号`=”, 好友 [n1]))
                    输出调试文本 (SQL)
                    未知支持库函数_3 (MYSQL句柄, SQL)
                    赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_帐号, 好友帐号)
                    未知支持库函数_6 (子记录集句柄, #客户_昵称, 好友昵称)
                    未知支持库函数_6 (子记录集句柄, #客户_个性签名, 好友签名)
                    未知支持库函数_6 (子记录集句柄, #客户_头像编号, 好友头像)
                    未知支持库函数_6 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                    未知支持库函数_6 (子记录集句柄, #客户_会员, 会员)
                    
                    赋值 (好友坐标, 好友.查找表项 ( [n1], , , 2))
                    
                    .如果 (等于 (好友坐标, -1))
                        .如果 (等于 (取数组成员数 (好友), 取数组成员数 (备注好友)))
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 好友签名, “=”, 到文本 (好友头像), “=”, 资料_在线时长, “=”, 备注好友 [n1], “=0=”, 到文本 (会员), “(@!$)”))
                            
                        .否则
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 好友签名, “=”, 到文本 (好友头像), “=”, 资料_在线时长, “==0=”, 到文本 (会员), “(@!$)”))
                        .如果结束
                        
                    .否则
                        
                        .如果 (等于 (取数组成员数 (好友), 取数组成员数 (备注好友)))
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 好友签名, “=”, 到文本 (好友头像), “=”, 资料_在线时长, “=”, 备注好友 [n1], “=1=”, 到文本 (会员), “(@!$)”))
                            
                        .否则
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 好友签名, “=”, 到文本 (好友头像), “=”, 资料_在线时长, “==1=”, 到文本 (会员), “(@!$)”))
                        .如果结束
                        赋值 (好友句柄, 到数值 (好友坐标.取标题 (1)))
                        服务器.未知支持库函数_7 (好友句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|好友上线|”, 客户帐号))))
                    .如果结束
                    
                    
                    输出调试文本 (好友.查找表项 ( [n1], , , 2))
                    
                .计次循环尾 ()
                未知支持库函数_5 (子记录集句柄)
            .如果真结束
            
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&用户登录|登录成功|”, 客户帐号, “|”, 客户昵称, “|”, 客户头像编号, “|”, 客户个性签名, “|”, 好友资料, “|”, 客服资料, “|”, 属下黑名单, “|”, 客户在线时间, “|”, 分组名称, “|”, 好友分组, “|”, 到文本 (我的会员)))))
             ' 将用户的帐号等信息发回去
            
             ' 输出调试文本 (“|” ＋ 分组名称 ＋ “|” ＋ 好友分组)
            返回 ()
            
            
            
        .如果真结束
        服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&用户登录|登录失败|帐号或密码错误”)))
        返回 ()
    .否则
        服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&用户登录|登录失败|帐号或密码错误”)))
        返回 ()
    .如果结束
    服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&用户登录|登录失败|帐号或密码错误”)))
    返回 ()
.判断 (等于 (分割好的 [1], “&找回密码”))
    赋值 (SQL, 相加 (“select `帐号` from `vvuser` where `帐号`=”, 分割好的 [2], “ and `密保问题1`='”, 分割好的 [3], “' and `密保回答1`='”, 分割好的 [4], “'”, “ and `密保问题2`='”, 分割好的 [5], “' and `密保回答2`='”, 分割好的 [6], “'”, “ and `密保问题3`='”, 分割好的 [7], “' and `密保回答3`='”, 分割好的 [8], “'”))
    输出调试文本 (SQL)
    未知支持库函数_3 (MYSQL句柄, SQL)
    赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
    .如果真 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
        未知支持库函数_12 (子记录集句柄)
        赋值 (SQL, 相加 (“update vvuser set `密码`='”, 分割好的 [9], “' where `帐号`=”, 分割好的 [2]))
        输出调试文本 (SQL)
        .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&找回密码|修改成功|密码修改成功”)))
        .否则
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&找回密码|修改失败|密码修改失败！！！”)))
        .如果结束
        未知支持库函数_5 (子记录集句柄)
        返回 ()
    .如果真结束
    服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&找回密码|修改失败|密码修改失败”)))
    返回 ()
.判断 (等于 (分割好的 [1], “&修改资料”))
    输出调试文本 (分割好的 [2])
    .如果真 (等于 (分割好的 [2], “读取资料”))
        赋值 (SQL, 相加 (“select * from `vvuser` where `帐号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        输出调试文本 (未知支持库函数_7 (子记录集句柄))
        .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, #客户_等级, 资料_等级)
            未知支持库函数_6 (子记录集句柄, #客户_在线时长, 资料_在线时长)
            未知支持库函数_6 (子记录集句柄, #客户_昵称, 资料_昵称)
            未知支持库函数_6 (子记录集句柄, #客户_英文名, 资料_英文名)
            未知支持库函数_6 (子记录集句柄, #客户_注册时间, 资料_注册时间)
            未知支持库函数_6 (子记录集句柄, #客户_个性签名, 资料_个性签名)
            未知支持库函数_6 (子记录集句柄, #客户_姓名, 资料_姓名)
            未知支持库函数_6 (子记录集句柄, #客户_星座, 资料_星座)
            未知支持库函数_6 (子记录集句柄, #客户_性别, 资料_性别)
            未知支持库函数_6 (子记录集句柄, #客户_生肖, 资料_生肖)
            未知支持库函数_6 (子记录集句柄, #客户_血型, 资料_血型)
            未知支持库函数_6 (子记录集句柄, #客户_生日, 资料_生日)
            未知支持库函数_6 (子记录集句柄, #客户_年龄, 资料_年龄)
            未知支持库函数_6 (子记录集句柄, #客户_学历, 资料_学历)
            未知支持库函数_6 (子记录集句柄, #客户_职业, 资料_职业)
            未知支持库函数_6 (子记录集句柄, #客户_手机, 资料_手机)
            未知支持库函数_6 (子记录集句柄, #客户_邮箱, 资料_邮箱)
            未知支持库函数_6 (子记录集句柄, #客户_邮编, 资料_邮编)
            未知支持库函数_6 (子记录集句柄, #客户_电话, 资料_电话)
            未知支持库函数_6 (子记录集句柄, #客户_主页, 资料_主页)
            未知支持库函数_6 (子记录集句柄, #客户_故乡, 资料_故乡)
            未知支持库函数_6 (子记录集句柄, #客户_所在地, 资料_所在地)
            未知支持库函数_6 (子记录集句柄, #客户_个人说明, 资料_个人说明)
            未知支持库函数_6 (子记录集句柄, #客户_头像编号, 资料_头像编号)
            未知支持库函数_5 (子记录集句柄)
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&修改资料|读取资料|”, 资料_等级, “|”, 资料_在线时长, “|”, 资料_昵称, “|”, 资料_英文名, “|”, 到文本 (取年份 (到时间 (处理时间 (资料_注册时间, 真)))), “-”, 到文本 (取月份 (到时间 (处理时间 (资料_注册时间, 真)))), “-”, 到文本 (取日 (到时间 (处理时间 (资料_注册时间, 真)))), “|”, 资料_个性签名, “|”, 资料_姓名, “|”, 资料_星座, “|”, 资料_性别, “|”, 资料_生肖, “|”, 资料_血型, “|”, 到文本 (取年份 (到时间 (处理时间 (资料_生日, 真)))), “|”, 到文本 (取月份 (到时间 (处理时间 (资料_生日, 真)))), “|”, 到文本 (取日 (到时间 (处理时间 (资料_生日, 真)))), “|”, 资料_年龄, “|”, 资料_学历, “|”, 资料_职业, “|”, 资料_手机, “|”, 资料_邮箱, “|”, 资料_邮编, “|”, 资料_电话, “|”, 资料_主页, “|”, 资料_故乡, “|”, 资料_所在地, “|”, 资料_个人说明, “|”, 资料_头像编号))))
            返回 ()
        .如果真结束
         ' 本源码来自易语言资源网(www.5A5X.com)
    .如果真结束
    .如果真 (等于 (分割好的 [2], “修改备注”))
        赋值 (SQL, 相加 (“select * from `vvuser` where `帐号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        输出调试文本 (未知支持库函数_7 (子记录集句柄))
        .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
            未知支持库函数_6 (子记录集句柄, #客户_属下好友, 属下好友)
            未知支持库函数_6 (子记录集句柄, “属下备注”, 属下备注)
            未知支持库函数_5 (子记录集句柄)
            赋值 (好友, 分割文本 (属下好友, “*”, )) ' -----------------------------------好友
            赋值 (备注好友, 分割文本 (属下备注, “*”, ))
            赋值 (属下备注, “”)
            .如果 (等于 (取数组成员数 (好友), 取数组成员数 (备注好友)))
                .计次循环首 (取数组成员数 (好友), i)
                    .如果真 (等于 (好友 [i], 分割好的 [5]))
                        赋值 (备注好友 [i], 分割好的 [3])
                    .如果真结束
                    赋值 (属下备注, 相加 (属下备注, 备注好友 [i], “*”))
                .计次循环尾 ()
                ' 本源码来自易语言资源网(www.5A5X.com)
            .否则
                .计次循环首 (取数组成员数 (好友), i)
                    .如果 (等于 (好友 [i], 分割好的 [5]))
                        赋值 (属下备注, 相加 (属下备注, 分割好的 [3], “*”))
                    .否则
                        赋值 (属下备注, 相加 (属下备注, “*”))
                    .如果结束
                    
                .计次循环尾 ()
            .如果结束
            
        .如果真结束
        赋值 (SQL, 相加 (“update vvuser set `属下备注`='”, 属下备注, “' where `帐号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&修改资料|修改备注|好友备注修改完成！|”)))
        .否则
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&修改资料|修改备注|好友备注修改失败！！！|”)))
        .如果结束
        返回 ()
        
    .如果真结束
    .如果真 (等于 (分割好的 [2], “修改资料”))
        赋值 (SQL, 相加 (“update vvuser set `昵称`='”, 分割好的 [4], “',`英文名`='”, 分割好的 [5], “',`个性签名`='”, 分割好的 [6], “',`姓名`='”, 分割好的 [7], “',`星座`='”, 分割好的 [8], “',`性别`='”, 分割好的 [9], “',`生肖`='”, 分割好的 [10], “',`血型`='”, 分割好的 [11], “',`生日`='”, 处理时间 (分割好的 [12], 假), “',`年龄`='”, 分割好的 [13], “',`学历`='”, 分割好的 [14], “',`血型`='”, 分割好的 [15], “',`手机`='”, 分割好的 [16], “',`邮箱`='”, 分割好的 [17], “',`邮编`='”, 分割好的 [18], “',`电话`='”, 分割好的 [19], “',`主页`='”, 分割好的 [20], “',`故乡`='”, 分割好的 [21], “',`所在地`='”, 分割好的 [22], “',`个人说明`='”, 分割好的 [23], “',`头像编号`='”, 分割好的 [24], “' where `帐号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&修改资料|修改成功|资料修改成功|”, 分割好的 [4], “|”, 分割好的 [24]))))
        .否则
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&修改资料|修改失败|资料修改失败”)))
        .如果结束
        返回 ()
    .如果真结束
    
.判断 (等于 (分割好的 [1], “&好友系统”))
    .如果真 (等于 (分割好的 [2], “查找好友”))
        .判断开始 (等于 (分割好的 [3], “帐号查找”))
            赋值 (SQL, 相加 (“select `帐号`,`昵称`,`性别`,`头像编号` from `vvuser` where `帐号`=”, 分割好的 [4]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
            .如果 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
                未知支持库函数_12 (子记录集句柄)
                未知支持库函数_6 (子记录集句柄, #客户_帐号, 资料_帐号)
                未知支持库函数_6 (子记录集句柄, #客户_昵称, 资料_昵称)
                未知支持库函数_6 (子记录集句柄, #客户_性别, 资料_性别)
                未知支持库函数_6 (子记录集句柄, #客户_头像编号, 资料_头像编号)
                未知支持库函数_5 (子记录集句柄)
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|查找成功|”, 资料_帐号, “|”, 资料_昵称, “|”, 资料_性别, “|”, 资料_头像编号))))
                返回 ()
            .否则
                
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&好友系统|查找失败|系统未找到相关资料”)))
                返回 ()
            .如果结束
            
        .默认
             ' ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
            赋值 (SQL, 相加 (“select `帐号`,`昵称`,`性别`,`头像编号` from `vvuser` where `昵称`=”, 分割好的 [4]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
            .如果 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
                未知支持库函数_12 (子记录集句柄)
                未知支持库函数_6 (子记录集句柄, #客户_帐号, 资料_帐号)
                未知支持库函数_6 (子记录集句柄, #客户_昵称, 资料_昵称)
                未知支持库函数_6 (子记录集句柄, #客户_性别, 资料_性别)
                未知支持库函数_6 (子记录集句柄, #客户_头像编号, 资料_头像编号)
                未知支持库函数_5 (子记录集句柄)
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|查找成功|”, 资料_帐号, “|”, 资料_昵称, “|”, 资料_性别, “|”, 资料_头像编号))))
                返回 ()
                
            .否则
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&好友系统|查找失败|系统未找到相关资料”)))
                返回 ()
            .如果结束
            
        .判断结束
        
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “查看资料”))
        
        赋值 (SQL, 相加 (“select * from `vvuser` where `帐号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果 (等于 (未知支持库函数_7 (子记录集句柄), 1))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, #客户_等级, 资料_等级)
            未知支持库函数_6 (子记录集句柄, #客户_在线时长, 资料_在线时长)
            未知支持库函数_6 (子记录集句柄, #客户_昵称, 资料_昵称)
            未知支持库函数_6 (子记录集句柄, #客户_英文名, 资料_英文名)
            未知支持库函数_6 (子记录集句柄, #客户_注册时间, 资料_注册时间)
            未知支持库函数_6 (子记录集句柄, #客户_个性签名, 资料_个性签名)
            未知支持库函数_6 (子记录集句柄, #客户_姓名, 资料_姓名)
            未知支持库函数_6 (子记录集句柄, #客户_星座, 资料_星座)
            未知支持库函数_6 (子记录集句柄, #客户_性别, 资料_性别)
            未知支持库函数_6 (子记录集句柄, #客户_生肖, 资料_生肖)
            未知支持库函数_6 (子记录集句柄, #客户_血型, 资料_血型)
            未知支持库函数_6 (子记录集句柄, #客户_生日, 资料_生日)
            未知支持库函数_6 (子记录集句柄, #客户_年龄, 资料_年龄)
            未知支持库函数_6 (子记录集句柄, #客户_学历, 资料_学历)
            未知支持库函数_6 (子记录集句柄, #客户_职业, 资料_职业)
            未知支持库函数_6 (子记录集句柄, #客户_手机, 资料_手机)
            未知支持库函数_6 (子记录集句柄, #客户_邮箱, 资料_邮箱)
            未知支持库函数_6 (子记录集句柄, #客户_邮编, 资料_邮编)
            未知支持库函数_6 (子记录集句柄, #客户_电话, 资料_电话)
            未知支持库函数_6 (子记录集句柄, #客户_主页, 资料_主页)
            未知支持库函数_6 (子记录集句柄, #客户_故乡, 资料_故乡)
            未知支持库函数_6 (子记录集句柄, #客户_所在地, 资料_所在地)
            未知支持库函数_6 (子记录集句柄, #客户_个人说明, 资料_个人说明)
            未知支持库函数_6 (子记录集句柄, #客户_头像编号, 资料_头像编号)
            未知支持库函数_5 (子记录集句柄)
            
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|查看资料|”, 资料_等级, “|”, 资料_在线时长, “|”, 资料_昵称, “|”, 资料_英文名, “|”, 到文本 (取年份 (到时间 (处理时间 (资料_注册时间, 真)))), “-”, 到文本 (取月份 (到时间 (处理时间 (资料_注册时间, 真)))), “-”, 到文本 (取日 (到时间 (处理时间 (资料_注册时间, 真)))), “|”, 资料_个性签名, “|”, 资料_姓名, “|”, 资料_星座, “|”, 资料_性别, “|”, 资料_生肖, “|”, 资料_血型, “|”, 到文本 (取年份 (到时间 (处理时间 (资料_生日, 真)))), “|”, 到文本 (取月份 (到时间 (处理时间 (资料_生日, 真)))), “|”, 到文本 (取日 (到时间 (处理时间 (资料_生日, 真)))), “|”, 资料_年龄, “|”, 资料_学历, “|”, 资料_职业, “|”, 资料_手机, “|”, 资料_邮箱, “|”, 资料_邮编, “|”, 资料_电话, “|”, 资料_主页, “|”, 资料_故乡, “|”, 资料_所在地, “|”, 资料_个人说明, “|”, 资料_头像编号, “|”, 分割好的 [3]))))
            返回 ()
            
        .否则
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&好友系统|查找失败|系统未找到相关资料”)))
            返回 ()
        .如果结束
        
         ' 置当前库 (#数据库_客户信息)
         ' 到首记录 ()
         ' .计次循环首 (取记录数 (), )
             ' .如果真 (等于 (读 (#客户_帐号), 分割好的 [3]))
                 ' 服务器.发送字节集 (客户句柄, 压缩数据 (到字节集 (“&好友系统|查看资料|” ＋ 到文本 (读 (#客户_等级)) ＋ “|” ＋ 到文本 (读 (#客户_在线时长)) ＋ “|” ＋ 读 (#客户_昵称) ＋ “|” ＋ 读 (#客户_英文名) ＋ “|” ＋ 到文本 (取年份 (读 (#客户_注册时间))) ＋ “-” ＋ 到文本 (取月份 (读 (#客户_注册时间))) ＋ “-” ＋ 到文本 (取日 (读 (#客户_注册时间))) ＋ “|” ＋ 读 (#客户_个性签名) ＋ “|” ＋ 读 (#客户_姓名) ＋ “|” ＋ 读 (#客户_星座) ＋ “|” ＋ 读 (#客户_性别) ＋ “|” ＋ 读 (#客户_生肖) ＋ “|” ＋ 读 (#客户_血型) ＋ “|” ＋ 到文本 (取年份 (读 (#客户_生日))) ＋ “|” ＋ 到文本 (取月份 (读 (#客户_生日))) ＋ “|” ＋ 到文本 (取日 (读 (#客户_生日))) ＋ “|” ＋ 到文本 (读 (#客户_年龄)) ＋ “|” ＋ 读 (#客户_学历) ＋ “|” ＋ 读 (#客户_职业) ＋ “|” ＋ 读 (#客户_手机) ＋ “|” ＋ 读 (#客户_邮箱) ＋ “|” ＋ 读 (#客户_邮编) ＋ “|” ＋ 读 (#客户_电话) ＋ “|” ＋ 读 (#客户_主页) ＋ “|” ＋ 读 (#客户_故乡) ＋ “|” ＋ 读 (#客户_所在地) ＋ “|” ＋ 读 (#客户_个人说明) ＋ “|” ＋ 到文本 (读 (#客户_头像编号)) ＋ “|” ＋ 分割好的 [3])))
                 ' 返回 ()
            .如果真结束
             ' 跳过 ()
         ' .计次循环尾 ()
         ' 服务器.发送字节集 (客户句柄, 压缩数据 (到字节集 (“&好友系统|查找失败|系统未找到相关资料”)))
         ' 返回 ()
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “请求添加好友”))
        .如果真 (等于 (分割好的 [3], 分割好的 [4]))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&好友系统|发送请求失败|自己不能添加自己为好友”)))
            返回 ()
        .如果真结束
        
        
        赋值 (SQL, 相加 (“select `属下好友`  from `vvuser` where `帐号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, #客户_属下好友, 资料_属下好友)
            未知支持库函数_5 (子记录集句柄)
            .如果真 (不等于 (寻找文本 (资料_属下好友, 分割好的 [4], , 假), -1))
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&好友系统|发送请求失败|对方已经是你的好友!”)))
                返回 ()
            .如果真结束
            
        .如果真结束
        
        .计次循环首 (取表项数 (), n1)
            .如果真 (等于 (相减 (n1, 1).取标题 (2), 分割好的 [4])) ' 判断好友是否在线
                赋值 (客户B的句柄, 到整数 (相减 (n1, 1).取标题 (1)))
                
                赋值 (SQL, 相加 (“select `帐号`,`昵称`,`性别`,`年龄`,`头像编号`,`总在线时长`,`会员`  from `vvuser` where `帐号`=”, 分割好的 [3]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_帐号, 资料_帐号)
                    未知支持库函数_6 (子记录集句柄, #客户_昵称, 资料_昵称)
                    未知支持库函数_6 (子记录集句柄, #客户_性别, 资料_性别)
                    未知支持库函数_6 (子记录集句柄, #客户_年龄, 资料_年龄)
                    未知支持库函数_6 (子记录集句柄, #客户_头像编号, 资料_头像编号)
                    未知支持库函数_6 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                    未知支持库函数_5 (子记录集句柄)
                    服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|请求添加为好友|”, 资料_帐号, “|”, 资料_昵称, “|”, 资料_性别, “|”, 资料_年龄, “|”, 分割好的 [5], “|”, 资料_头像编号, “|”, 资料_在线时长)))) ' 将客户A的资料发往客户B
                    服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&好友系统|发送请求成功|您的好友请求发送成功,请耐心等待对方回复!”)))
                     ' 告诉客户A他的请求添加已发送对方
                    返回 ()
                    
                .如果真结束
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&好友系统|发送请求失败|您的好友请求发送失败!”)))
                返回 ()
            .如果真结束
            
        .计次循环尾 ()
        服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&好友系统|发送请求失败|您欲添加的好友不在线,请等待对方上线后再尝试添加!”)))
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “拒绝添加好友”))
        .计次循环首 (取表项数 (), n1)
            .如果真 (等于 (相减 (n1, 1).取标题 (2), 分割好的 [3]))
                赋值 (客户B的句柄, 到整数 (相减 (n1, 1).取标题 (1)))
                跳出循环 ()
            .如果真结束
            
        .计次循环尾 ()
        服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|拒绝添加好友|【”, 分割好的 [4], “】拒绝了您的好友添加请求”))))
        返回 ()
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “好友分组修改”))
        赋值 (SQL, 相加 (“update vvuser set  `分组名称`='”, 分割好的 [3], “'”, “ where `帐号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        返回 ()
    .如果真结束
    .如果真 (等于 (分割好的 [2], “好友分组移动”))
        赋值 (SQL, 相加 (“update vvuser set  `好友分组`='”, 分割好的 [3], “'”, “ where `帐号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        返回 ()
    .如果真结束
    .如果真 (等于 (分割好的 [2], “黑名单”))
        赋值 (SQL, 相加 (“update vvuser set  `属下好友`='”, 分割好的 [5], “',`好友分组`='”, 分割好的 [4], “',`属下黑名单`='”, 分割好的 [3], “' where `帐号`=”, 分割好的 [6]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        返回 ()
    .如果真结束
    .如果真 (等于 (分割好的 [2], “删除好友”))
        .判断开始 (等于 (分割好的 [5], “1”)) ' 删除黑名单
            .如果真 (等于 (分割好的 [4], “1”))
                赋值 (SQL, 相加 (“select `属下好友`  from `vvuser` where `帐号`=”, 分割好的 [3]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_属下好友, 资料_属下好友)
                    未知支持库函数_5 (子记录集句柄)
                    赋值 (资料_属下好友, 子文本替换 (资料_属下好友, 相加 (分割好的 [6], “*”), “”, , , 真))
                    
                    
                .如果真结束
                
                赋值 (SQL, 相加 (“update vvuser set  `属下好友`='”, 资料_属下好友, “'  where `帐号`=”, 分割好的 [3]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                
                赋值 (好友坐标, 分割好的.查找表项 ( [3], , , 2))
                .如果真 (不等于 (好友坐标, -1))
                    服务器.未知支持库函数_7 (到数值 (好友坐标.取标题 (1)), 未知支持库函数_0 (到字节集 (相加 (“&好友系统|被好友删除|”, 分割好的 [6]))))
                .如果真结束
                
                赋值 (SQL, 相加 (“select `属下黑名单`  from `vvuser` where `帐号`=”, 分割好的 [6]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_属下黑名单, 资料_属下黑名单)
                    
                    未知支持库函数_5 (子记录集句柄)
                    赋值 (资料_属下黑名单, 子文本替换 (资料_属下黑名单, 相加 (分割好的 [3], “*”), “”, , , 真))
                    
                .如果真结束
                
                赋值 (SQL, 相加 (“update vvuser set  `属下黑名单`='”, 资料_属下黑名单, “'  where `帐号`=”, 分割好的 [6]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                
                返回 ()
            .如果真结束
            
            赋值 (SQL, 相加 (“select `属下黑名单`  from `vvuser` where `帐号`=”, 分割好的 [6]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
            .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
                未知支持库函数_12 (子记录集句柄)
                未知支持库函数_6 (子记录集句柄, #客户_属下黑名单, 资料_属下黑名单)
                
                未知支持库函数_5 (子记录集句柄)
                赋值 (资料_属下黑名单, 子文本替换 (资料_属下黑名单, 相加 (分割好的 [3], “*”), “”, , , 真))
                
            .如果真结束
            
            赋值 (SQL, 相加 (“update vvuser set  `属下黑名单`='”, 资料_属下黑名单, “'  where `帐号`=”, 分割好的 [6]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            返回 ()
            
        .默认
            
            .如果真 (等于 (分割好的 [4], “1”))
                赋值 (SQL, 相加 (“select `属下好友`  from `vvuser` where `帐号`=”, 分割好的 [3]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_属下好友, 资料_属下好友)
                    未知支持库函数_5 (子记录集句柄)
                    赋值 (资料_属下好友, 子文本替换 (资料_属下好友, 相加 (分割好的 [6], “*”), “”, , , 真))
                    
                    
                .如果真结束
                
                赋值 (SQL, 相加 (“update vvuser set  `属下好友`='”, 资料_属下好友, “'  where `帐号`=”, 分割好的 [3]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                
                赋值 (好友坐标, 分割好的.查找表项 ( [3], , , 2))
                .如果真 (不等于 (好友坐标, -1))
                    服务器.未知支持库函数_7 (到数值 (好友坐标.取标题 (1)), 未知支持库函数_0 (到字节集 (相加 (“&好友系统|被好友删除|”, 分割好的 [6]))))
                .如果真结束
                
                
                赋值 (SQL, 相加 (“select `属下好友`  from `vvuser` where `帐号`=”, 分割好的 [6]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_属下好友, 资料_属下好友)
                    
                    未知支持库函数_5 (子记录集句柄)
                    赋值 (资料_属下好友, 子文本替换 (资料_属下好友, 相加 (分割好的 [3], “*”), “”, , , 真))
                    
                .如果真结束
                
                赋值 (SQL, 相加 (“update vvuser set  `属下好友`='”, 资料_属下好友, “'  where `帐号`=”, 分割好的 [6]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                
                返回 ()
            .如果真结束
            
            赋值 (SQL, 相加 (“select `属下好友`  from `vvuser` where `帐号`=”, 分割好的 [6]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
            .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
                未知支持库函数_12 (子记录集句柄)
                未知支持库函数_6 (子记录集句柄, #客户_属下好友, 资料_属下好友)
                
                未知支持库函数_5 (子记录集句柄)
                赋值 (资料_属下好友, 子文本替换 (资料_属下好友, 相加 (分割好的 [3], “*”), “”, , , 真))
                
            .如果真结束
            
            赋值 (SQL, 相加 (“update vvuser set  `属下好友`='”, 资料_属下好友, “'  where `帐号`=”, 分割好的 [6]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            返回 ()
            
        .判断结束
        
        
        
        赋值 (SQL, 相加 (“update vvuser set  `属下好友`='”, 分割好的 [5], “',`好友分组`='”, 分割好的 [4], “',`属下黑名单`='”, 分割好的 [3], “' where `帐号`=”, 分割好的 [6]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        返回 ()
    .如果真结束
    
    
    
    
    .如果真 (等于 (分割好的 [2], “同意添加好友”))
        .计次循环首 (取表项数 (), n1)
            .如果真 (等于 (相减 (n1, 1).取标题 (2), 分割好的 [3]))
                赋值 (客户B的句柄, 到整数 (相减 (n1, 1).取标题 (1)))
                跳出循环 ()
            .如果真结束
            
        .计次循环尾 ()
        赋值 (资料_属下好友, “”)
        赋值 (资料_好友分组, “”)
        赋值 (SQL, 相加 (“select `属下好友`,`好友分组`  from `vvuser` where `帐号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, #客户_属下好友, 资料_属下好友)
            未知支持库函数_6 (子记录集句柄, “好友分组”, 资料_好友分组)
            
            未知支持库函数_5 (子记录集句柄)
        .如果真结束
        
        .如果真 (等于 (寻找文本 (资料_属下好友, 相加 (分割好的 [4], “*”), , 假), -1))
            赋值 (SQL, 相加 (“update vvuser set `属下好友`='”, 资料_属下好友, 分割好的 [4], “*',`好友分组`='”, 资料_好友分组, “1,'”, “ where `帐号`=”, 分割好的 [3]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
        .如果真结束
        
        赋值 (SQL, 相加 (“select `帐号`,`昵称`,`个性签名`,`头像编号`,`总在线时长`  from `vvuser` where `帐号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        赋值 (会员, 0)
        .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, #客户_帐号, 资料_帐号)
            未知支持库函数_6 (子记录集句柄, #客户_昵称, 资料_昵称)
            未知支持库函数_6 (子记录集句柄, #客户_个性签名, 资料_个性签名)
            未知支持库函数_6 (子记录集句柄, #客户_头像编号, 资料_头像编号)
            未知支持库函数_6 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
            未知支持库函数_6 (子记录集句柄, #客户_会员, 会员)
            未知支持库函数_5 (子记录集句柄)
        .如果真结束
        
        赋值 (客户B的资料, 相加 (资料_帐号, “|”, 资料_昵称, “|”, 资料_个性签名, “|”, 资料_头像编号, “|”, 资料_在线时长, “|”, 到文本 (会员)))
        赋值 (会员, 0)
        赋值 (资料_属下好友, “”)
        赋值 (资料_好友分组, “”)
        赋值 (SQL, 相加 (“select `属下好友`,`好友分组`  from `vvuser` where `帐号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, #客户_属下好友, 资料_属下好友)
            未知支持库函数_6 (子记录集句柄, “好友分组”, 资料_好友分组)
            未知支持库函数_5 (子记录集句柄)
        .如果真结束
        
        .如果真 (等于 (寻找文本 (资料_属下好友, 相加 (分割好的 [3], “*”), , 假), -1))
            赋值 (SQL, 相加 (“update vvuser set `属下好友`='”, 资料_属下好友, 分割好的 [3], “*',`好友分组`='”, 资料_好友分组, “1,'”, “ where `帐号`=”, 分割好的 [4]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
        .如果真结束
        
        赋值 (SQL, 相加 (“select `帐号`,`昵称`,`个性签名`,`头像编号`,`总在线时长`  from `vvuser` where `帐号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, #客户_帐号, 资料_帐号)
            未知支持库函数_6 (子记录集句柄, #客户_昵称, 资料_昵称)
            未知支持库函数_6 (子记录集句柄, #客户_个性签名, 资料_个性签名)
            未知支持库函数_6 (子记录集句柄, #客户_头像编号, 资料_头像编号)
            未知支持库函数_6 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
            未知支持库函数_6 (子记录集句柄, #客户_会员, 会员)
            未知支持库函数_5 (子记录集句柄)
        .如果真结束
        
        赋值 (客户A的资料, 相加 (资料_帐号, “|”, 资料_昵称, “|”, 资料_个性签名, “|”, 资料_头像编号, “|”, 资料_在线时长, “|”, 到文本 (会员)))
        
        服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|同意添加好友|【”, 分割好的 [4], “】同意您的请求并将你加为好友!|”, 客户A的资料))))
        服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|同意添加好友|【”, 分割好的 [3], “】成为你的好友!|”, 客户B的资料))))
        返回 ()
    .如果真结束
    
.判断 (等于 (分割好的 [1], “&聊天”))
    .如果真 (等于 (分割好的 [2], “发送信息”))
        .计次循环首 (取表项数 (), n1)
            .如果真 (等于 (相减 (n1, 1).取标题 (2), 分割好的 [5]))
                赋值 (客户B的句柄, 到整数 (相减 (n1, 1).取标题 (1)))
                服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&聊天|收到信息|”, 分割好的 [3], “|”, 分割好的 [4]))))
                返回 ()
            .如果真结束
            
        .计次循环尾 ()
        .如果真 (等于 (文件是否存在 (“离线消息.txt”), 假))
            写到文件 (“离线消息.txt”, {  })
        .如果真结束
        赋值 (文件号, 打开文件 (“离线消息.txt”, , ))
        移到文件尾 (文件号)
        写出文本 (文件号, 相加 (分割好的 [5], “{(.%*)}”, 分割好的 [3], “{(.%*)}”, 分割好的 [4], #换行符)) ' 将发送的离线消息保存在服务端
        关闭文件 (文件号)
        返回 ()
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “请求离线消息”)) ' 处理客户的离线消息
        赋值 (是否有离线消息, 假)
        赋值 (离线消息_文本, 到文本 (读入文件 (“离线消息.txt”)))
        .如果真 (等于 (离线消息_文本, “”)) ' 如没有离线消息就返回不往下执行
            返回 ()
        .如果真结束
        赋值 (离线消息_一次分割, 分割文本 (离线消息_文本, #换行符, ))
        .计次循环首 (取数组成员数 (离线消息_一次分割), n1)
            .如果真 (等于 (离线消息_一次分割 [n1], “”))
                到循环尾 ()
            .如果真结束
            赋值 (离线消息_二次分割, 分割文本 (离线消息_一次分割 [n1], “{(.%*)}”, 3))
            .如果真 (等于 (离线消息_二次分割 [1], 分割好的 [3]))
                赋值 (是否有离线消息, 真)
                赋值 (离线消息_昵称, 离线消息_二次分割 [2])
                赋值 (离线消息_合并, 相加 (离线消息_合并, 离线消息_二次分割 [3], “(!@#*/)”))
                到循环尾 ()
            .如果真结束
            赋值 (离线消息_未处理的消息, 相加 (离线消息_未处理的消息, 离线消息_一次分割 [n1], #换行符))
             ' 将未发送出去的消息重新保存在变量里面
        .计次循环尾 ()
        写到文件 (“离线消息.txt”, 到字节集 (离线消息_未处理的消息)) ' 将未发送出去的消息重新保存在服务端
        .如果真 (是否有离线消息)
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&聊天|离线消息|”, 离线消息_昵称, “|”, 离线消息_合并))))
        .如果真结束
        
        返回 ()
    .如果真结束
    
    
    .如果真 (等于 (分割好的 [2], “窗口抖动”))
        .计次循环首 (取表项数 (), n1)
            .如果真 (等于 (相减 (n1, 1).取标题 (2), 分割好的 [3]))
                赋值 (客户B的句柄, 到整数 (相减 (n1, 1).取标题 (1)))
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&聊天|抖动成功|”, 分割好的 [5])))) ' 反馈给A发送成功
                服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&聊天|窗口抖动|”, 分割好的 [4])))) ' 将信息发往B
                返回 ()
            .如果真结束
            
        .计次循环尾 ()
        服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&聊天|抖动失败|”, 分割好的 [5])))) ' 反馈给A发送失败,原因好友不线
        返回 ()
    .如果真结束
    
.判断 (等于 (分割好的 [1], “&群系统”))
    .如果真 (等于 (分割好的 [2], “创建群”))
        赋值 (SQL, 相加 (“select *  from `vvqun` where `帐号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|创建群失败|您已经创建了一个群|”)))
        .否则
            
            赋值 (SQL, “select `群号` from `vvqun` ORDER BY `群号` DESC limit 0,1”)
            未知支持库函数_3 (MYSQL句柄, SQL)
            赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, “群号”, 帐号)
            未知支持库函数_5 (子记录集句柄)
            输出调试文本 (帐号)
            .如果 (等于 (帐号, “”))
                赋值 (帐号, 到文本 (50001)) ' 帐号注册从50001开始
            .否则
                赋值 (帐号, 到文本 (相加 (到数值 (帐号), 1))) ' 开始分配帐号
            .如果结束
            
             ' .判断循环首 (子程序_过滤帐号 (帐号)) ' 取出一个不在过滤列表中的帐号
                 ' 帐号 ＝ 到文本 (到数值 (帐号) ＋ 1)
             ' .判断循环尾 ()
             ' 分割好的 [5] ＝ 处理时间 (分割好的 [5], 假)
             ' 注册时间 ＝ 处理时间 (到文本 (取现行时间 ()), 假)
            赋值 (局部_赋值语句, 相加 (“'”, 帐号, “','”, 分割好的 [3], “','”, 分割好的 [4], “','”, 分割好的 [5], “','”, 分割好的 [6], “','”, 分割好的 [7], “'”))
            
            赋值 (SQL, 相加 (“insert into `vvqun` (`群号`,`帐号`,`名称`,`备注`,`公告`,`简介`) VALUES (”, 局部_赋值语句, “)”))
            
            输出调试文本 (SQL)
            .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
                相加 (“用户 [”, 客户IP, “] 创建群号 [”, 帐号, “] 成功”).加入项目 ()
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|创建群成功|您的群号【”, 帐号, “】，创建完成！”))))
                
                
            .否则
                相加 (“用户 [”, 客户IP, “] 创建群号 [”, 帐号, “] 失败！！！”).加入项目 ()
            .如果结束
            
        .如果结束
        
        
        返回 ()
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “修改群成员”))
        赋值 (SQL, 相加 (“update vvqun set `成员`='”, 分割好的 [4], “',`成员备注`='”, 分割好的 [5], “' where `群号`=”, 分割好的 [3]))
        .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|更新群信息|群信息更新完成！|”)))
        .否则
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|更新群信息|群信息更新失败！！！|”)))
        .如果结束
        返回 ()
    .如果真结束
    
    
    
    .如果真 (等于 (分割好的 [2], “修改群管理名片”))
        赋值 (SQL, 相加 (“update vvqun set `群主名片`='”, 分割好的 [4], “' where `群号`=”, 分割好的 [3]))
        .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|更新群信息|群信息更新完成！|”)))
        .否则
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|更新群信息|群信息更新失败！！！|”)))
        .如果结束
        返回 ()
    .如果真结束
    .如果真 (等于 (分割好的 [2], “修改群名片”))
        赋值 (SQL, 相加 (“select *  from `vvqun` where `群号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
            未知支持库函数_12 (子记录集句柄)
             ' 读字段值 (子记录集句柄, “群号”, 群_群号)
             ' 读字段值 (子记录集句柄, “帐号”, 群_帐号)
             ' 读字段值 (子记录集句柄, “群主名片”, 群_群主名片)
            未知支持库函数_6 (子记录集句柄, “成员”, 群_成员)
            未知支持库函数_6 (子记录集句柄, “成员备注”, 群_成员备注)
             ' 读字段值 (子记录集句柄, “名称”, 群_名称)
             ' 读字段值 (子记录集句柄, “备注”, 群_备注)
             ' 读字段值 (子记录集句柄, “公告”, 群_公告)
             ' 读字段值 (子记录集句柄, “简介”, 群_简介)
            未知支持库函数_5 (子记录集句柄)
            清除数组 (好友)
            清除数组 (成员备注)
            赋值 (好友, 分割文本 (群_成员, “*”, ))
            赋值 (成员备注, 分割文本 (群_成员备注, “*”, ))
            赋值 (群_成员, “”)
            赋值 (群_成员备注, “”)
            .如果 (等于 (取数组成员数 (好友), 取数组成员数 (成员备注)))
                .计次循环首 (取数组成员数 (好友), n1)
                    .如果真 (等于 (好友 [n1], 分割好的 [5]))
                        赋值 (成员备注 [n1], 分割好的 [4])
                    .如果真结束
                     ' 群_成员 ＝ 群_成员 ＋ 好友 [n1] ＋ “*”
                    赋值 (群_成员备注, 相加 (群_成员备注, 成员备注 [n1], “*”))
                .计次循环尾 ()
                
            .否则
                .计次循环首 (取数组成员数 (好友), n1)
                    .如果 (等于 (好友 [n1], 分割好的 [5]))
                        赋值 (群_成员备注, 相加 (群_成员备注, 分割好的 [4], “*”))
                    .否则
                        赋值 (群_成员备注, 相加 (群_成员备注, “*”))
                    .如果结束
                     ' 群_成员 ＝ 群_成员 ＋ 好友 [n1] ＋ “*”
                .计次循环尾 ()
            .如果结束
            
        .如果真结束
        
        赋值 (SQL, 相加 (“update vvqun set `成员备注`='”, 群_成员备注, “' where `群号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|更新群信息|群信息更新完成！|”)))
        .否则
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|更新群信息|群信息更新失败！！！|”)))
        .如果结束
        返回 ()
        
        
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “更新群信息”))
        赋值 (SQL, 相加 (“update vvqun set `名称`='”, 分割好的 [4], “',`备注`='”, 分割好的 [5], “',`简介`='”, 分割好的 [6], “',`公告`='”, 分割好的 [7], “' where `群号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|更新群信息|群信息更新完成！|”)))
        .否则
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|更新群信息|群信息更新失败！！！|”)))
        .如果结束
        返回 ()
    .如果真结束
    
    
    .如果真 (等于 (分割好的 [2], “查看群列表”))
        赋值 (SQL, 相加 (“select *  from `vvqun` where `帐号`=”, 分割好的 [3]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, “群号”, 群_群号)
            未知支持库函数_6 (子记录集句柄, “帐号”, 群_帐号)
            未知支持库函数_6 (子记录集句柄, “群主名片”, 群_群主名片)
            未知支持库函数_6 (子记录集句柄, “成员”, 群_成员)
            未知支持库函数_6 (子记录集句柄, “成员备注”, 群_成员备注)
            未知支持库函数_6 (子记录集句柄, “名称”, 群_名称)
            未知支持库函数_6 (子记录集句柄, “备注”, 群_备注)
            未知支持库函数_6 (子记录集句柄, “公告”, 群_公告)
            未知支持库函数_6 (子记录集句柄, “简介”, 群_简介)
            
            未知支持库函数_5 (子记录集句柄)
            清除数组 (好友)
            赋值 (好友, 分割文本 (群_成员, “*”, ))
            赋值 (成员备注, 分割文本 (群_成员备注, “*”, ))
            
            .计次循环首 (取数组成员数 (好友), i)
                .如果真 (等于 (i, 1))
                    赋值 (好友资料, “”)
                    赋值 (SQL, 相加 (“select 帐号,昵称,个性签名,头像编号,总在线时长 from `vvuser` where `帐号`=”, 群_帐号))
                    未知支持库函数_3 (MYSQL句柄, SQL)
                    赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_帐号, 好友帐号)
                    未知支持库函数_6 (子记录集句柄, #客户_昵称, 好友昵称)
                     ' 读字段值 (子记录集句柄, #客户_个性签名, 好友签名)
                     ' 读字段值 (子记录集句柄, #客户_头像编号, 好友头像)
                     ' 读字段值 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                    未知支持库函数_5 (子记录集句柄)
                    赋值 (好友坐标, 好友.查找表项 ( [i], , , 2))
                    
                    .如果 (等于 (好友坐标, -1))
                        赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “=”, 群_群主名片, “=0(@!$)”))
                    .否则
                        
                        赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “=”, 群_群主名片, “=1(@!$)”))
                    .如果结束
                    
                    
                    
                .如果真结束
                赋值 (SQL, 相加 (“select 帐号,昵称,个性签名,头像编号,总在线时长 from `vvuser` where `帐号`=”, 好友 [i]))
                 ' 输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                未知支持库函数_12 (子记录集句柄)
                未知支持库函数_6 (子记录集句柄, #客户_帐号, 好友帐号)
                未知支持库函数_6 (子记录集句柄, #客户_昵称, 好友昵称)
                 ' 读字段值 (子记录集句柄, #客户_个性签名, 好友签名)
                未知支持库函数_6 (子记录集句柄, #客户_头像编号, 好友头像)
                 ' 读字段值 (子记录集句柄, #客户_头像编号, 好友头像)
                 ' 读字段值 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                
                赋值 (好友坐标, 好友.查找表项 ( [i], , , 2))
                
                .如果 (等于 (好友坐标, -1))
                    .如果 (等于 (取数组成员数 (好友), 取数组成员数 (成员备注)))
                        赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “=”, 成员备注 [i], “=0(@!$)”))
                    .否则
                        赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “==0(@!$)”))
                    .如果结束
                    
                .否则
                    
                    .如果 (等于 (取数组成员数 (好友), 取数组成员数 (成员备注)))
                        赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “=”, 成员备注 [i], “=1(@!$)”))
                    .否则
                        赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “==1(@!$)”))
                    .如果结束
                    
                .如果结束
                
            .计次循环尾 ()
            
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|查看群列表|”, 群_群号, “|”, 群_名称, “|”, 群_备注, “|”, 群_公告, “|”, 群_简介, “|”, 好友资料, “|”, 群_帐号))))
        .如果真结束
        
        赋值 (SQL, 相加 (“select * from vvqun where `成员` like '%”, 分割好的 [3], “%'”))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
            未知支持库函数_12 (子记录集句柄)
            .计次循环首 (未知支持库函数_7 (子记录集句柄), n1)
                未知支持库函数_6 (子记录集句柄, “群号”, 群_群号)
                未知支持库函数_6 (子记录集句柄, “帐号”, 群_帐号)
                未知支持库函数_6 (子记录集句柄, “成员”, 群_成员)
                未知支持库函数_6 (子记录集句柄, “成员备注”, 群_成员备注)
                未知支持库函数_6 (子记录集句柄, “名称”, 群_名称)
                未知支持库函数_6 (子记录集句柄, “备注”, 群_备注)
                未知支持库函数_6 (子记录集句柄, “公告”, 群_公告)
                未知支持库函数_6 (子记录集句柄, “简介”, 群_简介)
                
                清除数组 (好友)
                赋值 (好友, 分割文本 (群_成员, “*”, ))
                赋值 (成员备注, 分割文本 (群_成员备注, “*”, ))
                赋值 (好友资料, “”)
                .计次循环首 (取数组成员数 (好友), i)
                    .如果真 (等于 (i, 1))
                        赋值 (SQL, 相加 (“select 帐号,昵称,个性签名,头像编号,总在线时长 from `vvuser` where `帐号`=”, 群_帐号))
                        未知支持库函数_3 (MYSQL句柄, SQL)
                        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                        未知支持库函数_12 (子记录集句柄)
                        未知支持库函数_6 (子记录集句柄, #客户_帐号, 好友帐号)
                        未知支持库函数_6 (子记录集句柄, #客户_昵称, 好友昵称)
                         ' 读字段值 (子记录集句柄, #客户_个性签名, 好友签名)
                        未知支持库函数_6 (子记录集句柄, #客户_头像编号, 好友头像)
                         ' 读字段值 (子记录集句柄, #客户_头像编号, 好友头像)
                         ' 读字段值 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                        未知支持库函数_5 (子记录集句柄)
                        赋值 (好友坐标, 好友.查找表项 ( [i], , , 2))
                        
                        .如果 (等于 (好友坐标, -1))
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “=”, 群_群主名片, “=0(@!$)”))
                        .否则
                            
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “=”, 群_群主名片, “=1(@!$)”))
                        .如果结束
                        
                    .如果真结束
                    
                    
                    
                    
                    赋值 (SQL, 相加 (“select 帐号,昵称,个性签名,头像编号,总在线时长 from `vvuser` where `帐号`=”, 好友 [i]))
                     ' 输出调试文本 (SQL)
                    未知支持库函数_3 (MYSQL句柄, SQL)
                    赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_帐号, 好友帐号)
                    未知支持库函数_6 (子记录集句柄, #客户_昵称, 好友昵称)
                     ' 读字段值 (子记录集句柄, #客户_个性签名, 好友签名)
                    未知支持库函数_6 (子记录集句柄, #客户_头像编号, 好友头像)
                     ' 读字段值 (子记录集句柄, #客户_头像编号, 好友头像)
                     ' 读字段值 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                    
                    赋值 (好友坐标, 好友.查找表项 ( [i], , , 2))
                    
                    
                    .如果 (等于 (好友坐标, -1))
                        .如果 (等于 (取数组成员数 (好友), 取数组成员数 (成员备注)))
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “=”, 成员备注 [i], “=0(@!$)”))
                        .否则
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “==0(@!$)”))
                        .如果结束
                        
                    .否则
                        
                        .如果 (等于 (取数组成员数 (好友), 取数组成员数 (成员备注)))
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “=”, 成员备注 [i], “=1(@!$)”))
                        .否则
                            赋值 (好友资料, 相加 (好友资料, 好友帐号, “=”, 好友昵称, “=”, 到文本 (好友头像), “==1(@!$)”))
                        .如果结束
                        
                    .如果结束
                    
                .计次循环尾 ()
                
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|查看群列表|”, 群_群号, “|”, 群_名称, “|”, 群_备注, “|”, 群_公告, “|”, 群_简介, “|”, 好友资料, “|”, 群_帐号))))
                
                
                
            .计次循环尾 ()
            未知支持库函数_5 (子记录集句柄)
            
            
        .如果真结束
        
        
        
        
        
        返回 ()
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “发送信息”))
        
        赋值 (SQL, 相加 (“select *  from `vvqun` where `群号`=”, 分割好的 [5]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, “群号”, 群_群号)
            未知支持库函数_6 (子记录集句柄, “帐号”, 群_帐号)
            未知支持库函数_6 (子记录集句柄, “成员”, 群_成员)
            未知支持库函数_6 (子记录集句柄, “名称”, 群_名称)
            未知支持库函数_6 (子记录集句柄, “备注”, 群_备注)
            未知支持库函数_6 (子记录集句柄, “公告”, 群_公告)
            未知支持库函数_6 (子记录集句柄, “简介”, 群_简介)
            未知支持库函数_5 (子记录集句柄)
            
            清除数组 (好友)
            赋值 (好友, 分割文本 (群_成员, “*”, ))
            .如果真 (不等于 (分割好的 [6], 群_帐号))
                赋值 (好友坐标, 群_帐号.查找表项 (2))
                .如果 (不等于 (好友坐标, -1))
                    赋值 (好友句柄, 到数值 (好友坐标.取标题 (1)))
                    服务器.未知支持库函数_7 (好友句柄, 未知支持库函数_0 (到字节集 (相加 (“&聊天|收到群信息|”, 分割好的 [3], “|”, 分割好的 [4]))))
                .否则
                    
                    .如果真 (等于 (文件是否存在 (“离线群消息.txt”), 假))
                        写到文件 (“离线群消息.txt”, {  })
                    .如果真结束
                    赋值 (文件号, 打开文件 (“离线群消息.txt”, , ))
                    移到文件尾 (文件号)
                    写出文本 (文件号, 相加 (群_帐号, “{(.%*)}”, 分割好的 [3], “{(.%*)}”, 分割好的 [4], #换行符)) ' 将发送的离线消息保存在服务端
                    关闭文件 (文件号)
                    
                .如果结束
                
            .如果真结束
            
            .计次循环首 (取数组成员数 (好友), i)
                赋值 (好友坐标, 好友.查找表项 ( [i], , , 2))
                .如果 (不等于 (好友坐标, -1))
                    赋值 (好友句柄, 到数值 (好友坐标.取标题 (1)))
                    .如果真 (不等于 (好友 [i], 分割好的 [6]))
                        服务器.未知支持库函数_7 (好友句柄, 未知支持库函数_0 (到字节集 (相加 (“&聊天|收到群信息|”, 分割好的 [3], “|”, 分割好的 [4]))))
                    .如果真结束
                    
                .否则
                    
                    .如果真 (等于 (文件是否存在 (“离线群消息.txt”), 假))
                        写到文件 (“离线群消息.txt”, {  })
                    .如果真结束
                    赋值 (文件号, 打开文件 (“离线群消息.txt”, , ))
                    移到文件尾 (文件号)
                    写出文本 (文件号, 相加 (好友 [i], “{(.%*)}”, 分割好的 [3], “{(.%*)}”, 分割好的 [4], #换行符)) ' 将发送的离线消息保存在服务端
                    关闭文件 (文件号)
                    
                .如果结束
                
            .计次循环尾 ()
        .如果真结束
        
        返回 ()
    .如果真结束
    
    
    .如果真 (等于 (分割好的 [2], “查找群”))
        .判断开始 (等于 (分割好的 [3], “帐号查找”))
            赋值 (SQL, 相加 (“select *  from `vvqun` where `群号`=”, 分割好的 [4]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
            .如果 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
                未知支持库函数_12 (子记录集句柄)
                未知支持库函数_6 (子记录集句柄, “群号”, 群_群号)
                未知支持库函数_6 (子记录集句柄, “帐号”, 群_帐号)
                未知支持库函数_6 (子记录集句柄, “成员”, 群_成员)
                未知支持库函数_6 (子记录集句柄, “名称”, 群_名称)
                未知支持库函数_6 (子记录集句柄, “备注”, 群_备注)
                未知支持库函数_6 (子记录集句柄, “公告”, 群_公告)
                未知支持库函数_6 (子记录集句柄, “简介”, 群_简介)
                未知支持库函数_5 (子记录集句柄)
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|查找成功|”, 群_群号, “|”, 群_帐号, “|”, 群_名称, “|”, 群_简介))))
                
                返回 ()
            .否则
                
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|查找失败|系统未找到相关资料”)))
                返回 ()
            .如果结束
            
        .默认
             ' ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
            
            赋值 (SQL, 相加 (“select *  from `vvqun` where `名称`=”, 分割好的 [4]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
            .如果 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
                未知支持库函数_12 (子记录集句柄)
                未知支持库函数_6 (子记录集句柄, “群号”, 群_群号)
                未知支持库函数_6 (子记录集句柄, “帐号”, 群_帐号)
                未知支持库函数_6 (子记录集句柄, “成员”, 群_成员)
                未知支持库函数_6 (子记录集句柄, “名称”, 群_名称)
                未知支持库函数_6 (子记录集句柄, “备注”, 群_备注)
                未知支持库函数_6 (子记录集句柄, “公告”, 群_公告)
                未知支持库函数_6 (子记录集句柄, “简介”, 群_简介)
                未知支持库函数_5 (子记录集句柄)
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|查找成功|”, 群_群号, “|”, 群_帐号, “|”, 群_名称, “|”, 群_简介))))
                
                返回 ()
            .否则
                
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|查找失败|系统未找到相关资料”)))
                返回 ()
            .如果结束
            
        .判断结束
        
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “请求添加好友”))
        .如果真 (等于 (分割好的 [3], 分割好的 [4]))
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|发送请求失败|您已经是本群的成员”)))
            返回 ()
        .如果真结束
        
        赋值 (SQL, 相加 (“select * from vvqun where `成员` like '%”, 分割好的 [3], “%' and `群号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
            未知支持库函数_5 (子记录集句柄)
            服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|发送请求失败|您已经是本群的成员”)))
            返回 ()
        .否则
            
            赋值 (好友坐标, 分割好的.查找表项 ( [5], , , 2))
            
            .如果 (等于 (好友坐标, -1))
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|发送请求失败|您欲添加的群管理员不在线,请等待对方上线后再尝试添加!”)))
                返回 ()
            .否则
                
                赋值 (客户B的句柄, 到整数 (好友坐标.取标题 (1)))
                赋值 (SQL, 相加 (“select `帐号`,`昵称`,`性别`,`年龄`,`头像编号`,`总在线时长`  from `vvuser` where `帐号`=”, 分割好的 [3]))
                输出调试文本 (SQL)
                未知支持库函数_3 (MYSQL句柄, SQL)
                赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
                .如果真 (等于 (未知支持库函数_7 (子记录集句柄), 1))
                    未知支持库函数_12 (子记录集句柄)
                    未知支持库函数_6 (子记录集句柄, #客户_帐号, 资料_帐号)
                    未知支持库函数_6 (子记录集句柄, #客户_昵称, 资料_昵称)
                    未知支持库函数_6 (子记录集句柄, #客户_性别, 资料_性别)
                    未知支持库函数_6 (子记录集句柄, #客户_年龄, 资料_年龄)
                    未知支持库函数_6 (子记录集句柄, #客户_头像编号, 资料_头像编号)
                    未知支持库函数_6 (子记录集句柄, #客户_总在线时长, 资料_在线时长)
                    未知支持库函数_5 (子记录集句柄)
                    
                    
                    服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|请求添加为好友|”, 资料_帐号, “|”, 资料_昵称, “|”, 资料_性别, “|”, 资料_年龄, “|”, 资料_头像编号, “|”, 分割好的 [6], “|”, 分割好的 [4])))) ' 将客户A的资料发往客户B
                    
                    服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (“&群系统|发送请求成功|您的好友请求发送成功,请耐心等待对方回复!”)))
                    返回 ()
                .如果真结束
                
                
                
                
            .如果结束
            
            
        .如果结束
        
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “拒绝添加好友”))
        赋值 (好友坐标, 分割好的.查找表项 ( [3], , , 2))
        
        .如果真 (不等于 (好友坐标, -1))
            赋值 (客户B的句柄, 到整数 (好友坐标.取标题 (1)))
            服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&好友系统|拒绝添加好友|【”, 分割好的 [4], “】拒绝了您的好友添加请求”))))
            返回 ()
            
        .如果真结束
        
    .如果真结束
    
    
    .如果真 (等于 (分割好的 [2], “同意添加好友”))
        赋值 (SQL, 相加 (“select `成员` from vvqun where `群号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果真 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
            未知支持库函数_12 (子记录集句柄)
            未知支持库函数_6 (子记录集句柄, “成员”, 群_成员)
            未知支持库函数_5 (子记录集句柄)
            赋值 (SQL, 相加 (“update vvqun set `成员`='”, 群_成员, 分割好的 [3], “*'”, “ where `群号`=”, 分割好的 [4]))
            
            赋值 (好友坐标, 分割好的.查找表项 ( [3], , , 2))
            
            .如果 (不等于 (好友坐标, -1))
                赋值 (客户B的句柄, 到整数 (好友坐标.取标题 (1)))
            .否则
                返回 ()
            .如果结束
            
            
            .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
                相加 (“用户 [”, 分割好的 [3], “] 加入群 [”, 分割好的 [4], “] 成功”).加入项目 ()
                服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|同意加入群|群【”, 分割好的 [4], “】通过了您的请求！”))))
                
            .否则
                
                服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|同意加入群|群【”, 分割好的 [4], “】数据库错误！”))))
                相加 (“用户 [”, 分割好的 [3], “] 加入群 [”, 分割好的 [4], “] 失败”).加入项目 ()
            .如果结束
            
        .如果真结束
        返回 ()
    .如果真结束
    
    .如果真 (等于 (分割好的 [2], “退出群”))
        赋值 (SQL, 相加 (“select `成员` from vvqun where `群号`=”, 分割好的 [3], “ and `帐号`=”, 分割好的 [4]))
        输出调试文本 (SQL)
        未知支持库函数_3 (MYSQL句柄, SQL)
        赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
        .如果 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
            赋值 (SQL, 相加 (“delete from vvqun where `群号`=”, 分割好的 [3]))
            .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|退出群完成|群【”, 分割好的 [3], “】解散完成！”))))
                相加 (“用户 [”, 分割好的 [4], “] 解散群 [”, 分割好的 [3], “] 成功”).加入项目 ()
                
            .否则
                服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|退出群完成|群【”, 分割好的 [3], “】解散失败！”))))
                相加 (“用户 [”, 分割好的 [4], “] 解散群 [”, 分割好的 [3], “] 失败”).加入项目 ()
            .如果结束
            返回 ()
            
        .否则
            
            赋值 (SQL, 相加 (“select `成员` from vvqun where `群号`=”, 分割好的 [3]))
            输出调试文本 (SQL)
            未知支持库函数_3 (MYSQL句柄, SQL)
            赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
            .如果真 (不等于 (未知支持库函数_7 (子记录集句柄), 0))
                未知支持库函数_12 (子记录集句柄)
                未知支持库函数_6 (子记录集句柄, “成员”, 群_成员)
                未知支持库函数_5 (子记录集句柄)
                赋值 (群_成员, 子文本替换 (群_成员, 相加 (分割好的 [4], “*”), “”, , , 真))
                赋值 (SQL, 相加 (“update vvqun set `成员`='”, 群_成员, “' where `群号`=”, 分割好的 [3]))
                .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
                    服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|退出群完成|群【”, 分割好的 [3], “】退出完成！”))))
                    相加 (“用户 [”, 分割好的 [4], “] 解散群 [”, 分割好的 [3], “] 成功”).加入项目 ()
                    
                .否则
                    服务器.未知支持库函数_7 (客户句柄, 未知支持库函数_0 (到字节集 (相加 (“&群系统|退出群完成|群【”, 分割好的 [3], “】退出失败！”))))
                    相加 (“用户 [”, 分割好的 [4], “] 解散群 [”, 分割好的 [3], “] 失败”).加入项目 ()
                .如果结束
                返回 ()
            .如果真结束
            
        .如果结束
        返回 ()
    .如果真结束
    
.默认
    
.判断结束


.子程序 处理时间, 文本型, , 
.参数 处理数据, 文本型, , 
.参数 UNIX时间, 逻辑型, , 

.局部变量 返回值, 文本型, , , 

.如果 (等于 (UNIX时间, 真))
    赋值 (返回值, 到文本 (增减时间 (到时间 (“1970-01-01 08:00:00”), #秒, 到数值 (处理数据))))
.否则
    赋值 (返回值, 到文本 (取时间间隔 (到时间 (处理数据), 到时间 (“1970-01-01 08:00:00”), #秒)))
.如果结束
返回 (返回值)

.子程序 子程序_过滤帐号, 逻辑型, , 帐号在过滤列表中返回真,
.参数 帐号, 文本型, , 

.局部变量 过滤帐号, 文本型, , "0", 要过滤的帐号
.局部变量 数组数量, 整数型, , , 
.局部变量 n1, 整数型, , , 

赋值 (过滤帐号, 分割文本 (删全部空 (到文本 (读入文件 (“glzk.txt”))), #换行符, ))
赋值 (数组数量, 取数组成员数 (过滤帐号))
.计次循环首 (数组数量, n1)
    .如果真 (等于 (帐号, 过滤帐号 [n1]))
        返回 (真)
    .如果真结束
    
.计次循环尾 ()
返回 (假)


.子程序 __启动窗口_将被销毁, 空白型, , 

置托盘图标 ()
未知支持库函数_2 (MYSQL句柄)
服务器.未知支持库函数_2 ()
结束 ()


.子程序 _按钮发送弹屏公告_被单击, 空白型, , 
.如果真 (小于 (取表项数 (), 1))
    信息框 (“当前无用户在线无法使用此功能!”, 64, “提示”)
    返回 ()
.如果真结束

.如果真 (是否已创建 (窗口_弹窗公告))
    返回 ()
.如果真结束
载入 (窗口_弹窗公告, _启动窗口, 假)



.子程序 _按钮系统客服用户_被单击, 空白型, , 
载入 (窗口_系统客服, , 真)


.子程序 _按钮系统客服用户1_被单击, 空白型, , 
载入 (窗口_会员, , 真)


.子程序 __启动窗口_可否被关闭, 逻辑型, , 


.窗口程序集 程序集_弹窗公告, , , 

.子程序 _图形按钮_关闭_被单击, 空白型, , 
窗口_弹窗公告.销毁 ()


.子程序 _按钮发送弹屏公告_被单击, 空白型, , 
.局部变量 n1, 整数型, , , 
.局部变量 发送数量, 整数型, , , 
.局部变量 客户B的句柄, 整数型, , , 

.如果真 (或者 (等于 (.内容, “”), 等于 (.内容, “”), 等于 (.内容, “”)))
    信息框 (“所有内容不能为空”, 64, )
    返回 ()
.如果真结束
' 本源码来自易语言资源网(www.5A5X.com)
.计次循环首 (_启动窗口.取表项数 (.), n1)
    赋值 (客户B的句柄, 到整数 (_启动窗口.取标题 (., 相减 (n1, 1), 1)))
    .如果真 (服务器.未知支持库函数_7 (客户B的句柄, 未知支持库函数_0 (到字节集 (相加 (“&系统|弹窗公告|”, .内容, “|”, .内容, “|”, .内容)))))
        赋值 (发送数量, 相加 (发送数量, 1))
    .如果真结束
    
.计次循环尾 ()
.如果真 (大于 (发送数量, 0))
    信息框 (相加 (“弹窗公告发送成功,总共发送 ”, 到文本 (发送数量), “ 条公告!”), 64, “提示”)
    窗口_弹窗公告.销毁 ()
.如果真结束


.子程序 _编辑框2_内容被改变, 空白型, , 


.窗口程序集 窗口程序集2, , , 

.子程序 _窗口_系统客服_创建完毕, 空白型, , 
.局部变量 i, 整数型, , , 

.计次循环首 (取数组成员数 (系统_客服人员), i)
    相加 (系统_客服人员 [i], “*”).加入文本 ()
.计次循环尾 ()
' 本源码来自易语言资源网(www.5A5X.com)

.子程序 _按钮1_被单击, 空白型, , 
清除数组 (系统_客服人员)
赋值 (系统_客服人员, 分割文本 (.内容, “*”, ))
写到文件 (相加 (取运行目录 (), “\客服人员.txt”), 到字节集 (.内容))
销毁 ()

.窗口程序集 窗口程序集3, , , 

.程序集变量 编辑框, 编辑框, , , 
.程序集变量 日期时间框, 编辑框, , , 
.程序集变量 当前帐号, 文本型, , , 
.子程序 _窗口_会员_创建完毕, 空白型, , 
赋值 (编辑框, )
编辑框.加入文本 (_格式化时间 (取现行时间 ()))


.子程序 _格式化时间, 文本型, , 
.参数 日期时间, 日期时间型, , 

.局部变量 文本, 文本型, , "6", 

 ' ==============================
 ' 日期时间 ＝ 取现行时间 ()

赋值 (编辑框.内容, “”)

赋值 (文本 [1], 到文本 (取年份 (日期时间)))
赋值 (文本 [2], 到文本 (取月份 (日期时间)))
赋值 (文本 [3], 到文本 (取日 (日期时间)))
赋值 (文本 [4], 到文本 (取小时 (日期时间)))
赋值 (文本 [5], 到文本 (取分钟 (日期时间)))
赋值 (文本 [6], 到文本 (取秒 (日期时间)))
 ' 本源码来自易语言资源网(www.5A5X.com)
.如果真 (等于 (取文本长度 (文本 [2]), 1))
    赋值 (文本 [2], 相加 (“0”, 文本 [2]))
.如果真结束
.如果真 (等于 (取文本长度 (文本 [3]), 1))
    赋值 (文本 [3], 相加 (“0”, 文本 [3]))
.如果真结束
.如果真 (等于 (取文本长度 (文本 [4]), 1))
    赋值 (文本 [4], 相加 (“0”, 文本 [4]))
.如果真结束
.如果真 (等于 (取文本长度 (文本 [5]), 1))
    赋值 (文本 [5], 相加 (“0”, 文本 [5]))
.如果真结束
.如果真 (等于 (取文本长度 (文本 [6]), 1))
    赋值 (文本 [6], 相加 (“0”, 文本 [6]))
.如果真结束
返回 (相加 (文本 [1], “-”, 文本 [2], “-”, 文本 [3], “ ”, 文本 [4], “:”, 文本 [5], “:”, 文本 [6]))


.子程序 _编辑框2_鼠标左键被放开, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

输出调试文本 (编辑框.起始选择位置)
.判断开始 (小于或等于 (编辑框.起始选择位置, 4))
    赋值 (编辑框.起始选择位置, 0)
    赋值 (编辑框.被选择字符数, 4)
.判断 (并且 (大于 (编辑框.起始选择位置, 4), 小于或等于 (编辑框.起始选择位置, 7)))
    赋值 (编辑框.起始选择位置, 5)
    赋值 (编辑框.被选择字符数, 2)
.判断 (并且 (大于 (编辑框.起始选择位置, 7), 小于或等于 (编辑框.起始选择位置, 10)))
    赋值 (编辑框.起始选择位置, 8)
    赋值 (编辑框.被选择字符数, 2)
.判断 (并且 (大于 (编辑框.起始选择位置, 10), 小于或等于 (编辑框.起始选择位置, 13)))
    赋值 (编辑框.起始选择位置, 11)
    赋值 (编辑框.被选择字符数, 2)
.判断 (并且 (大于 (编辑框.起始选择位置, 13), 小于或等于 (编辑框.起始选择位置, 16)))
    赋值 (编辑框.起始选择位置, 14)
    赋值 (编辑框.被选择字符数, 2)
.默认
    赋值 (编辑框.起始选择位置, 17)
    赋值 (编辑框.被选择字符数, 2)
.判断结束
 ' 本源码来自易语言资源网(www.5A5X.com)
 ' .判断开始 (并且 (大于 (编辑框.起始选择位置, 16), 小于或等于 (编辑框.起始选择位置, 19)))
     ' 编辑框.起始选择位置 ＝ 17
     ' 编辑框.被选择字符数 ＝ 2
    
.默认
    
.判断结束




.子程序 _编辑框2_调节钮被按下, 空白型, , 
.参数 按钮值, 整数型, , 

.局部变量 选择位置, 整数型, , , 
.局部变量 被选择字符数, 整数型, , , 
.局部变量 文本, 文本型, , , 
.局部变量 选择的数值, 整数型, , , 
.局部变量 当月天数, 整数型, , , 
.局部变量 欲替换文本, 文本型, , , 

.如果真 (等于 (编辑框.被选择文本, “”))
    赋值 (编辑框.起始选择位置, 8)
    赋值 (编辑框.被选择字符数, 2)
.如果真结束
赋值 (选择位置, 编辑框.起始选择位置)
赋值 (被选择字符数, 编辑框.被选择字符数)
赋值 (选择的数值, 相加 (到数值 (编辑框.被选择文本), 按钮值))
 ' 本源码来自易语言资源网(www.5A5X.com)
赋值 (文本, 到文本 (相加 (到数值 (编辑框.被选择文本), 按钮值)))
赋值 (当月天数, 取某月天数 (到整数 (取文本中间 (.内容, 1, 4)), 到整数 (取文本中间 (.内容, 6, 2))))


.判断开始 (小于或等于 (编辑框.起始选择位置, 4))
    .如果真 (小于 (选择的数值, 1977))
        赋值 (选择的数值, 1977)
    .如果真结束
    赋值 (欲替换文本, 到文本 (选择的数值))
    赋值 (.内容, 文本替换 (.内容, 相加 (编辑框.起始选择位置, 1), 4, 欲替换文本))
    
    
.判断 (并且 (大于 (编辑框.起始选择位置, 4), 小于或等于 (编辑框.起始选择位置, 7)))
    
    .判断开始 (小于或等于 (选择的数值, 0))
        赋值 (选择的数值, 12)
    .判断 (大于 (选择的数值, 12))
        赋值 (选择的数值, 1)
    .默认
        
    .判断结束
    
    .判断开始 (等于 (取文本长度 (到文本 (选择的数值)), 1))
        赋值 (欲替换文本, 相加 (“0”, 到文本 (选择的数值)))
    .默认
        赋值 (欲替换文本, 到文本 (选择的数值))
    .判断结束
    赋值 (.内容, 文本替换 (.内容, 相加 (编辑框.起始选择位置, 1), 2, 欲替换文本))
    
.判断 (并且 (大于 (编辑框.起始选择位置, 7), 小于或等于 (编辑框.起始选择位置, 10)))
    .判断开始 (小于或等于 (选择的数值, 0))
        赋值 (选择的数值, 当月天数)
    .判断 (大于 (选择的数值, 当月天数))
        赋值 (选择的数值, 1)
    .默认
        
    .判断结束
    
    .判断开始 (等于 (取文本长度 (到文本 (选择的数值)), 1))
        赋值 (欲替换文本, 相加 (“0”, 到文本 (选择的数值)))
    .默认
        赋值 (欲替换文本, 到文本 (选择的数值))
    .判断结束
    赋值 (.内容, 文本替换 (.内容, 相加 (编辑框.起始选择位置, 1), 2, 欲替换文本))
    
.判断 (并且 (大于 (编辑框.起始选择位置, 10), 小于或等于 (编辑框.起始选择位置, 13)))
    .判断开始 (小于 (选择的数值, 0))
        赋值 (选择的数值, 23)
    .判断 (大于 (选择的数值, 23))
        赋值 (选择的数值, 0)
    .默认
        
    .判断结束
    
    .判断开始 (等于 (取文本长度 (到文本 (选择的数值)), 1))
        赋值 (欲替换文本, 相加 (“0”, 到文本 (选择的数值)))
    .默认
        赋值 (欲替换文本, 到文本 (选择的数值))
    .判断结束
    
    赋值 (.内容, 文本替换 (.内容, 相加 (编辑框.起始选择位置, 1), 2, 欲替换文本))
    
.判断 (并且 (大于 (编辑框.起始选择位置, 13), 小于或等于 (编辑框.起始选择位置, 16)))
    .判断开始 (小于 (选择的数值, 0))
        赋值 (选择的数值, 59)
    .判断 (大于 (选择的数值, 59))
        赋值 (选择的数值, 0)
    .默认
        
    .判断结束
    
    .判断开始 (等于 (取文本长度 (到文本 (选择的数值)), 1))
        赋值 (欲替换文本, 相加 (“0”, 到文本 (选择的数值)))
    .默认
        赋值 (欲替换文本, 到文本 (选择的数值))
    .判断结束
    赋值 (.内容, 文本替换 (.内容, 相加 (编辑框.起始选择位置, 1), 2, 欲替换文本))
    
    
.默认
     ' 秒数部分
    
    .判断开始 (小于 (选择的数值, 0))
        赋值 (选择的数值, 59)
    .判断 (大于 (选择的数值, 59))
        赋值 (选择的数值, 0)
    .默认
        
    .判断结束
    
    .判断开始 (等于 (取文本长度 (到文本 (选择的数值)), 1))
        赋值 (欲替换文本, 相加 (“0”, 到文本 (选择的数值)))
    .默认
        赋值 (欲替换文本, 到文本 (选择的数值))
    .判断结束
    赋值 (.内容, 文本替换 (.内容, 相加 (编辑框.起始选择位置, 1), 2, 欲替换文本))
    
    
    
.判断结束

赋值 (编辑框.起始选择位置, 选择位置)
赋值 (编辑框.被选择字符数, 被选择字符数)

.子程序 左键被放开, 空白型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

.判断开始 (小于或等于 (日期时间框.起始选择位置, 4))
    赋值 (日期时间框.起始选择位置, 0)
    赋值 (日期时间框.被选择字符数, 4)
.判断 (并且 (大于 (日期时间框.起始选择位置, 4), 小于或等于 (日期时间框.起始选择位置, 7)))
    赋值 (日期时间框.起始选择位置, 5)
    赋值 (日期时间框.被选择字符数, 2)
.判断 (并且 (大于 (日期时间框.起始选择位置, 7), 小于或等于 (日期时间框.起始选择位置, 10)))
    赋值 (日期时间框.起始选择位置, 8)
    赋值 (日期时间框.被选择字符数, 2)
.判断 (并且 (大于 (日期时间框.起始选择位置, 10), 小于或等于 (日期时间框.起始选择位置, 13)))
    赋值 (日期时间框.起始选择位置, 11)
    赋值 (日期时间框.被选择字符数, 2)
.判断 (并且 (大于 (日期时间框.起始选择位置, 13), 小于或等于 (日期时间框.起始选择位置, 16)))
    赋值 (日期时间框.起始选择位置, 14)
    赋值 (日期时间框.被选择字符数, 2)
.默认
    赋值 (日期时间框.起始选择位置, 17)
    赋值 (日期时间框.被选择字符数, 2)
.判断结束


.子程序 初始化日期时间框, 空白型, , 
.参数 参数_日期时间框, 编辑框, , 

.局部变量 日期时间, 日期时间型, , , 
.局部变量 文本, 文本型, , "6", 

事件转移 (参数_日期时间框, 日期时间框)
赋值 (日期时间框, 参数_日期时间框)

赋值 (日期时间框.宽度, 120)
赋值 (日期时间框.高度, 24)
赋值 (日期时间框.是否允许多行, 假)
赋值 (日期时间框.调节器方式, 1)


赋值 (日期时间, 取现行时间 ())
赋值 (日期时间框.内容, “”)

赋值 (文本 [1], 到文本 (取年份 (日期时间)))
赋值 (文本 [2], 到文本 (取月份 (日期时间)))
赋值 (文本 [3], 到文本 (取日 (日期时间)))
赋值 (文本 [4], 到文本 (取小时 (日期时间)))
赋值 (文本 [5], 到文本 (取分钟 (日期时间)))
赋值 (文本 [6], 到文本 (取秒 (日期时间)))

.如果真 (等于 (取文本长度 (文本 [2]), 1))
    赋值 (文本 [2], 相加 (“0”, 文本 [2]))
.如果真结束
.如果真 (等于 (取文本长度 (文本 [3]), 1))
    赋值 (文本 [3], 相加 (“0”, 文本 [3]))
.如果真结束
.如果真 (等于 (取文本长度 (文本 [4]), 1))
    赋值 (文本 [4], 相加 (“0”, 文本 [4]))
.如果真结束
.如果真 (等于 (取文本长度 (文本 [5]), 1))
    赋值 (文本 [5], 相加 (“0”, 文本 [5]))
.如果真结束
.如果真 (等于 (取文本长度 (文本 [6]), 1))
    赋值 (文本 [6], 相加 (“0”, 文本 [6]))
.如果真结束
日期时间框.加入文本 (文本 [1], “-”, 文本 [2], “-”, 文本 [3], “ ”, 文本 [4], “:”, 文本 [5], “:”, 文本 [6])




.子程序 _按钮1_被单击, 空白型, , 
.局部变量 SQL, 文本型, , , 
.局部变量 子记录集句柄, 整数型, , , 
.局部变量 会员, 整数型, , , 

赋值 (SQL, 相加 (“select `会员` from `vvuser` where `帐号`=”, .内容))
输出调试文本 (SQL)
未知支持库函数_3 (MYSQL句柄, SQL)
赋值 (子记录集句柄, 未知支持库函数_4 (MYSQL句柄))
.如果 (等于 (未知支持库函数_7 (子记录集句柄), 1))
    未知支持库函数_12 (子记录集句柄)
    未知支持库函数_6 (子记录集句柄, #客户_会员, 会员)
    未知支持库函数_5 (子记录集句柄)
    输出调试文本 (会员)
    赋值 (当前帐号, .内容)
    信息框 (相加 (“当前用户：”, .内容), 0, )
    
    赋值 (.内容, _格式化时间 (到时间 (处理时间 (到文本 (会员), 真))))
    
    
.否则
    信息框 (“不存在该帐号”, #错误图标, )
.如果结束



.子程序 _按钮2_被单击, 空白型, , 
.局部变量 SQL, 文本型, , , 

.如果 (不等于 (当前帐号, “”))
    .如果真 (等于 (信息框 (相加 (“确定要修改【”, 当前帐号, “】的会员时间吗？”), 相加 (#警告图标, #是否钮), ), #是钮))
        赋值 (SQL, 相加 (“update vvuser set `会员`=”, 处理时间 (.内容, 假), “ where `帐号`=”, 当前帐号))
        输出调试文本 (SQL)
        .如果 (未知支持库函数_3 (MYSQL句柄, SQL))
            信息框 (“修改成功”, 0, )
        .否则
            信息框 (“修改失败!!!”, #错误图标, )
        .如果结束
        
    .如果真结束
    
.否则
    信息框 (“请查询一个帐号后再修改”, 0, )
.如果结束









 ' 不属于任何一个程序集、类模块的函数：
