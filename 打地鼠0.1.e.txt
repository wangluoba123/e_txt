 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 645
    高度 = 413
    鼠标指针 =  ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\_启动窗口_鼠标指针.cur
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 0
    底色 = 8421504 '  0x808080
    最大化按钮 = 假
    最小化按钮 = 真
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\_启动窗口_底图
    图标 =  ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\_启动窗口_图标.ico
    背景音乐 =  ' 空
    标题 = “打地鼠0.1测试版”
    帮助文件名 = “”

窗口 窗口1
    左边 = 50
    顶边 = 50
    宽度 = 276
    高度 = 200
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “打地鼠0.1测试版---设置”
    帮助文件名 = “”



.常量 信息, "“            打地鼠0.1测试版             
    本软件使用《易语言》编写!           
    F1.................帮助             
    F2.................开始游戏         
    F4.................暂停游戏         
    F5.................结束游戏         
    F6.................游戏设置         
    Ctrl+X.............退出             
    “思娇屠虎”编写。                  
    QQ：84651849                        
    E-mail:tashihake@163.com            
                     2008年7月11日      ”", , 
.声音 出, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\出", , 
.声音 打, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\打", , 
.声音 逃, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\逃", , 
.声音 主音乐, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\主音乐", , 
.图片 图1, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\图1", , 
.图片 图2, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\图2", , 
.图片 图3, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\图3", , 
.图片 图4, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\图4", , 
.图片 选择, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\选择", , 
.图片 打下, " ' 已保存到：D:\易语言学习\Data\打地鼠0.1.e\打下", , 


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库




.全局变量 时间, 整数型, , , 
.全局变量 速度, 整数型, , , 
.全局变量 个数, 整数型, , , 

.窗口程序集 窗口程序集1, , , 

.程序集变量 坐标, 整数型, , "5", 记录地鼠出现的位置
.程序集变量 坐标x, 整数型, , "10", 
.程序集变量 坐标y, 整数型, , "10", 
.程序集变量 时间a, 整数型, , , 
.程序集变量 速度a, 整数型, , , 
.程序集变量 个数a, 整数型, , , 
.程序集变量 正确数, 整数型, , , 
.程序集变量 点击数, 整数型, , , 
.程序集变量 总点击次数, 整数型, , , 
.程序集变量 游戏开关, 逻辑型, , "10", 设置一些开关
.程序集变量 计数器, 整数型, , "10", 计数用
.程序集变量 出现位置, 逻辑型, , "4", 记录出现的地鼠，不要在一个位置重复出现
.子程序 __启动窗口_创建完毕, 空白型, , 
_启动窗口.移动 (取整 (相除 (相减 (取屏幕宽度 (), 770), 2)), 取整 (相除 (相减 (取屏幕高度 (), 612), 2)), 761, 635)
赋值 (坐标x [1], 40)
赋值 (坐标x [2], 96)
赋值 (坐标x [3], 232)
赋值 (坐标x [4], 216)
赋值 (坐标x [5], 352)
赋值 (坐标x [6], 312)
赋值 (坐标x [7], 464)
赋值 (坐标x [8], 424)
赋值 (坐标x [9], 584)
赋值 (坐标x [10], 576)

赋值 (坐标y [1], 184)
赋值 (坐标y [2], 328)
赋值 (坐标y [3], 200)
赋值 (坐标y [4], 344)
赋值 (坐标y [5], 176)
赋值 (坐标y [6], 352)
赋值 (坐标y [7], 192)
赋值 (坐标y [8], 352)
赋值 (坐标y [9], 192)
赋值 (坐标y [10], 344)

赋值 (时间, 60)
赋值 (速度, 5)
赋值 (个数, 1)

.子程序 _开始游戏_被选择, 空白型, , 
连续赋值 (0, 正确数, 点击数, 总点击次数, 时间a, 个数a, 总点击次数)
赋值 (., “0%”)
赋值 (., 200)
.如果 (等于 (个数, 1))
    赋值 (游戏开关 [1], 真)
.否则
    赋值 (游戏开关 [1], 真)
    赋值 (游戏开关 [6], 真)
.如果结束
赋值 (游戏开关 [5], 真) ' 游戏60秒倒计时
赋值 (时间a, 时间)
赋值 (., 到文本 (时间a))
播放音乐 (#主音乐, 真)

.子程序 _游戏时钟_周期事件, 空白型, , 
 ' 1=置每一只随机地鼠位置     2=开始游戏   3=开始倒计时    4=打击地鼠   5=倒计时
 ' 6=第二只

.如果真 (等于 (游戏开关 [1], 真)) ' 置随机地鼠位置
    赋值 (计数器 [10], 相加 (计数器 [10], 1))
    .如果真 (等于 (计数器 [10], 3)) ' 延时300毫秒
        初始化位置 ()
        赋值 (游戏开关 [1], 假)
        赋值 (游戏开关 [2], 真) ' 第一只
        坐标x.移动 ( [坐标] [1], 坐标y [坐标] [1], , )
        赋值 (计数器 [10], 0)
    .如果真结束
    
.如果真结束
.如果真 (等于 (游戏开关 [2], 真)) ' 出现地鼠
    赋值 (计数器 [1], 相加 (计数器 [1], 1))
    播放音乐 (#出, )
    .如果真 (等于 (计数器 [1], 1))
        赋值 (., 真)
        赋值 (., #图1)
    .如果真结束
    .如果真 (等于 (计数器 [1], 2))
        赋值 (计数器 [1], 0)
        赋值 (., #图2)
        赋值 (游戏开关 [2], 假) ' 初始化后关闭该开关
        赋值 (游戏开关 [3], 真) ' 开启等待开关
    .如果真结束
    
.如果真结束
.如果真 (等于 (游戏开关 [3], 真)) ' 等待点击(设置为200毫秒，一秒等于5)
    赋值 (计数器 [2], 相加 (计数器 [2], 1))
    .如果真 (等于 (计数器 [2], 25)) ' 5秒后播放动画
        播放音乐 (#逃, )
        赋值 (., #图4)
        赋值 (., 真)
    .如果真结束
    .如果真 (等于 (计数器 [2], 26))
        赋值 (., #图1)
    .如果真结束
    .如果真 (等于 (计数器 [2], 27)) ' 5秒过后，结束
        赋值 (计数器 [2], 0)
        赋值 (., 假)
        赋值 (., 假)
        赋值 (游戏开关 [3], 假)
        赋值 (游戏开关 [1], 真)
        赋值 (总点击次数, 相加 (总点击次数, 1)) ' 没有打中，也加1
        赋值 (., 相加 (到文本 (取整 (相乘 (相除 (正确数, 总点击次数), 100))), “%”))
    .如果真结束
    
.如果真结束
.如果真 (等于 (游戏开关 [4], 真)) ' 打击地鼠，从新开始
    赋值 (计数器 [3], 相加 (计数器 [3], 1))
    .如果真 (等于 (计数器 [3], 1))
        播放音乐 (#打, )
        赋值 (., #图3)
    .如果真结束
    .如果真 (等于 (计数器 [3], 2))
        赋值 (正确数, 相加 (正确数, 1))
        赋值 (总点击次数, 相加 (点击数, 正确数))
        赋值 (., 相加 (到文本 (取整 (相乘 (相除 (正确数, 总点击次数), 100))), “%”))
        赋值 (., 相加 (到文本 (相乘 (正确数, 100)), “分”))
        赋值 (., 假)
        赋值 (游戏开关 [4], 假)
        赋值 (游戏开关 [3], 假)
        赋值 (游戏开关 [1], 真)
        连续赋值 (0, 计数器 [2], 计数器 [3]) ' 同时也关闭等待计时
        赋值 (总点击次数, 相加 (点击数, 正确数))
    .如果真结束
    
.如果真结束
.如果真 (等于 (游戏开关 [5], 真)) ' 游戏倒计时
    赋值 (计数器 [4], 相加 (计数器 [4], 1))
    .如果真 (等于 (计数器 [4], 5))
        赋值 (时间a, 相减 (时间a, 1))
        赋值 (计数器 [4], 0)
        赋值 (., 到文本 (时间a))
    .如果真结束
    .如果真 (小于或等于 (时间a, 0))
        赋值 (., 0)
        赋值 (., 假)
        连续赋值 (假, 游戏开关 [3], 游戏开关 [4], 游戏开关 [5])
        .如果 (等于 (信息框 (“恭喜你过关!是否进入下一关？”, #是否钮, “过关...”), #是钮))
            赋值 (个数, 相加 (个数, 1))
            .如果真 (大于 (个数, 4))
                .如果 (等于 (信息框 (“大侠，你已通关!是否从新来过？”, #是否钮, “通关...”), #是钮))
                    赋值 (个数, 1)
                .否则
                    _结束游戏_被选择 ()
                .如果结束
                
            .如果真结束
            _开始游戏_被选择 ()
        .否则
            _结束游戏_被选择 ()
        .如果结束
        
    .如果真结束
    
.如果真结束
.如果真 (等于 (游戏开关 [6], 真)) ' 出现第二只地鼠
    赋值 (计数器 [9], 相加 (计数器 [9], 1))
    .如果真 (等于 (计数器 [9], 3))
        初始化位置 ()
        坐标x.移动 ( [坐标] [2], 坐标y [坐标] [2], , )
        赋值 (游戏开关 [6], 假) ' 初始化后关闭该开关
        赋值 (游戏开关 [7], 真) ' 第二只
        赋值 (计数器 [9], 0)
    .如果真结束
    
.如果真结束
.如果真 (等于 (游戏开关 [7], 真))
    播放音乐 (#出, )
    赋值 (计数器 [5], 相加 (计数器 [5], 1))
    .如果真 (等于 (计数器 [5], 1))
        赋值 (., 真)
        赋值 (., #图1)
    .如果真结束
    .如果真 (等于 (计数器 [5], 2))
        赋值 (计数器 [5], 0)
        赋值 (., #图2)
        赋值 (游戏开关 [7], 假) ' 初始化后关闭该开关
        赋值 (游戏开关 [8], 真) ' 开启等待开关
    .如果真结束
    
.如果真结束
.如果真 (等于 (游戏开关 [8], 真)) ' 等待点击(设置为200毫秒，一秒等于5)
    赋值 (计数器 [6], 相加 (计数器 [6], 1))
    .如果真 (等于 (计数器 [6], 25)) ' 5秒后播放动画
        播放音乐 (#逃, )
        赋值 (., #图4)
    .如果真结束
    .如果真 (等于 (计数器 [6], 26))
        赋值 (., #图1)
    .如果真结束
    .如果真 (等于 (计数器 [6], 27)) ' 5秒过后，结束
        赋值 (计数器 [6], 0)
        赋值 (., 假)
        赋值 (游戏开关 [8], 假)
        赋值 (游戏开关 [6], 真) ' 从新开始
        赋值 (总点击次数, 相加 (总点击次数, 1)) ' 没有打中，也加1
        赋值 (., 相加 (到文本 (取整 (相乘 (相除 (正确数, 总点击次数), 100))), “%”))
    .如果真结束
    
.如果真结束
.如果真 (等于 (游戏开关 [9], 真)) ' 打击地鼠，从新开始
    赋值 (计数器 [7], 相加 (计数器 [7], 1))
    .如果真 (等于 (计数器 [7], 1))
        播放音乐 (#打, )
        赋值 (., #图3)
    .如果真结束
    .如果真 (等于 (计数器 [7], 2))
        赋值 (正确数, 相加 (正确数, 1))
        赋值 (总点击次数, 相加 (点击数, 正确数))
        赋值 (., 相加 (到文本 (取整 (相乘 (相除 (正确数, 总点击次数), 100))), “%”))
        赋值 (., 相加 (到文本 (相乘 (正确数, 100)), “分”))
        赋值 (., 假)
        赋值 (游戏开关 [8], 假)
        赋值 (游戏开关 [9], 假)
        赋值 (游戏开关 [6], 真)
        连续赋值 (0, 计数器 [6], 计数器 [7]) ' 同时也关闭等待计时
        赋值 (总点击次数, 相加 (点击数, 正确数))
    .如果真结束
    
.如果真结束


.子程序 _地鼠按钮1_鼠标左键被按下, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

赋值 (., #打下)
赋值 (游戏开关 [4], 真) ' 开启打鼠开关

.子程序 _地鼠按钮1_鼠标左键被放开, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

赋值 (., #选择)

.子程序 __启动窗口_鼠标左键被按下, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

.如果真 (不等于 (., 0))
    赋值 (点击数, 相加 (点击数, 1))
    赋值 (总点击次数, 相加 (点击数, 正确数))
    赋值 (., 相加 (到文本 (取整 (相乘 (相除 (正确数, 总点击次数), 100))), “%”))
.如果真结束
赋值 (_启动窗口., #打下)

.子程序 __启动窗口_鼠标左键被放开, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

赋值 (_启动窗口., #选择)

.子程序 _暂停游戏_被选择, 空白型, , 
.如果 (不等于 (., 0))
    赋值 (., 0)
.否则
    赋值 (., 200)
.如果结束


.子程序 _退出_被选择, 空白型, , 
.如果 (等于 (信息框 (“你真的要退出吗？”, #是否钮, “打地鼠0.1测试版”), 5))
    销毁 ()
.否则
    返回 ()
.如果结束


.子程序 _游戏设置_被选择, 空白型, , 
连续赋值 (假, 游戏开关 [1], 游戏开关 [2], 游戏开关 [3])
载入 (窗口1, _启动窗口, 真)

.子程序 _结束游戏_被选择, 空白型, , 
赋值 (., 0)
连续赋值 (假, 游戏开关 [1], 游戏开关 [2], 游戏开关 [3], 游戏开关 [4], 游戏开关 [5])
连续赋值 (0, 计数器 [1], 计数器 [2], 计数器 [3], 计数器 [5])
赋值 (., 假)
赋值 (., “0”)
赋值 (., “0%”)
赋值 (., “0分”)

.子程序 _帮助_被选择, 空白型, , 
信息框 (#信息, 0, “打地鼠0.1测试版---帮助”)

.子程序 初始化位置, 空白型, , 
置随机数种子 ()
赋值 (坐标 [1], 取随机数 (1, 10))
赋值 (坐标 [2], 取随机数 (1, 10))
.如果真 (等于 (坐标 [1], 坐标 [2]))
    返回 ()
.如果真结束


.子程序 _地鼠按钮2_鼠标左键被按下, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

赋值 (., #打下)
赋值 (游戏开关 [9], 真) ' 开启打鼠开关

.子程序 _地鼠按钮2_鼠标左键被放开, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

赋值 (., #选择)

.窗口程序集 窗口程序集2, , , 

.子程序 _窗口1_创建完毕, 空白型, , 
赋值 (., 到文本 (速度))
赋值 (., 到文本 (个数))
赋值 (., 到文本 (时间))
赋值 (., 速度)
赋值 (., 个数)
赋值 (., 时间)


.子程序 _按钮1_被单击, 空白型, , 
赋值 (速度, .)
赋值 (个数, .)
赋值 (时间, .)
.如果 (等于 (., 假))
    停止播放 ()
.否则
    播放音乐 (#主音乐, 真)
.如果结束
_开始游戏_被选择 ()
销毁 ()

.子程序 _按钮2_被单击, 空白型, , 
销毁 ()


.子程序 _滑块条1_位置被改变, 空白型, , 
赋值 (., 到文本 (.))


.子程序 _滑块条2_位置被改变, 空白型, , 
赋值 (., 到文本 (.))


.子程序 _滑块条3_位置被改变, 空白型, , 
赋值 (., 到文本 (.))


.子程序 _选择框1_被单击, 空白型, , 
赋值 (., .)




 ' 不属于任何一个程序集、类模块的函数：
