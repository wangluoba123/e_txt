 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：本源码来自易语言资源网(www.5A5X.com)
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：             易语言资源网注意事项
--============   www.5A5X.com  =============--
* 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权纠纷本站概不负责！
* 本站资源未经许可,任何网站不得非法盗链及抄袭本站资源；如引用，请注明来自易语言资源网，谢谢合作！
--============   www.5A5X.com  =============--
 ' 版本号：1.0
 ' 创建号：0.0

窗口 主窗口
    左边 = 50
    顶边 = 50
    宽度 = 800
    高度 = 600
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 假
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 真
    最小化按钮 = 真
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    窗口类名 = “”
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “DX按钮_测试”
    帮助文件名 = “”





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 5 0 系统核心支持库
 ' EdirectX 81690053A86045bf9E362F5DE0BC4095 2 0 DirectX2D支持库
 ' spec A512548E76954B6E92C21055517615B0 3 0 特殊功能支持库




数据类型 Point, , 
    .成员 x, 整数型, , , 
    .成员 y, 整数型, , , 

.全局变量 全局_句柄, 整数型, , , 
.全局变量 全局_屏幕, 未知类型0x20007, , , 
.全局变量 全局_声音, 未知类型0x20008, , , 
.全局变量 全局_页面, 未知类型0x2000B, , , 
.全局变量 全局_按钮, 按钮类, , , 
.全局变量 全局_小红旗, 小红旗类, , , 
.全局变量 全局_鼠标, 鼠标类, , , 
.全局变量 全局_移动演示, 移动演示类, , , 
.全局变量 匿名全局变量_835, 空白型, , , 
.全局变量 全局_键值, 整数型, , , 
.全局变量 全局_键状态, 整数型, , , 
.全局变量 全局_窗口坐标, Point, , , 
.全局变量 全局_屏幕坐标, Point, , , 
.全局变量 全局_窗口矩形, 未知类型0x2000D, , , 
.全局变量 匿名全局变量_700, 空白型, , , 
.全局变量 全局_标识组, 整数型, , "0", 
.全局变量 全局_图层组, 整数型, , "0", 

.DLL命令 GetWindowLong, 整数型, "user32", "GetWindowLongA", 公开, 从指定窗口的结构中取得信息
    .参数 句柄, 整数型, , 欲为其获取信息的窗口的句柄
    .参数 nIndex, 整数型, , 欲取回的信息

.DLL命令 AdjustWindowRectEx, 整数型, "user32", "AdjustWindowRectEx", 公开, 在给定一种窗口样式的前提下，计算获得目标客户区矩形所需的窗口大小
    .参数 客户区, 未知类型0x2000D, 传址, lpRect,最初包含要求的客户区
    .参数 窗口样式, 整数型, , dwStyle,窗口样式
    .参数 窗口菜单, 整数型, , bMenu,如窗口有菜单，则设为TRUE（非零）
    .参数 扩展窗口样式, 整数型, , dwEsStyle,扩展窗口样式（只适用于AdjustWindowRectEx）

.DLL命令 IsWindow, 整数型, "user32.dll", "IsWindow", 公开, 判断窗口句柄是否存在. 非零表示成功，零表示失败
    .参数 窗口句柄, 整数型, , hwnd

.DLL命令 SetRectEmpty, 整数型, "user32", "SetRectEmpty", , 将矩形lpRect设为一个空矩形（所有字段都为空） 非零表示成功，零表示失败。会设置GetLastError
    .参数 lpRect, 未知类型0x2000D, 传址, 

.DLL命令 GetWindowRect, 整数型, "user32", "GetWindowRect", 公开, 获得整个窗口的范围矩形，窗口的边框、标题栏、滚动条及菜单等都在这个矩形内
    .参数 句柄, 整数型, , 
    .参数 lpRect, 未知类型0x2000D, 传址, 

.DLL命令 ShowCursor, 整数型, "user32", "ShowCursor", , 控制鼠标指针的可视性
    .参数 bShow, 逻辑型, , 

.DLL命令 GetCursorPos, 整数型, "user32", "GetCursorPos", 公开, 
    .参数 _point, Point, 传址, 

.DLL命令 ScreenToClient, 整数型, "user32", "ScreenToClient", 公开, 判断屏幕上一个指定点的客户区坐标 非零表示成功，零表示失败
    .参数 句柄, 整数型, , 一个窗口的句柄，该窗口定义了要使用的客户区坐标系统
    .参数 坐标, Point, 传址, 屏幕坐标系统中包含了屏幕点的结构。这个函数会随同相应的客户区坐标（由hwnd决定）载入结构

.程序集 程序集1, , , 

.子程序 _启动子程序, 整数型, , 本子程序在程序启动后最先执行
载入 (主窗口, , 假)

返回 (0) ' 可以根据您的需要返回任意数值
 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--


.子程序 构造矩形数据, 未知类型0x2000D, , 
.参数 _左边, 整数型, , 
.参数 _右边, 整数型, , 
.参数 _顶边, 整数型, , 
.参数 _底边, 整数型, , 

.局部变量 _矩形, 未知类型0x2000D, , , 

赋值 (_矩形., _左边)
赋值 (_矩形., _右边)
赋值 (_矩形., _顶边)
赋值 (_矩形., _底边)
返回 (_矩形)
' 本源码来自易语言资源网(www.5A5X.com)

.子程序 判断是否包含坐标, 逻辑型, , 
.参数 _矩形, 未知类型0x2000D, , 
.参数 _坐标, Point, , 没则0,有则非0

.如果真 (并且 (大于或等于 (_坐标.x, _矩形.), 小于或等于 (_坐标.x, _矩形.), 大于或等于 (_坐标.y, _矩形.), 小于或等于 (_坐标.y, _矩形.)))
    返回 (真)
.如果真结束
返回 (假)

.子程序 转换屏幕坐标到窗口坐标, Point, 公开, 判断屏幕上一个指定点的客户区坐标
.局部变量 _欲转换坐标, Point, , , 
.局部变量 _转换后坐标, Point, 静态, , 
.局部变量 _坐标, Point, , , 
.局部变量 _矩形, 未知类型0x2000D, , , 

赋值 (_欲转换坐标, 取屏幕坐标 ())
赋值 (_矩形, 取内框矩形 (全局_句柄, 0))
.如果真 (大于 (ScreenToClient (全局_句柄, _转换后坐标), 0))
    赋值 (_坐标.x, 相加 (_转换后坐标.x, _欲转换坐标.x))
    赋值 (_坐标.y, 相加 (_转换后坐标.y, _欲转换坐标.y))
    ' 本源码来自易语言资源网(www.5A5X.com)
    .如果真 (大于 (_坐标.x, _矩形.))
        赋值 (_坐标.x, _矩形.)
    .如果真结束
    .如果真 (大于 (_坐标.y, _矩形.))
        赋值 (_坐标.y, _矩形.)
    .如果真结束
    赋值 (_转换后坐标, _坐标)
     ' 输出调试文本 (到文本 (_坐标.x) ＋ “|” ＋ 到文本 (_坐标.y))
.如果真结束
返回 (_转换后坐标)

.子程序 转换屏幕坐标到窗口坐标1, Point, , 转换屏幕坐标为窗口的相对坐标
.局部变量 _矩形, 未知类型0x2000D, , , 
.局部变量 _坐标, Point, , , 
.局部变量 _x, 整数型, , , 
.局部变量 _y, 整数型, , , 

赋值 (_x, 取鼠标水平位置 ())
赋值 (_y, 取鼠标垂直位置 ())
赋值 (_矩形, 取内框矩形 (全局_句柄, 0))

.判断开始 (并且 (大于 (_x, _矩形.), 小于 (_x, _矩形.)))
    赋值 (_坐标.x, 相减 (_x, _矩形.))
.判断 (小于 (_x, _矩形.))
    赋值 (_坐标.x, 0)
.判断 (大于 (_x, _矩形.))
    赋值 (_坐标.x, _矩形.)
.默认
     ' 本源码来自易语言资源网(www.5A5X.com)
.判断结束

.判断开始 (并且 (大于 (_y, _矩形.), 小于 (_y, _矩形.)))
    赋值 (_坐标.y, 相减 (_y, _矩形.))
.判断 (小于 (_y, _矩形.))
    赋值 (_坐标.y, 0)
.判断 (大于 (_y, _矩形.))
    赋值 (_坐标.y, _矩形.)
.默认
    
.判断结束
 ' 输出调试文本 (到文本 (_坐标.x) ＋ “|” ＋ 到文本 (_坐标.y))
返回 (_坐标)

.子程序 取屏幕坐标, Point, , 
.局部变量 _临时坐标, Point, , , 

GetCursorPos (_临时坐标)
 ' 本源码来自易语言资源网(www.5A5X.com)
返回 (_临时坐标)

.子程序 取内框矩形, 未知类型0x2000D, , 取窗口内矩形
.参数 _窗口句柄, 整数型, , 
.参数 是否有菜单栏, 整数型, , 没则0,有则非0,

.局部变量 外框大小, 未知类型0x2000D, , , 
.局部变量 内外框差, 未知类型0x2000D, , , 
.局部变量 内框相对大小, 未知类型0x2000D, , , 
.局部变量 窗口样式, 整数型, , , 
.局部变量 扩展窗口样式, 整数型, , , 

赋值 (窗口样式, GetWindowLong (_窗口句柄, -16))
赋值 (扩展窗口样式, GetWindowLong (_窗口句柄, -20))
赋值 (外框大小, 取外框矩形 (_窗口句柄))
 ' 本源码来自易语言资源网(www.5A5X.com)
AdjustWindowRectEx (内外框差, 窗口样式, 是否有菜单栏, 扩展窗口样式)
赋值 (内框相对大小., 相减 (外框大小., 内外框差.))
赋值 (内框相对大小., 相减 (外框大小., 内外框差.))
赋值 (内框相对大小., 相减 (外框大小., 内外框差.))
赋值 (内框相对大小., 相减 (外框大小., 内外框差.))
返回 (内框相对大小)

.子程序 取外框矩形, 未知类型0x2000D, , 
.参数 _窗口句柄, 整数型, , 

.局部变量 _窗口大小信息, 未知类型0x2000D, , , 

.如果 (等于 (IsWindow (_窗口句柄), 0))
    SetRectEmpty (_窗口大小信息)
     ' 本源码来自易语言资源网(www.5A5X.com)
.否则
    GetWindowRect (_窗口句柄, _窗口大小信息)
     ' 如果真 (_窗口大小信息.左边 ＜ 0 且 _窗口大小信息.左边 ＜ 0 且 _窗口大小信息.左边 ＜ 0 且 _窗口大小信息.左边 ＜ 0)
     ' 返回 (_窗口大小信息)
.如果结束
返回 (_窗口大小信息)

.程序集 TIMER程序集, , , 

.程序集变量 _停止逻辑, 逻辑型, , , 
.子程序 时钟子程序, 空白型, , 
.参数 _时钟周期, 整数型, , 
.参数 _时钟事件, 子程序指针, , 

.判断循环首 (等于 (假, _停止逻辑))
    调用子程序 (_时钟事件, , , )
    等待子程序 (_时钟周期)
.判断循环尾 ()

.子程序 等待子程序, 空白型, , 
.参数 _等待时间, 整数型, , 

.局部变量 _时间, 整数型, , , 

赋值 (_时间, 取启动时间 ())
.判断循环首 (小于 (相减 (取启动时间 (), _时间), _等待时间))
    处理事件 ()
    延时 (1)
.判断循环尾 ()

.子程序 控制时钟, 空白型, , 
.参数 _停止, 逻辑型, , 

赋值 (_停止逻辑, _停止)


.窗口程序集 主窗口程序集, , , 

.程序集变量 红旗动态逻辑, 逻辑型, , , 
.子程序 _主窗口_将被销毁, 空白型, , 
结束 ()
 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--


.子程序 _主窗口_创建完毕, 空白型, , 
赋值 (全局_句柄, 主窗口.取窗口句柄 ())
创建DX窗口 (800, 600)


.子程序 创建DX窗口, 空白型, , 
.参数 _宽, 整数型, , 
.参数 _高, 整数型, , 

赋值 (主窗口., _宽)
赋值 (主窗口., _高)
赋值 (主窗口., 真)
全局_屏幕.未知支持库函数_64 (全局_句柄, _宽, _高)
全局_句柄.未知支持库函数_14 ()
真.未知支持库函数_35 (假, 假)
10.未知支持库函数_38 ()
全局_声音.未知支持库函数_213 (全局_句柄, 假)
' 本源码来自易语言资源网(www.5A5X.com)
创建控件 ()

时钟子程序 (10, &_时钟事件)


.子程序 创建控件, 空白型, , 
全局_鼠标.创建 (相加 (取运行目录 (), “\mouse.bmp”))
 ' 本源码来自易语言资源网(www.5A5X.com)

全局_移动演示.创建 (相加 (取运行目录 (), “\移动演示图片.jpg”), 200, 200, 构造矩形数据 (0, 222, 0, 20), &移动演示左键事件子程序)

全局_按钮.创建 (相加 (取运行目录 (), “\but_q_1.jpg”), 相加 (取运行目录 (), “\but_q_2.jpg”), 相加 (取运行目录 (), “\click1.wav”), 相加 (取运行目录 (), “\click2.wav”), 相加 (全局_移动演示.左边 (), 100), 相加 (全局_移动演示.顶边 (), 100), &左键事件子程序, &右键事件子程序)
全局_小红旗.创建 (相加 (全局_移动演示.左边 (), 15), 相加 (全局_移动演示.顶边 (), 25))


.子程序 移动演示左键事件子程序, 空白型, , 
全局_移动演示.移动 ()
全局_按钮.设置显示位置 (相加 (全局_移动演示.左边 (), 100), 相加 (全局_移动演示.顶边 (), 100))
全局_小红旗.设置显示位置 (相加 (全局_移动演示.左边 (), 15), 相加 (全局_移动演示.顶边 (), 25))


.子程序 左键事件子程序, 空白型, , 
赋值 (红旗动态逻辑, 取反 (红旗动态逻辑))


.子程序 右键事件子程序, 空白型, , 
赋值 (红旗动态逻辑, 取反 (红旗动态逻辑))
 ' 本源码来自易语言资源网(www.5A5X.com)

.子程序 _输入设备1_鼠标按键被改变, 空白型, , 
.参数 键值, 整数型, , 
.参数 键状态, 整数型, , 

赋值 (全局_键值, 键值)
赋值 (全局_键状态, 键状态)
全局_按钮.鼠标事件检测 ()
全局_移动演示.鼠标事件检测 ()

.子程序 _输入设备1_鼠标位置改变, 空白型, , 
.参数 有边界横向位置, 整数型, , 
.参数 有边界纵向位置, 整数型, , 
.参数 无边界横向位置, 整数型, , 
.参数 无边界纵向位置, 整数型, , 
.参数 横向位置偏移, 整数型, , 
.参数 纵向位置偏移, 整数型, , 

赋值 (全局_窗口坐标, 转换屏幕坐标到窗口坐标 ())
赋值 (全局_屏幕坐标, 取屏幕坐标 ())
全局_按钮.鼠标位置检测 (全局_窗口坐标)
全局_移动演示.鼠标位置检测 (全局_窗口坐标)

.子程序 _时钟事件, 空白型, , 
.局部变量 i, 整数型, , , 

未知支持库函数_15 ()
 ' --------------------------------------------
全局_屏幕.未知支持库函数_83 ().未知支持库函数_124 (#黑色)
 ' ---------------------------------------------
全局_移动演示.显示 ()
全局_按钮.显示 ()
全局_小红旗.画红旗 (红旗动态逻辑)
 ' 本源码来自易语言资源网(www.5A5X.com)
 ' ---------------------------------------------
全局_鼠标.显示 ()
 ' ----------------------------------------------
全局_屏幕.未知支持库函数_69 (假, 假, 真)

.类模块 按钮类, , , 

.程序集变量 _按钮_矩形, 未知类型0x2000D, , , 
.程序集变量 _按钮_左键事件, 子程序指针, , , 
.程序集变量 _按钮_右键事件, 子程序指针, , , 
.程序集变量 _前景页面, 未知类型0x2000B, , , 
.程序集变量 _背景页面, 未知类型0x2000B, , , 
.程序集变量 _是否有焦点, 逻辑型, , , 
.程序集变量 _按钮_掠过声音, 未知类型0x20009, , , 
.程序集变量 _按钮_点击声音, 未知类型0x20009, , , 
.程序集变量 _掠过声音播放, 逻辑型, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用
 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 方法1, 空白型, , 


.子程序 创建, 空白型, 公开, 
.参数 _前景图片, 文本型, , 
.参数 _背景图片, 文本型, , 
.参数 _鼠标掠过声音, 文本型, , 
.参数 _鼠标点击声音, 文本型, , 
.参数 _显示位置X, 整数型, , 
.参数 _显示位置Y, 整数型, , 
.参数 _左键事件, 子程序指针, , 
.参数 _右键事件, 子程序指针, , 

赋值 (_按钮_左键事件, _左键事件)
赋值 (_按钮_右键事件, _右键事件)
' 本源码来自易语言资源网(www.5A5X.com)
_前景页面.未知支持库函数_111 (全局_屏幕, _前景图片, )
_前景页面.未知支持库函数_157 ()
_背景页面.未知支持库函数_111 (全局_屏幕, _背景图片, )
_背景页面.未知支持库函数_157 ()
_按钮_掠过声音.未知支持库函数_230 (全局_声音, _鼠标掠过声音, 1)
_按钮_点击声音.未知支持库函数_230 (全局_声音, _鼠标点击声音, 1)

赋值 (_按钮_矩形, 构造矩形数据 (_显示位置X, 相加 (_显示位置X, _前景页面.未知支持库函数_168 ()), _显示位置Y, 相加 (_显示位置Y, _前景页面.未知支持库函数_169 ())))

.子程序 显示, 空白型, 公开, 
.如果 (_是否有焦点)
    _前景页面.未知支持库函数_134 (全局_屏幕.未知支持库函数_83 (), _按钮_矩形., _按钮_矩形., )
    .如果真 (等于 (假, _掠过声音播放))
        _按钮_掠过声音.未知支持库函数_231 (0)
        赋值 (_掠过声音播放, 真)
    .如果真结束
     ' 本源码来自易语言资源网(www.5A5X.com)
.否则
    _背景页面.未知支持库函数_134 (全局_屏幕.未知支持库函数_83 (), _按钮_矩形., _按钮_矩形., )
    赋值 (_掠过声音播放, 假)
.如果结束


.子程序 设置显示位置, 空白型, 公开, 
.参数 _显示位置X, 整数型, , 
.参数 _显示位置Y, 整数型, , 

赋值 (_按钮_矩形, 构造矩形数据 (_显示位置X, 相加 (_显示位置X, _前景页面.未知支持库函数_168 ()), _显示位置Y, 相加 (_显示位置Y, _前景页面.未知支持库函数_169 ())))
显示 ()
 ' 本源码来自易语言资源网(www.5A5X.com)

.子程序 左键点击, 空白型, , 
_按钮_点击声音.未知支持库函数_231 (0)
调用子程序 (_按钮_左键事件, , , )

.子程序 右键点击, 空白型, , 
_按钮_点击声音.未知支持库函数_231 (0)
调用子程序 (_按钮_右键事件, , , )

.子程序 鼠标位置检测, 空白型, 公开, 
.参数 _坐标, Point, , 

.如果 (判断是否包含坐标 (_按钮_矩形, _坐标))
    赋值 (_是否有焦点, 真)
.否则
    赋值 (_是否有焦点, 假)
.如果结束
' 本源码来自易语言资源网(www.5A5X.com)

.子程序 鼠标事件检测, 空白型, 公开, 
.如果 (_是否有焦点)
    .判断开始 (等于 (全局_键状态, 3)) ' 按下
        .判断开始 (等于 (全局_键值, 256)) ' 左键
            左键点击 ()
        .判断 (等于 (全局_键值, 257)) ' 右键
            右键点击 ()
        .默认
            
        .判断结束
        
    .判断 (等于 (全局_键状态, 0)) ' 弹起
        .判断开始 (等于 (全局_键值, 256)) ' 左键
            
        .判断 (等于 (全局_键值, 257)) ' 右键
            ' 本源码来自易语言资源网(www.5A5X.com)
        .默认
            
        .判断结束
        
    .默认
        
    .判断结束
    
.否则
    
.如果结束


.子程序 左边, 整数型, 公开, 
返回 (_按钮_矩形.)
' 本源码来自易语言资源网(www.5A5X.com)

.子程序 顶边, 整数型, 公开, 
返回 (_按钮_矩形.)

.类模块 小红旗类, , , 

.程序集变量 小红旗_缓冲页面, 未知类型0x2000B, , , 
.程序集变量 _计次, 整数型, , , 
.程序集变量 _参数, 整数型, , , 
.程序集变量 _小红旗_矩形, 未知类型0x2000D, , , 
.程序集变量 _是否动态, 逻辑型, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用
 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 创建, 空白型, 公开, 
.参数 _x, 整数型, , 
.参数 _y, 整数型, , 

小红旗_缓冲页面.未知支持库函数_111 (全局_屏幕, 相加 (取运行目录 (), “\flag.bmp”), )
小红旗_缓冲页面.未知支持库函数_157 ()
赋值 (_小红旗_矩形, 构造矩形数据 (_x, 相加 (_x, 64), _y, 相加 (_y, 64)))

.子程序 画红旗, 空白型, 公开, 
.参数 _动态, 逻辑型, 可空, 

赋值 (_是否动态, _动态)
.如果真 (_动态)
    赋值 (_计次, 相加 (_计次, 1))
    .如果真 (等于 (_参数, 0))
        赋值 (_参数, 相加 (_参数, 1))
    .如果真结束
    .如果真 (等于 (求余数 (_计次, 4), 0))
        赋值 (_参数, 相加 (_参数, 1))
    .如果真结束
    .如果真 (等于 (_参数, 33))
        赋值 (_参数, 1)
    .如果真结束
    .如果真 (等于 (_计次, 4))
        赋值 (_计次, 0)
    .如果真结束
    ' 本源码来自易语言资源网(www.5A5X.com)
.如果真结束
.如果真 (等于 (_参数, 0))
    赋值 (_参数, 1)
.如果真结束
小红旗_缓冲页面.未知支持库函数_134 (全局_屏幕.未知支持库函数_83 (), _小红旗_矩形., _小红旗_矩形., 构造矩形数据 (相乘 (64, 相减 (_参数, 1)), 相乘 (64, _参数), 0, 64))


.子程序 设置显示位置, 空白型, 公开, 
.参数 _显示位置X, 整数型, , 
.参数 _显示位置Y, 整数型, , 

赋值 (_小红旗_矩形, 构造矩形数据 (_显示位置X, 相加 (_显示位置X, 64), _显示位置Y, 相加 (_显示位置Y, 64)))
画红旗 (_是否动态)
 ' 本源码来自易语言资源网(www.5A5X.com)

.子程序 左边, 整数型, 公开, 
返回 (_小红旗_矩形.)


.子程序 顶边, 整数型, 公开, 
返回 (_小红旗_矩形.)

.类模块 鼠标类, , , 

.程序集变量 _鼠标_后台页面, 未知类型0x2000B, , , 
.程序集变量 _记录位置, Point, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 创建, 空白型, 公开, 
.参数 _鼠标图片路径, 文本型, , 

_鼠标_后台页面.未知支持库函数_111 (全局_屏幕, _鼠标图片路径, )
_鼠标_后台页面.未知支持库函数_157 ()
ShowCursor (假)


.子程序 显示, 空白型, 公开, 
.如果 (判断是否包含坐标 (取内框矩形 (全局_句柄, 0), 全局_屏幕坐标))
    _鼠标_后台页面.未知支持库函数_134 (全局_屏幕.未知支持库函数_83 (), 全局_窗口坐标.x, 全局_窗口坐标.y, )
    赋值 (_记录位置, 全局_窗口坐标)
.否则
    _鼠标_后台页面.未知支持库函数_134 (全局_屏幕.未知支持库函数_83 (), _记录位置.x, _记录位置.y, )
.如果结束



.类模块 移动演示类, , , 

.程序集变量 _移动演示_缓冲页面, 未知类型0x2000B, , , 
.程序集变量 _移动演示_宽度, 整数型, , , 
.程序集变量 _移动演示_高度, 整数型, , , 
.程序集变量 _移动演示_矩形, 未知类型0x2000D, , , 
.程序集变量 _移动演示_左键事件, 子程序指针, , , 
.程序集变量 _是否有焦点, 逻辑型, , , 
.程序集变量 _移动演示_显示坐标, Point, , , 
.程序集变量 _是否动态, 逻辑型, , , 
.程序集变量 _坐标差, Point, , , 
.程序集变量 _移动中, 逻辑型, , , 
.程序集变量 _可否移动, 逻辑型, , , 
.程序集变量 _区域矩形, 未知类型0x2000D, , , 
.程序集变量 _移动演示_可移动识别矩形, 未知类型0x2000D, , , 
.程序集变量 匿名程序集变量_790, 空白型, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用
 ' --========  易语言资源网  (www.5A5X.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.5A5X.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.5A5X.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.5A5X.com  ================--


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.子程序 创建, 空白型, 公开, 
.参数 _图片路径, 文本型, , 
.参数 _x, 整数型, , 
.参数 _y, 整数型, , 
.参数 _可移动识别矩形, 未知类型0x2000D, 可空, 
.参数 _左键事件, 子程序指针, 可空, 

.局部变量 _图层位置, 整数型, 静态, , 

_移动演示_缓冲页面.未知支持库函数_111 (全局_屏幕, _图片路径, )
_移动演示_缓冲页面.未知支持库函数_157 ()
赋值 (_移动演示_宽度, _移动演示_缓冲页面.未知支持库函数_168 ())
赋值 (_移动演示_高度, _移动演示_缓冲页面.未知支持库函数_169 ())
赋值 (_移动演示_矩形, 构造矩形数据 (_x, 相加 (_x, _移动演示_宽度), _y, 相加 (_y, _移动演示_高度)))

.如果 (是否为空 (_可移动识别矩形))
    赋值 (_区域矩形, 构造矩形数据 (0, _移动演示_宽度, 0, _移动演示_高度))
.否则
    赋值 (_区域矩形, _可移动识别矩形)
.如果结束

赋值 (_移动演示_可移动识别矩形, 构造矩形数据 (相加 (_区域矩形., _移动演示_矩形.), 相加 (_区域矩形., _移动演示_矩形., _区域矩形.), 相加 (_区域矩形., _移动演示_矩形.), 相加 (_区域矩形., _移动演示_矩形., _区域矩形.)))

赋值 (_移动演示_显示坐标.x, _x)
赋值 (_移动演示_显示坐标.y, _y)
赋值 (_移动演示_左键事件, _左键事件)


.子程序 显示, 空白型, 公开, 
_移动演示_缓冲页面.未知支持库函数_134 (全局_屏幕.未知支持库函数_83 (), _移动演示_显示坐标.x, _移动演示_显示坐标.y, )
赋值 (_移动演示_矩形, 构造矩形数据 (_移动演示_显示坐标.x, 相加 (_移动演示_显示坐标.x, _移动演示_宽度), _移动演示_显示坐标.y, 相加 (_移动演示_显示坐标.y, _移动演示_高度)))
赋值 (_移动演示_可移动识别矩形, 构造矩形数据 (相加 (_区域矩形., _移动演示_矩形.), 相加 (_区域矩形., _移动演示_矩形., _区域矩形.), 相加 (_区域矩形., _移动演示_矩形.), 相加 (_区域矩形., _移动演示_矩形., _区域矩形.)))


.子程序 鼠标位置检测, 空白型, 公开, 
.参数 _坐标, Point, , 

.如果 (_移动中)
    赋值 (_是否有焦点, 真)
    赋值 (_可否移动, 真)
    左键点击 ()
.否则
    
    赋值 (_坐标差.x, 相减 (_移动演示_矩形., _坐标.x))
    赋值 (_坐标差.y, 相减 (_移动演示_矩形., _坐标.y))
    .如果 (判断是否包含坐标 (_移动演示_矩形, _坐标))
        赋值 (_是否有焦点, 真)
        .如果 (判断是否包含坐标 (_移动演示_可移动识别矩形, _坐标))
            赋值 (_可否移动, 真)
        .否则
            赋值 (_可否移动, 假)
        .如果结束
        
    .否则
        赋值 (_是否有焦点, 假)
        赋值 (_可否移动, 假)
    .如果结束
    
    
.如果结束


.子程序 鼠标事件检测, 空白型, 公开, 
.如果真 (_是否有焦点)
    .判断开始 (等于 (全局_键状态, 3)) ' 按下
        .判断开始 (等于 (全局_键值, 256)) ' 左键
            左键点击 ()
        .判断 (等于 (全局_键值, 257)) ' 右键
            
        .默认
            
        .判断结束
        
    .判断 (等于 (全局_键状态, 0)) ' 弹起
        .判断开始 (等于 (全局_键值, 256)) ' 左键
            赋值 (_移动中, 假)
             ' _可否移动 ＝ 假
        .判断 (等于 (全局_键值, 257)) ' 右键
            
        .默认
            
        .判断结束
        
    .默认
        
    .判断结束
    
.如果真结束


.子程序 左键点击, 空白型, , 
输出调试文本 (_可否移动)
调用子程序 (_移动演示_左键事件, , , )

.子程序 移动, 空白型, 公开, 
.如果真 (_是否有焦点)
    .如果真 (_可否移动)
        赋值 (_移动演示_显示坐标.x, 相加 (全局_窗口坐标.x, _坐标差.x))
        赋值 (_移动演示_显示坐标.y, 相加 (全局_窗口坐标.y, _坐标差.y))
        .如果 (判断是否包含坐标 (取内框矩形 (全局_句柄, 0), 全局_屏幕坐标))
            赋值 (_移动中, 真)
            显示 ()
        .否则
            赋值 (_移动中, 假)
            赋值 (_可否移动, 假)
        .如果结束
        
    .如果真结束
    
.如果真结束


.子程序 左边, 整数型, 公开, 
返回 (_移动演示_矩形.)


.子程序 顶边, 整数型, 公开, 
返回 (_移动演示_矩形.)



 ' 不属于任何一个程序集、类模块的函数：
