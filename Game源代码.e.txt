 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 800
    高度 = 600
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 0
    底图方式 = 1
    底色 = 0 '  0x0
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 真
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 已保存到：D:\易语言学习\Data\Game源代码.e\_启动窗口_图标.ico
    背景音乐 =  ' 空
    标题 = “”
    帮助文件名 = “”





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库
 ' EdirectX 81690053A86045bf9E362F5DE0BC4095 1 5 DirectX支持库
 ' iext 27bb20fdd3e145e4bee3db39ddd6e64c 1 2 扩展界面支持库一
 ' spec A512548E76954B6E92C21055517615B0 2 1 特殊功能支持库



 ' 所需要的模块
 ' 写屏幕 F:\e\E源码\写屏幕\写屏幕.ec


.全局变量 系统屏幕, 未知类型0x20007, , , 
.全局变量 主页面, 未知类型0x2000B, , , 
.全局变量 cout, 空白型, , , 
.全局变量 cout1, 空白型, , , 
.全局变量 底图页面, 未知类型0x2000B, , , 
.全局变量 地表页面, 未知类型0x2000B, , , 
.全局变量 文字页面, 未知类型0x2000B, , , 
.全局变量 云页面, 未知类型0x2000B, , , 
.全局变量 云1页面, 未知类型0x2000B, , , 
.全局变量 第3层背景, 未知类型0x2000B, , , 
.全局变量 第2层背景, 未知类型0x2000B, , , 
.全局变量 第1层背景, 未知类型0x2000B, , , 
.全局变量 游戏进展, 整数型, , , 
.全局变量 当前地图背景音乐, 文本型, , , 
.全局变量 当前地图背景, 文本型, , , 
.全局变量 地图配置文件, 文本型, , , 
.全局变量 角色配置文件, 文本型, , , 
.全局变量 怪物配置文件, 文本型, , , 
.全局变量 换装配置文件, 文本型, , , 
.全局变量 游戏配置文件, 文本型, , , 
.全局变量 游戏角色, 文本型, , , 
.全局变量 游戏地图, 文本型, , , 
.全局变量 游戏怪物, 文本型, , , 
.全局变量 游戏武器, 文本型, , , 
.全局变量 游戏盔甲, 文本型, , , 
.全局变量 游戏头饰, 文本型, , , 
.全局变量 方向, 文本型, , , 
.全局变量 状态, 文本型, , , 
.全局变量 攻击, 文本型, , , 
.全局变量 精灵x, 整数型, , , 
.全局变量 精灵y, 整数型, , , 
.全局变量 盔甲x, 整数型, , , 
.全局变量 盔甲y, 整数型, , , 
.全局变量 头饰x, 整数型, , , 
.全局变量 头饰y, 整数型, , , 
.全局变量 武器x, 整数型, , , 
.全局变量 武器y, 整数型, , , 
.全局变量 怪物x, 整数型, , , 
.全局变量 怪物y, 整数型, , , 
.全局变量 是否存在, 整数型, , , 
.全局变量 人物血量, 整数型, , , 
.全局变量 怪物血量, 整数型, , , 
.全局变量 账号名, 文本型, , , 
.全局变量 句柄, 整数型, , , 
.全局变量 记录集句柄, 整数型, , , 
.全局变量 运行目录, 文本型, , , 
.全局变量 midi, 未知类型0x20005, , , 
.全局变量 dx声音, 未知类型0x20008, , , 
.全局变量 走路, 未知类型0x20009, , , 
.全局变量 武器攻击1, 未知类型0x20009, , , 
.全局变量 武器攻击2, 未知类型0x20009, , , 
.全局变量 空手攻击, 未知类型0x20009, , , 
.全局变量 空手击中, 未知类型0x20009, , , 
.全局变量 角色被攻击, 未知类型0x20009, , , 
.全局变量 音量, 整数型, , , 
.全局变量 怪物被击中声音, 未知类型0x20009, , , 
.全局变量 怪物被击中, 逻辑型, , , 
.全局变量 怪物已死, 逻辑型, , , 
.全局变量 怪物刷新时间, 整数型, , , 
.全局变量 怪物受攻击方向, 整数型, , , 
.全局变量 怪物方向, 整数型, , , 
.全局变量 背景2移动, 整数型, , , 
.全局变量 背景1移动, 整数型, , , 
.全局变量 云移动, 整数型, , , 
.全局变量 云移动1, 整数型, , , 

.窗口程序集 主程序集, , , 

.程序集变量 角色, 精灵, , , 
.程序集变量 盔甲, 盔甲, , , 
.程序集变量 头饰, 头饰, , , 
.程序集变量 武器, 武器, , , 
.程序集变量 怪物, 怪物, , , 
.程序集变量 背景, 背景, , , 
.程序集变量 计次, 整数型, , , 
.程序集变量 拿武器, 逻辑型, , , 
.程序集变量 拿盔甲, 整数型, , , 
.程序集变量 拿帽子, 整数型, , , 
.程序集变量 sj, 整数型, , , 
.程序集变量 ac, 整数型, , , 
.程序集变量 cc, 整数型, , , 
.程序集变量 移动变量, 整数型, , , 
.程序集变量 bc, 整数型, , , 
.程序集变量 怪物偏移, 整数型, , , 
.程序集变量 a, 整数型, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 
赋值 (_启动窗口., 真)
写屏幕 (取窗口句柄 (), 相加 (_启动窗口., 20), 相减 (_启动窗口., 160), “Loading......”, “楷体”, 12, #白色, 真, )
赋值 (运行目录, 取运行目录 ())
赋值 (游戏配置文件, 相加 (运行目录, “\ini\Game.ini”))
赋值 (地图配置文件, 相加 (运行目录, “\ini\MapConfig.ini”))
赋值 (角色配置文件, 相加 (运行目录, “\ini\HumConfig.ini”))
赋值 (怪物配置文件, 相加 (运行目录, “\ini\MonConfig.ini”))
赋值 (换装配置文件, 相加 (运行目录, “\ini\AvatarConfig.ini”))
.如果 (并且 (文件是否存在 (游戏配置文件), 文件是否存在 (地图配置文件), 文件是否存在 (角色配置文件), 文件是否存在 (怪物配置文件), 文件是否存在 (换装配置文件)))
    写屏幕 (取窗口句柄 (), 相加 (_启动窗口., 20), 相减 (_启动窗口., 148), “配置文件验证成功.载入中...”, “楷体”, 12, #白色, 真, )
    赋值 (游戏进展, 1)
.否则
    信息框 (相加 (“系统提示:”, #换行符, “配置文件丢失或损坏,请重新安装!”), 相加 (0, #信息图标), “文件丢失”)
    写屏幕 (取窗口句柄 (), 相加 (_启动窗口., 20), 相减 (_启动窗口., 148), “无法找到配置文件.请按<ESC>退出..”, “楷体”, 12, #白色, 真, )
    返回 ()
.如果结束
赋值 (游戏地图, 读配置项 (游戏配置文件, “Game”, “MAP”, ))
赋值 (游戏角色, 读配置项 (游戏配置文件, “Game”, “HUM”, ))
赋值 (游戏怪物, 读配置项 (游戏配置文件, “Game”, “MON”, ))
赋值 (游戏武器, 读配置项 (游戏配置文件, “Game”, “WQ”, ))
赋值 (游戏盔甲, 读配置项 (游戏配置文件, “Game”, “KJ”, ))
赋值 (游戏头饰, 读配置项 (游戏配置文件, “Game”, “TS”, ))
初始化地图背景音乐 (游戏地图)
.如果真 (大于或等于 (游戏进展, 2)) ' (初始化地图配置成功)
    写屏幕 (取窗口句柄 (), 相加 (_启动窗口., 20), 相减 (_启动窗口., 136), “地图环境模块初始化完成...”, “楷体”, 12, #白色, 真, )
    系统屏幕.未知支持库函数_64 (取窗口句柄 (), 800, 600)
    .如果真 (等于 (dx声音.未知支持库函数_213 (_启动窗口.取窗口句柄 (), 假), 假))
        信息框 (“DirectX声音初始化失败!”, #错误图标, “出错”)
    .如果真结束
    写屏幕 (取窗口句柄 (), 相加 (_启动窗口., 20), 相减 (_启动窗口., 124), “初始化游戏声音模块中......”, “楷体”, 12, #白色, 真, )
    初始化角色声效 (游戏角色)
    .如果真 (大于或等于 (游戏进展, 3)) ' (初始化角色声音成功)
        初始化武器声效 (游戏武器)
        .如果真 (大于或等于 (游戏进展, 4)) ' (初始化武器声效成功)
            初始化怪物声音 (游戏怪物)
            .如果真 (大于或等于 (游戏进展, 5)) ' (初始化怪物声效成功)
                写屏幕 (取窗口句柄 (), 相加 (_启动窗口., 20), 相减 (_启动窗口., 112), “声音模块初始化成功......”, “楷体”, 12, #白色, 真, )
                赋值 (音量, -500)
                背景.初始背景 (游戏地图)
                主页面.未知支持库函数_156 (#黑色)
                赋值 (底图页面, 系统屏幕.未知支持库函数_83 ())
                _启动窗口.取窗口句柄 ().未知支持库函数_14 ()
                10.未知支持库函数_38 ()
                角色.置图片 (游戏角色)
                怪物.置图片 (游戏怪物)
                赋值 (状态, “右”)
                赋值 (攻击, “假”)
                赋值 (人物血量, 100)
                赋值 (怪物血量, 100)
                赋值 (怪物偏移, 50)
                赋值 (拿武器, 假)
                赋值 (拿盔甲, 0)
                赋值 (拿帽子, 0)
                赋值 (.时钟周期, 120)
                
            .如果真结束
            
            
        .如果真结束
        
    .如果真结束
    
.如果真结束


.子程序 _时钟1_周期事件, 空白型, , 
判断状态 ()
主页面.未知支持库函数_132 (底图页面, 0, 0, )
背景.显示背景 ()
角色.当前状态 ()
怪物.当前状态 ()
盔甲.当前状态 ()
头饰.当前状态 ()
武器.当前状态 ()
怪物.判断怪物死亡 ()
.判断开始 (等于 (状态, “右”))
    赋值 (计次, 相加 (计次, 1))
    赋值 (cout, 计次)
    .如果 (大于 (计次, 3))
        赋值 (计次, 0)
    .否则
        
    .如果结束
    页面遮挡 ()
    
.判断 (等于 (状态, “左”))
    赋值 (计次, 相加 (计次, 1))
    赋值 (cout, 相加 (计次, 4))
    .如果 (大于 (计次, 3))
        赋值 (计次, 0)
    .否则
        
    .如果结束
    页面遮挡 ()
    
.判断 (等于 (状态, “右走”))
    赋值 (计次, 相加 (计次, 1))
    赋值 (cout, 相加 (计次, 8))
    .如果 (大于 (计次, 3))
        赋值 (计次, 0)
    .否则
        
    .如果结束
    页面遮挡 ()
    
.判断 (等于 (状态, “左走”))
    赋值 (计次, 相加 (计次, 1))
    赋值 (cout, 相加 (计次, 12))
    .如果 (大于 (计次, 3))
        赋值 (计次, 0)
    .否则
        
    .如果结束
    页面遮挡 ()
    
.判断 (等于 (状态, “右攻击”))
    赋值 (计次, 相加 (计次, 1))
    赋值 (cout, 相加 (计次, 16))
    .如果 (大于 (计次, 3))
        赋值 (计次, 0)
    .否则
        
    .如果结束
    页面遮挡 ()
.判断 (等于 (状态, “左攻击”))
    赋值 (计次, 相加 (计次, 1))
    赋值 (cout, 相加 (计次, 20))
    .如果 (大于 (计次, 3))
        赋值 (计次, 0)
    .否则
        
    .如果结束
    页面遮挡 ()
.默认
    
.判断结束


角色.精灵移动 ()
盔甲.盔甲移动 ()
头饰.头饰移动 ()
武器.武器移动 ()
怪物.初始怪物 ()
判断碰撞 ()
系统屏幕.未知支持库函数_69 (假, 真, 假)



.子程序 页面遮挡, 空白型, , 
.判断开始 (或者 (等于 (状态, “右”), 等于 (状态, “左”), 等于 (状态, “左走”), 等于 (状态, “右走”), 等于 (状态, “左攻击”), 等于 (状态, “右攻击”)))
    角色.显示精灵 ()
.默认
    
.判断结束

.如果真 (等于 (拿武器, 真))
    .判断开始 (或者 (等于 (状态, “右”), 等于 (状态, “右走”), 等于 (状态, “右攻击”)))
        角色.显示精灵 ()
        武器.显示武器 ()
    .判断 (或者 (等于 (状态, “左”), 等于 (状态, “左走”), 等于 (状态, “左攻击”)))
        武器.显示武器 ()
        角色.显示精灵 ()
    .默认
        
    .判断结束
    
.如果真结束
.如果真 (等于 (拿盔甲, 1))
    .判断开始 (或者 (等于 (状态, “右”), 等于 (状态, “右走”), 等于 (状态, “右攻击”), 等于 (状态, “左”), 等于 (状态, “左走”), 等于 (状态, “左攻击”)))
        角色.显示精灵 ()
        盔甲.显示盔甲 ()
    .默认
        
        
    .判断结束
    
.如果真结束
.如果真 (等于 (拿帽子, 1))
    .判断开始 (或者 (等于 (状态, “右”), 等于 (状态, “右走”), 等于 (状态, “右攻击”), 等于 (状态, “左”), 等于 (状态, “左走”), 等于 (状态, “左攻击”)))
        角色.显示精灵 ()
        头饰.显示头饰 ()
    .默认
        
        
    .判断结束
    
.如果真结束
.如果真 (并且 (等于 (拿武器, 真), 等于 (拿盔甲, 1)))
    .判断开始 (或者 (等于 (状态, “右”), 等于 (状态, “右走”), 等于 (状态, “右攻击”)))
        角色.显示精灵 ()
        盔甲.显示盔甲 ()
        武器.显示武器 ()
    .判断 (或者 (等于 (状态, “左”), 等于 (状态, “左走”), 等于 (状态, “左攻击”)))
        武器.显示武器 ()
        角色.显示精灵 ()
        盔甲.显示盔甲 ()
        
    .默认
        
    .判断结束
    
.如果真结束
.如果真 (并且 (等于 (拿盔甲, 1), 等于 (拿帽子, 1)))
    .判断开始 (或者 (等于 (状态, “右”), 等于 (状态, “右走”), 等于 (状态, “右攻击”)))
        角色.显示精灵 ()
        头饰.显示头饰 ()
        盔甲.显示盔甲 ()
        
    .判断 (或者 (等于 (状态, “左”), 等于 (状态, “左走”), 等于 (状态, “左攻击”)))
        角色.显示精灵 ()
        头饰.显示头饰 ()
        盔甲.显示盔甲 ()
    .默认
        
    .判断结束
    
.如果真结束
.如果真 (并且 (等于 (拿盔甲, 1), 等于 (拿帽子, 1), 等于 (拿武器, 真)))
    .判断开始 (或者 (等于 (状态, “右”), 等于 (状态, “右走”), 等于 (状态, “右攻击”)))
        角色.显示精灵 ()
        头饰.显示头饰 ()
        盔甲.显示盔甲 ()
        武器.显示武器 ()
        
    .判断 (或者 (等于 (状态, “左”), 等于 (状态, “左走”), 等于 (状态, “左攻击”)))
        武器.显示武器 ()
        角色.显示精灵 ()
        头饰.显示头饰 ()
        盔甲.显示盔甲 ()
    .默认
        
    .判断结束
    
.如果真结束



.子程序 __启动窗口_被激活, 空白型, , 
真.未知支持库函数_35 (真, 假)


.子程序 判断状态, 空白型, , 
.局部变量 左键状态, 整数型, , , 0表示无状态，1表示此键被放开, 2表示此键被第一次被按下, 3表示此键一直按着
.局部变量 右键状态, 整数型, , , 
.局部变量 攻击状态, 整数型, , , 
.局部变量 拿武器状态, 整数型, , , 
.局部变量 拿盔甲状态, 整数型, , , 
.局部变量 拿帽子状态, 整数型, , , 

赋值 (左键状态, #..未知支持库函数_46 ())
赋值 (右键状态, #..未知支持库函数_46 ())
赋值 (攻击状态, #..未知支持库函数_46 ())
赋值 (拿武器状态, #..未知支持库函数_46 ())
赋值 (拿盔甲状态, #..未知支持库函数_46 ())
赋值 (拿帽子状态, #..未知支持库函数_46 ())
赋值 (.时钟周期, 100)
.如果真 (并且 (等于 (左键状态, 3), 等于 (攻击, “假”), 等于 (攻击状态, 0)))
    赋值 (状态, “左走”)
    赋值 (方向, “左”)
    赋值 (攻击, “假”)
.如果真结束
.如果真 (并且 (等于 (左键状态, 0), 等于 (方向, “左”), 等于 (攻击状态, 0)))
    赋值 (状态, “左”)
    赋值 (方向, “左”)
    赋值 (攻击, “假”)
.如果真结束
.如果真 (并且 (等于 (右键状态, 3), 等于 (攻击状态, 0)))
    赋值 (状态, “右走”)
    赋值 (方向, “右”)
    赋值 (攻击, “假”)
.如果真结束
.如果真 (并且 (等于 (右键状态, 0), 等于 (方向, “右”), 等于 (攻击状态, 0)))
    赋值 (状态, “右”)
    赋值 (方向, “右”)
    赋值 (攻击, “假”)
.如果真结束
.如果真 (并且 (等于 (攻击状态, 3), 等于 (方向, “左”)))
    赋值 (状态, “左攻击”)
    赋值 (方向, “左”)
    赋值 (攻击, “真”)
    
.如果真结束
.如果真 (并且 (等于 (攻击状态, 3), 等于 (方向, “右”)))
    赋值 (状态, “右攻击”)
    赋值 (方向, “右”)
    赋值 (攻击, “真”)
    
    
.如果真结束
.如果真 (或者 (等于 (拿武器状态, 3), 等于 (拿武器状态, 2)))
    武器.置图片 (游戏武器)
    .如果 (等于 (拿武器, 假))
        赋值 (拿武器, 真)
    .否则
        赋值 (拿武器, 假)
    .如果结束
    
.如果真结束
.如果真 (或者 (等于 (拿帽子状态, 3), 等于 (拿帽子状态, 2)))
    头饰.置图片 (游戏头饰)
    .如果 (等于 (拿帽子, 0))
        赋值 (拿帽子, 1)
    .否则
        赋值 (拿帽子, 0)
    .如果结束
    
.如果真结束
.如果真 (或者 (等于 (拿盔甲状态, 3), 等于 (拿盔甲状态, 2)))
    盔甲.置图片 (游戏盔甲)
    .如果 (等于 (拿盔甲, 0))
        赋值 (拿盔甲, 1)
    .否则
        赋值 (拿盔甲, 0)
    .如果结束
    
.如果真结束


.子程序 _时钟2_周期事件, 空白型, , 
赋值 (云移动, 相减 (云移动, 2))
赋值 (云移动1, 相减 (云移动1, 1))
.如果真 (小于 (云移动, -370))
    赋值 (云移动, 800)
.如果真结束
.如果真 (小于 (云移动1, -370))
    赋值 (云移动1, 800)
.如果真结束



怪物.怪物随机动 ()
怪物.判断怪物被击中 ()
.如果真 (等于 (状态, “右走”))
    
    .如果真 (等于 (走路.未知支持库函数_241 (), 假))
        走路.未知支持库函数_231 (0)
    .如果真结束
    
.如果真结束
.如果真 (等于 (状态, “左走”))
    .如果真 (等于 (走路.未知支持库函数_241 (), 假))
        走路.未知支持库函数_231 (0)
    .如果真结束
    
.如果真结束
.如果真 (或者 (等于 (状态, “右攻击”), 等于 (状态, “左攻击”)))
    .如果 (等于 (拿武器, 真))
        置随机数种子 ()
        赋值 (a, 取随机数 (1, 100))
        .如果 (等于 (求余数 (a, 2), 0))
            武器攻击1.未知支持库函数_235 (音量)
            武器攻击1.未知支持库函数_231 ()
            
        .否则
            武器攻击2.未知支持库函数_235 (音量)
            武器攻击2.未知支持库函数_231 ()
            
        .如果结束
        
    .否则
        空手攻击.未知支持库函数_235 (音量)
        空手攻击.未知支持库函数_231 ()
        
    .如果结束
    
.如果真结束


.子程序 判断碰撞, 空白型, , 
.局部变量 怪物掉血, 整数型, , , 
.局部变量 个位, 整数型, , , 
.局部变量 十位, 整数型, , , 

置随机数种子 ()
.判断开始 (大于或等于 (怪物血量, 1))
    .如果真 (并且 (大于或等于 (相加 (精灵x, 63), 相加 (怪物x, 200, 怪物偏移)), 小于 (相加 (精灵x, 63), 相加 (怪物x, 200, 158))))
        .如果 (或者 (等于 (状态, “右走”), 等于 (状态, “右”)))
            .如果 (大于 (人物血量, 0))
                角色被攻击.未知支持库函数_231 ()
                赋值 (人物血量, 相减 (人物血量, 2))
                赋值 (.宽度, 人物血量)
                赋值 (.内容, 相加 (到文本 (人物血量), “/100”))
                写屏 (“Sprite/Common/m2.bmp”, 精灵x, 420)
            .否则
                赋值 (人物血量, 0)
            .如果结束
            赋值 (武器x, 相减 (武器x, 20))
            赋值 (头饰x, 相减 (头饰x, 20))
            赋值 (盔甲x, 相减 (盔甲x, 20))
            赋值 (精灵x, 相减 (精灵x, 20))
            
        .否则
            .如果 (或者 (等于 (状态, “左走”), 等于 (状态, “左”)))
                .如果 (大于 (人物血量, 0))
                    角色被攻击.未知支持库函数_231 ()
                    赋值 (人物血量, 相减 (人物血量, 2))
                    赋值 (.宽度, 人物血量)
                    赋值 (.内容, 相加 (到文本 (人物血量), “/100”))
                    写屏 (“Sprite/Common/m2.bmp”, 精灵x, 420)
                    
                .否则
                    赋值 (人物血量, 0)
                .如果结束
                赋值 (武器x, 相加 (武器x, 20))
                赋值 (头饰x, 相加 (头饰x, 20))
                赋值 (盔甲x, 相加 (盔甲x, 20))
                赋值 (精灵x, 相加 (精灵x, 20))
                
            .否则
                
            .如果结束
            
        .如果结束
        
    .如果真结束
    .如果 (等于 (状态, “左攻击”))
        赋值 (怪物受攻击方向, 1)
        赋值 (怪物方向, 0)
        .如果真 (并且 (大于或等于 (相加 (精灵x, 63), 相加 (怪物x, 200)), 小于 (精灵x, 相加 (怪物x, 200, 158))))
            .判断开始 (等于 (拿武器, 假))
                赋值 (怪物被击中, 假)
                赋值 (怪物血量, 相减 (怪物血量, 0))
                写屏 (“Sprite/Common/z0.bmp”, 相加 (怪物x, 220), 450)
                空手击中.未知支持库函数_235 (音量)
                空手击中.未知支持库函数_231 ()
                
            .默认
                赋值 (怪物被击中, 真)
                赋值 (怪物掉血, 取随机数 (1, 5))
                赋值 (怪物血量, 相减 (怪物血量, 怪物掉血))
                .如果 (大于或等于 (相除 (怪物掉血, 10), 1))
                    写屏 (相加 (“Sprite/Common/”, 到文本 (相除 (相减 (怪物掉血, 求余数 (怪物掉血, 10)), 10)), “.bmp”), 相加 (怪物x, 260), 450)
                    写屏 (相加 (“Sprite/Common/”, 到文本 (相减 (怪物掉血, 相减 (怪物掉血, 求余数 (怪物掉血, 10)))), “.bmp”), 相加 (怪物x, 280), 450)
                .否则
                    写屏 (相加 (“Sprite/Common/”, 到文本 (怪物掉血), “.bmp”), 相加 (怪物x, 260), 450)
                .如果结束
                怪物被击中声音.未知支持库函数_235 (音量)
                怪物被击中声音.未知支持库函数_231 ()
                
            .判断结束
            
        .如果真结束
        
    .否则
        .如果 (等于 (状态, “右攻击”))
            赋值 (怪物受攻击方向, 0)
            赋值 (怪物方向, 1)
            .如果真 (并且 (大于或等于 (相加 (精灵x, 63), 相加 (怪物x, 200)), 小于 (精灵x, 相加 (怪物x, 200, 158))))
                .判断开始 (等于 (拿武器, 假))
                    赋值 (怪物被击中, 假)
                    赋值 (怪物血量, 相减 (怪物血量, 0))
                    写屏 (“Sprite/Common/z0.bmp”, 相加 (怪物x, 220), 450)
                    空手击中.未知支持库函数_235 (音量)
                    空手击中.未知支持库函数_231 ()
                    
                .默认
                    赋值 (怪物被击中, 真)
                    赋值 (怪物掉血, 取随机数 (1, 5))
                    赋值 (怪物血量, 相减 (怪物血量, 怪物掉血))
                    .如果 (大于或等于 (相除 (怪物掉血, 10), 1))
                        写屏 (相加 (“Sprite/Common/”, 到文本 (相除 (相减 (怪物掉血, 求余数 (怪物掉血, 10)), 10)), “.bmp”), 相加 (怪物x, 260), 450)
                        写屏 (相加 (“Sprite/Common/”, 到文本 (相减 (怪物掉血, 相减 (怪物掉血, 求余数 (怪物掉血, 10)))), “.bmp”), 相加 (怪物x, 280), 450)
                    .否则
                        写屏 (相加 (“Sprite/Common/”, 到文本 (怪物掉血), “.bmp”), 相加 (怪物x, 260), 450)
                    .如果结束
                    怪物被击中声音.未知支持库函数_235 (音量)
                    怪物被击中声音.未知支持库函数_231 ()
                    
                    
                .判断结束
                
            .如果真结束
            
        .否则
            
        .如果结束
        
    .如果结束
    
    
.默认
    
.判断结束


.子程序 写屏, 空白型, , 
.参数 文件, 文本型, , 
.参数 x, 整数型, , 
.参数 y, 整数型, , 

.局部变量 kk, 整数型, , , 

文字页面.未知支持库函数_111 (系统屏幕, 文件, )
文字页面.未知支持库函数_156 (取颜色值 (0, 0, 0))
文字页面.未知支持库函数_134 (底图页面, x, y, )




.子程序 _背景时钟_周期事件, 空白型, , 
.如果真 (等于 (状态, “右走”))
    调试输出 (精灵x)
    .如果 (大于或等于 (精灵x, 700))
        
    .否则
        赋值 (背景2移动, 相减 (背景2移动, 1))
        赋值 (云移动, 相减 (云移动, 1))
        
    .如果结束
    
.如果真结束
.如果真 (等于 (状态, “左走”))
    .如果 (小于或等于 (精灵x, 10))
        
    .否则
        赋值 (背景2移动, 相加 (背景2移动, 1))
        赋值 (云移动, 相减 (云移动, 1))
        
    .如果结束
    
.如果真结束
.如果真 (或者 (等于 (状态, “左攻击”), 等于 (状态, “左”), 等于 (状态, “右”), 等于 (状态, “右攻击”)))
    赋值 (.时钟周期, 0)
.如果真结束



.子程序 初始化地图背景音乐, 空白型, , 
.参数 地图名, 文本型, , 

赋值 (当前地图背景音乐, 读配置项 (地图配置文件, 地图名, “背景音乐”, ))
.如果 (等于 (当前地图背景音乐, “”))
    信息框 (“初始化地图背景音乐失败!!”, 相加 (0, #信息图标), “其他错误”)
    销毁 ()
.否则
    midi.未知支持库函数_196 (当前地图背景音乐)
    dx声音.未知支持库函数_217 (真)
    赋值 (游戏进展, 2)
.如果结束



.子程序 初始化角色声效, 空白型, , 
.参数 角色名, 文本型, , 

.局部变量 当前走路声音, 文本型, , , 
.局部变量 当前空手攻击, 文本型, , , 
.局部变量 当前空手击中, 文本型, , , 
.局部变量 当前受伤声音, 文本型, , , 

赋值 (当前走路声音, 读配置项 (角色配置文件, 角色名, “走路”, ))
赋值 (当前空手攻击, 读配置项 (角色配置文件, 角色名, “空手攻击”, ))
赋值 (当前空手击中, 读配置项 (角色配置文件, 角色名, “空手击中”, ))
赋值 (当前受伤声音, 读配置项 (角色配置文件, 角色名, “受伤叫声”, ))
.如果 (或者 (等于 (当前走路声音, “”), 等于 (当前空手攻击, “”), 等于 (当前空手击中, “”), 等于 (当前受伤声音, “”)))
    信息框 (“初始化角色声效失败!!”, 相加 (0, #信息图标), “其他错误”)
    销毁 ()
.否则
    走路.未知支持库函数_230 (dx声音, 当前走路声音, 1)
    走路.未知支持库函数_235 (100)
    空手攻击.未知支持库函数_230 (dx声音, 当前空手攻击, 1)
    空手击中.未知支持库函数_230 (dx声音, 当前空手击中, 1)
    角色被攻击.未知支持库函数_230 (dx声音, 当前受伤声音, 1)
    赋值 (游戏进展, 3)
.如果结束



.子程序 初始化武器声效, 空白型, , 
.参数 武器名, 文本型, , 

.局部变量 当前攻击未击中1, 文本型, , , 
.局部变量 当前攻击未击中2, 文本型, , , 

赋值 (当前攻击未击中1, 读配置项 (换装配置文件, 武器名, “攻击未击中声音1”, ))
赋值 (当前攻击未击中2, 读配置项 (换装配置文件, 武器名, “攻击未击中声音2”, ))
.如果 (或者 (等于 (当前攻击未击中1, “”), 等于 (当前攻击未击中2, “”)))
    信息框 (“初始化角色武器失败!!”, 相加 (0, #信息图标), “其他错误”)
    销毁 ()
.否则
    武器攻击1.未知支持库函数_230 (dx声音, 当前攻击未击中1, 1)
    武器攻击2.未知支持库函数_230 (dx声音, 当前攻击未击中2, 1)
    赋值 (游戏进展, 4)
.如果结束


.子程序 初始化怪物声音, 空白型, , 
.参数 怪物名, 文本型, , 

.局部变量 当前怪物被击中声音, 文本型, , , 

赋值 (当前怪物被击中声音, 读配置项 (怪物配置文件, 怪物名, “被击中声音”, ))
.如果 (等于 (当前怪物被击中声音, “”))
    信息框 (“初始化怪物声效失败!!”, 相加 (0, #信息图标), “其他错误”)
    销毁 ()
.否则
    怪物被击中声音.未知支持库函数_230 (dx声音, 当前怪物被击中声音, 1)
    赋值 (游戏进展, 5)
.如果结束


.类模块 精灵, , , 

.程序集变量 精灵页面, 未知类型0x2000B, , , 
.程序集变量 矩形区域, 未知类型0x2000D, , "3,8", 
.程序集变量 矩阵, 未知类型0x2000D, , "3,8", 
.程序集变量 当前精灵x, 整数型, , , 
.程序集变量 当前精灵y, 整数型, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 置图片, 空白型, 公开, 
.参数 精灵类型, 文本型, , 

.局部变量 当前角色精灵页面, 文本型, , , 

赋值 (当前角色精灵页面, 读配置项 (角色配置文件, 精灵类型, “精灵动画”, ))
精灵页面.未知支持库函数_111 (系统屏幕, 当前角色精灵页面, )
赋值 (当前精灵x, 到数值 (读配置项 (角色配置文件, 精灵类型, “x”, )))
赋值 (当前精灵y, 到数值 (读配置项 (角色配置文件, 精灵类型, “y”, )))


.子程序 当前状态, 空白型, 公开, 
.局部变量 i, 空白型, , "2", 

.计次循环首 (取数组下标 (矩阵, 1), i [1])
    .计次循环首 (取数组下标 (矩阵, 2), i [2])
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [2], 1), 精灵页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [1], 1), 精灵页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [2], 精灵页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [1], 精灵页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
    .计次循环尾 ()
.计次循环尾 ()


.子程序 显示精灵, 空白型, 公开, 
精灵页面.未知支持库函数_156 (取颜色值 (0, 0, 0))
精灵页面.未知支持库函数_134 (底图页面, 精灵x, 425, 矩阵 [cout])


.子程序 精灵移动, 空白型, 公开, 
.如果真 (等于 (状态, “右走”))
    赋值 (精灵x, 相加 (精灵x, 10))
    .如果 (大于或等于 (相加 (精灵x, 当前精灵x), 800))
        赋值 (武器x, 相减 (武器x, 10))
        赋值 (头饰x, 相减 (头饰x, 10))
        赋值 (盔甲x, 相减 (盔甲x, 10))
        赋值 (精灵x, 相减 (精灵x, 10))
    .否则
        
    .如果结束
    
.如果真结束
.如果真 (等于 (状态, “左走”))
    赋值 (精灵x, 相减 (精灵x, 10))
    .如果 (小于或等于 (精灵x, 0))
        赋值 (武器x, 相加 (武器x, 10))
        赋值 (头饰x, 相加 (头饰x, 10))
        赋值 (盔甲x, 相加 (盔甲x, 10))
        赋值 (精灵x, 相加 (精灵x, 10))
        
    .否则
        
    .如果结束
    
.如果真结束



.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.类模块 盔甲, , , 

.程序集变量 盔甲页面, 未知类型0x2000B, , , 
.程序集变量 矩形区域, 未知类型0x2000D, , "3,8", 
.程序集变量 矩阵, 未知类型0x2000D, , "3,8", 
.程序集变量 当前盔甲x, 整数型, , , 
.程序集变量 当前盔甲y, 整数型, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 置图片, 空白型, 公开, 
.参数 盔甲名, 文本型, , 

.局部变量 当前盔甲, 文本型, , , 

赋值 (当前盔甲, 读配置项 (换装配置文件, 盔甲名, “盔甲动画”, ))
盔甲页面.未知支持库函数_111 (系统屏幕, 当前盔甲, )
赋值 (当前盔甲x, 到数值 (读配置项 (换装配置文件, 盔甲名, “x”, )))
赋值 (当前盔甲y, 到数值 (读配置项 (换装配置文件, 盔甲名, “y”, )))


.子程序 当前状态, 空白型, 公开, 
.局部变量 i, 空白型, , "2", 

.计次循环首 (取数组下标 (矩阵, 1), i [1])
    .计次循环首 (取数组下标 (矩阵, 2), i [2])
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [2], 1), 盔甲页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [1], 1), 盔甲页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [2], 盔甲页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [1], 盔甲页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
    .计次循环尾 ()
.计次循环尾 ()


.子程序 显示盔甲, 空白型, 公开, 
盔甲页面.未知支持库函数_156 (取颜色值 (0, 0, 0))
盔甲页面.未知支持库函数_134 (底图页面, 相减 (盔甲x, 11), 445, 矩阵 [cout])


.子程序 盔甲移动, 空白型, 公开, 
.如果真 (等于 (状态, “右走”))
    赋值 (盔甲x, 相加 (盔甲x, 10))
    
.如果真结束
.如果真 (等于 (状态, “左走”))
    赋值 (盔甲x, 相减 (盔甲x, 10))
    
    
    
    
.如果真结束


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.类模块 头饰, , , 

.程序集变量 头饰页面, 未知类型0x2000B, , , 
.程序集变量 矩形区域, 未知类型0x2000D, , "3,8", 
.程序集变量 矩阵, 未知类型0x2000D, , "3,8", 
.程序集变量 当前头饰x, 整数型, , , 
.程序集变量 当前头饰y, 整数型, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 置图片, 空白型, 公开, 
.参数 头饰名, 文本型, , 

.局部变量 当前头饰, 文本型, , , 

赋值 (当前头饰, 读配置项 (换装配置文件, 头饰名, “头饰动画”, ))
头饰页面.未知支持库函数_111 (系统屏幕, 当前头饰, )
赋值 (当前头饰x, 到数值 (读配置项 (换装配置文件, 头饰名, “x”, )))
赋值 (当前头饰y, 到数值 (读配置项 (换装配置文件, 头饰名, “y”, )))



.子程序 当前状态, 空白型, 公开, 
.局部变量 i, 空白型, , "2", 

.计次循环首 (取数组下标 (矩阵, 1), i [1])
    .计次循环首 (取数组下标 (矩阵, 2), i [2])
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [2], 1), 头饰页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [1], 1), 头饰页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [2], 头饰页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [1], 头饰页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
    .计次循环尾 ()
.计次循环尾 ()


.子程序 显示头饰, 空白型, 公开, 
头饰页面.未知支持库函数_156 (取颜色值 (0, 0, 0))
头饰页面.未知支持库函数_134 (底图页面, 相加 (头饰x, 2), 418, 矩阵 [cout])


.子程序 头饰移动, 空白型, 公开, 
.如果真 (等于 (状态, “右走”))
    赋值 (头饰x, 相加 (头饰x, 10))
    
.如果真结束
.如果真 (等于 (状态, “左走”))
    赋值 (头饰x, 相减 (头饰x, 10))
.如果真结束


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.类模块 武器, , , 

.程序集变量 武器页面, 未知类型0x2000B, , , 
.程序集变量 矩形区域, 未知类型0x2000D, , "3,8", 
.程序集变量 矩阵, 未知类型0x2000D, , "3,8", 
.程序集变量 当前武器x, 整数型, , , 
.程序集变量 当前武器y, 整数型, , , 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 置图片, 空白型, 公开, 
.参数 武器名, 文本型, , 

.局部变量 当前武器, 文本型, , , 

赋值 (当前武器, 读配置项 (换装配置文件, 武器名, “武器动画”, ))
武器页面.未知支持库函数_111 (系统屏幕, 当前武器, )
赋值 (当前武器x, 到数值 (读配置项 (换装配置文件, 武器名, “x”, )))
赋值 (当前武器y, 到数值 (读配置项 (换装配置文件, 武器名, “y”, )))



.子程序 当前状态, 空白型, 公开, 
.局部变量 i, 空白型, , "2", 

.计次循环首 (取数组下标 (矩阵, 1), i [1])
    .计次循环首 (取数组下标 (矩阵, 2), i [2])
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [2], 1), 武器页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [1], 1), 武器页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [2], 武器页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [1], 武器页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
    .计次循环尾 ()
.计次循环尾 ()


.子程序 显示武器, 空白型, 公开, 
武器页面.未知支持库函数_156 (取颜色值 (0, 0, 0))
武器页面.未知支持库函数_134 (底图页面, 相减 (武器x, 70), 418, 矩阵 [cout])


.子程序 武器移动, 空白型, 公开, 
.如果真 (等于 (状态, “右走”))
    赋值 (武器x, 相加 (武器x, 10))
    
.如果真结束
.如果真 (等于 (状态, “左走”))
    赋值 (武器x, 相减 (武器x, 10))
.如果真结束


.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.类模块 怪物, , , 

.程序集变量 怪物页面, 未知类型0x2000B, , , 
.程序集变量 矩形区域, 未知类型0x2000D, , "3,10", 
.程序集变量 计次1, 整数型, , , 
.程序集变量 rand, 整数型, , , 
.程序集变量 矩阵, 未知类型0x2000D, , "3,10", 
.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 置图片, 空白型, 公开, 
.参数 怪物名, 文本型, , 

.局部变量 当前怪物精灵页面, 文本型, , , 

赋值 (当前怪物精灵页面, 读配置项 (怪物配置文件, 怪物名, “精灵动画”, ))
怪物页面.未知支持库函数_111 (系统屏幕, 当前怪物精灵页面, )


.子程序 当前状态, 空白型, 公开, 
.局部变量 i, 空白型, , "2", 

.计次循环首 (取数组下标 (矩阵, 1), i [1])
    .计次循环首 (取数组下标 (矩阵, 2), i [2])
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [2], 1), 怪物页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (相减 (i [1], 1), 怪物页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [2], 怪物页面.未知支持库函数_168 ()), 取数组下标 (矩阵, 2)))
        赋值 (矩阵 [i] [1] [i] [2], , 相除 (相乘 (i [1], 怪物页面.未知支持库函数_169 ()), 取数组下标 (矩阵, 1)))
    .计次循环尾 ()
.计次循环尾 ()


.子程序 初始怪物, 空白型, 公开, 
怪物页面.未知支持库函数_156 (取颜色值 (0, 0, 0))
.如果 (等于 (怪物已死, 真))
    .如果 (等于 (怪物方向, 0))
        怪物页面.未知支持库函数_134 (底图页面, 相加 (200, 怪物x), 470, 矩阵 [27])
    .否则
        怪物页面.未知支持库函数_134 (底图页面, 相加 (200, 怪物x), 470, 矩阵 [30])
    .如果结束
    
    赋值 (怪物刷新时间, 相加 (怪物刷新时间, 1))
    .如果真 (大于或等于 (怪物刷新时间, 20))
        赋值 (怪物已死, 假)
        赋值 (怪物血量, 100)
        赋值 (怪物刷新时间, 0)
    .如果真结束
    
.否则
    怪物页面.未知支持库函数_134 (底图页面, 相加 (200, 怪物x), 450, 矩阵 [cout1])
.如果结束



.子程序 怪物随机动, 空白型, 公开, 
.如果 (等于 (怪物方向, 0))
    赋值 (计次1, 相加 (计次1, 1))
    赋值 (cout1, 计次1)
    .如果 (大于 (计次1, 2))
        赋值 (计次1, 0)
    .否则
        
    .如果结束
    
.否则
    .如果 (等于 (怪物方向, 1))
        赋值 (计次1, 相加 (计次1, 1))
        赋值 (cout1, 相加 (计次1, 3))
        .如果 (大于 (计次1, 2))
            赋值 (计次1, 0)
        .否则
            
        .如果结束
        
    .否则
        
    .如果结束
    
.如果结束

.如果真 (等于 (怪物已死, 假))
    赋值 (rand, 相加 (rand, 1))
    .如果 (等于 (求余数 (rand, 3), 0))
        置随机数种子 ()
        赋值 (rand, 取随机数 (1, 4))
        .如果 (等于 (求余数 (rand, 2), 0))
            赋值 (计次1, 相加 (计次1, 1))
            赋值 (cout1, 相加 (计次1, 6))
            .如果 (大于 (计次1, 2))
                赋值 (计次1, 0)
                赋值 (怪物方向, 0)
            .否则
                
            .如果结束
            赋值 (怪物x, 相加 (怪物x, 25))
            
            
        .否则
            赋值 (计次1, 相加 (计次1, 1))
            赋值 (cout1, 相加 (计次1, 9))
            .如果 (大于 (计次1, 2))
                赋值 (计次1, 0)
                赋值 (怪物方向, 1)
            .否则
                
            .如果结束
            赋值 (怪物x, 相减 (怪物x, 25))
            
            
        .如果结束
        赋值 (rand, 0)
        .如果 (小于或等于 (相加 (怪物x, 200), 0))
            赋值 (怪物x, 400)
        .否则
            .如果 (大于或等于 (相加 (怪物x, 200), 800))
                赋值 (怪物x, -200)
            .否则
                
            .如果结束
            
        .如果结束
        
    .否则
        
    .如果结束
    
.如果真结束



 ' .判断开始 (并且 (大于 (rand, 40), 小于 (rand, 80)))
     ' 计次1 ＝ 计次1 ＋ 1
     ' cout1 ＝ 计次1 ＋ 9
     ' .如果 (大于 (计次1, 2))
         ' 计次1 ＝ 0
    .否则
        
    .如果结束
     ' 怪物x ＝ 怪物x － 15
.默认
    
.判断结束



 ' .如果 (小于或等于 (怪物x, 0))
     ' 怪物x ＝ 怪物x ＋ 15
.否则
     ' 怪物x ＝ 怪物x － 15
.如果结束





.子程序 判断怪物被击中, 空白型, 公开, 
.如果真 (等于 (怪物被击中, 真))
    .如果真 (等于 (怪物受攻击方向, 0))
        赋值 (计次1, 相加 (计次1, 1))
        赋值 (cout1, 相加 (计次1, 21))
        .如果 (大于 (计次1, 2))
            赋值 (计次1, 0)
        .否则
            
        .如果结束
        赋值 (怪物被击中, 假)
        赋值 (怪物方向, 1)
    .如果真结束
    .如果真 (等于 (怪物受攻击方向, 1))
        赋值 (计次1, 相加 (计次1, 1))
        赋值 (cout1, 相加 (计次1, 18))
        .如果 (大于 (计次1, 2))
            赋值 (计次1, 0)
        .否则
            
        .如果结束
        赋值 (怪物被击中, 假)
        赋值 (怪物方向, 0)
    .如果真结束
    
    
    
.如果真结束



.子程序 判断怪物死亡, 空白型, 公开, 
.如果真 (并且 (小于或等于 (怪物血量, 0), 等于 (怪物已死, 假)))
    赋值 (计次1, 相加 (计次1, 1))
    赋值 (cout1, 相加 (计次1, 27))
    .如果 (大于 (计次1, 2))
        赋值 (怪物已死, 真)
         ' _启动窗口.EXP显示1.宽度 ＝ _启动窗口.EXP显示1.宽度 ＋ 5 × 103 ÷ 100
        
    .否则
        
    .如果结束
    
.如果真结束




.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用


.程序集 __HIDDEN_TEMP_MOD__, , , 

.子程序 写屏幕, 逻辑型, , 
.参数 窗口句柄, 整数型, , 
.参数 始位置x, 整数型, , 
.参数 始位置y, 整数型, , 
.参数 内容, 文本型, , 
.参数 字体名称, 文本型, 可空, 
.参数 字体大小, 整数型, 可空, 
.参数 颜色, 整数型, 可空, 
.参数 加粗, 逻辑型, 可空, 
.参数 倾斜, 逻辑型, 可空, 
.参数 下划线, 逻辑型, 可空, 



.类模块 背景, , , 

.子程序 _初始化, 空白型, , 当基于本类的对象被创建后，此方法会被自动调用


.子程序 初始背景, 空白型, 公开, 
.参数 地图名, 文本型, , 

.局部变量 当前第2层页面, 文本型, , , 
.局部变量 当前第1层页面, 文本型, , , 
.局部变量 当前地表页面, 文本型, , , 
.局部变量 当前地图背景页面, 文本型, , , 

赋值 (当前地图背景页面, 读配置项 (地图配置文件, 地图名, “底层背景”, ))
赋值 (当前第2层页面, 读配置项 (地图配置文件, 地图名, “第2层页面”, ))
赋值 (当前第1层页面, 读配置项 (地图配置文件, 地图名, “第1层页面”, ))
赋值 (当前地表页面, 读配置项 (地图配置文件, 地图名, “地表页面”, ))
主页面.未知支持库函数_111 (系统屏幕, 当前地图背景页面, )
第2层背景.未知支持库函数_111 (系统屏幕, 当前第2层页面, )
第1层背景.未知支持库函数_111 (系统屏幕, 当前第1层页面, )
地表页面.未知支持库函数_111 (系统屏幕, 当前地表页面, )
第1层背景.未知支持库函数_156 (#黑色)
第2层背景.未知支持库函数_156 (#黑色)
地表页面.未知支持库函数_156 (#黑色)
云效果 ()


.子程序 显示背景, 空白型, 公开,   
主页面.未知支持库函数_132 (底图页面, 0, 0, )
云页面.未知支持库函数_134 (底图页面, 云移动, 0, )
云1页面.未知支持库函数_134 (底图页面, 相加 (云移动1, 500), 100, )
第2层背景.未知支持库函数_134 (底图页面, 背景2移动, 130, )
背景1循环 ()

.子程序 云效果, 空白型, , 
置随机数种子 ()
云页面.未知支持库函数_111 (系统屏幕, 相加 (“Sprite/Map/yun”, 到文本 (取随机数 (1, 3)), “.bmp”), )
云1页面.未知支持库函数_111 (系统屏幕, 相加 (“Sprite/Map/yun”, 到文本 (取随机数 (1, 3)), “.bmp”), )
云页面.未知支持库函数_156 (#黑色)
云1页面.未知支持库函数_156 (#黑色)


.子程序 背景1循环, 空白型, , 
.局部变量 临时变量, 整数型, , , 

.变量循环首 (0, 10, 1, 临时变量)
    地表页面.未知支持库函数_134 (主页面, 相乘 (临时变量, 90), 510, )
    第1层背景.未知支持库函数_134 (底图页面, 相乘 (临时变量, 415), 215, )
.变量循环尾 ()

.子程序 _销毁, 空白型, , 当基于本类的对象被销毁前，此方法会被自动调用



 ' 不属于任何一个程序集、类模块的函数：
