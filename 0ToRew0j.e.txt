 ' 文件类型：Windows窗口程序

 ' 程序名称：丰音乐播放器
 ' 程序描述：
 ' 程序作者：Leon
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：http://www.fonci.cn
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 301
    高度 = 157
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 0
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 假
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 真
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “”
    帮助文件名 = “”

窗口 列表窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 301
    高度 = 225
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 假
    禁止 = 假
    边框 = 0
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 假
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 假
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 假
    随意移动 = 真
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “丰采音乐播放器”
    帮助文件名 = “”



.常量 软件名称, "“丰采音乐播放器”", , 
.常量 软件版本, "“V1.0 Beta”", , 
.常量 支持文件格式, "“.mp3|”", , 
.常量 作者, "“Foncicn”", , 
.常量 联系QQ, "“21331019”", , 
.常量 网址, "“Fonci.cn”", , 
.常量 其它信息, "“欢迎与我相互交流。我是新手，呵呵！”", , 
.图片 播放器, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\播放器", , 
.图片 系统功能, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\系统功能", , 
.图片 背景, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\背景", , 
.图片 列表背景, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\列表背景", , 
.图片 数字图片, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\数字图片", , 
.图片 进度条, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\进度条", , 
.图片 播放暂停, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\播放暂停", , 
.图片 波形图片, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\波形图片", , 
.图片 Logo, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\Logo", , 
.图片 Top, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\Top", , 
.图片 状态小图, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\状态小图", , 
.图片 静音图标, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\静音图标", , 
.图片 列表开关图片, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\列表开关图片", , 
.图片 超列表背景, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\超列表背景", , 
.图片 模式图片, " ' 已保存到：D:\易语言学习\Data\0ToRew0j.e\模式图片", , 


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 5 0 系统核心支持库
 ' iext2 AF6AD80AA4244A59AFB3D83ECF5173CC 2 0 扩展界面支持库二
 ' CoolLib {ABB164E5-EF5D-41bf-98EA-82B842DB4AA7} 2 0 酷支持库
 ' eMMedia 824F144B108A4bcbB966F45670D42A00 3 0 多媒体支持库
 ' iext 27bb20fdd3e145e4bee3db39ddd6e64c 2 0 扩展界面支持库一
 ' shell 52F260023059454187AF826A3C07AF2A 3 0 操作系统界面功能支持库
 ' edroptarget {9DA96BF9CEBD45c5BFCF94CBE61671F5} 2 0 拖放支持库



 ' 所需要的模块
 ' 波形显示模块 C:\Documents and Settings\Administrator\桌面\波形显示模块.ec
 ' 音频波形效果模块 C:\Documents and Settings\Administrator\桌面\音频波形效果模块.ec


数据类型 MP3标签, , 
    .成员 ID3, 文本型, , , 
    .成员 TAG, 文本型, , , 
    .成员 歌曲名, 文本型, , , 
    .成员 艺术家, 文本型, , , 
    .成员 专辑, 文本型, , , 
    .成员 音轨, 文本型, , , 
    .成员 年代, 文本型, , , 
    .成员 流派, 文本型, , , 
    .成员 注释, 文本型, , , 
    .成员 作曲家, 文本型, , , 
    .成员 原创者, 文本型, , , 
    .成员 版权, 文本型, , , 
    .成员 URL, 文本型, , , 
    .成员 编码者, 文本型, , , 

.全局变量 播放状态, 逻辑型, , , 
.全局变量 顶端显示, 逻辑型, , , 
.全局变量 音乐长度, 整数型, , , 
.全局变量 音乐总时间, 整数型, , , 
.全局变量 正在播放内容, 文本型, , , 
.全局变量 正在播放内容长度, 整数型, , , 
.全局变量 随机mp3组, 文本型, , "0", 
.全局变量 mp3组, 文本型, , "0", 
.全局变量 当前mp3, 文本型, , , 
.全局变量 组位置, 整数型, , , 默认值必须给1，否则数组下标出错
.全局变量 列表是否展开, 逻辑型, , , 
.全局变量 是否执行空闲事件, 逻辑型, , , 
.全局变量 是否继续滚动, 逻辑型, , , 
.全局变量 播放方式, 整数型, , , 
.全局变量 是否双击, 逻辑型, , , 

.窗口程序集 启动窗口程序, , , 

.程序集变量 最后一次滑块条位置, 整数型, , , 
.程序集变量 动画字体x, 整数型, , , 
.程序集变量 是否静音, 逻辑型, , , 
.程序集变量 字幕时钟暂停, 逻辑型, , , 
.程序集变量 循环播放, 逻辑型, , , 
.程序集变量 随机播放, 逻辑型, , , 
.程序集变量 声音图片, 整数型, , , 
.程序集变量 滚动文字位置, 整数型, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 
.局部变量 主音量, 整数型, , "1,2", 

置外形图片 (#背景, ) ' < 透明色
赋值 (播放状态, 假)
赋值 (顶端显示, 假)
赋值 (字幕时钟暂停, 假)
赋值 (是否静音, 假)
赋值 (是否继续滚动, 假)
赋值 (.时钟周期, 0)
赋值 (动画字体x, 0)
赋值 (滚动文字位置, 0)
赋值 (.时钟周期, 0)
赋值 (_启动窗口., 相加 (#软件名称, “ ”, #软件版本))
赋值 (.内容, 相加 (#软件名称, “ ”, #软件版本))
4.未知支持库函数_0 ()
主音量.未知支持库函数_7 ( [1] [1], 主音量 [1] [2])
赋值 (., 相除 (相乘 (主音量 [1] [1], .), 未知支持库函数_5 ()))
赋值 (.内容, “”)
2.未知支持库函数_2 ()
赋值 (., 真)
.清除 ()
3.定位写出 (1, “欢迎使用丰采音乐播放器”)
载入 (列表窗口, , 假)
置托盘图标 (#Logo, 相加 (#软件名称, “ ”, #软件版本))

.子程序 _关闭_被单击, 空白型, , 
_主程序_被关闭 ()

.子程序 _播放暂停_被单击, 空白型, , 
.局部变量 选择项目, 整数型, , "0", 
.局部变量 变量, 整数型, , , 

.如果 (或者 (等于 (未知支持库函数_61 (), 0), 等于 (未知支持库函数_61 (), 2)))
    .如果 (大于 (取数组成员数 (随机mp3组), 0))
        赋值 (选择项目, 列表窗口.取被选择表项 (.))
        .如果 (等于 (取数组成员数 (选择项目), 0))
            .如果真 (等于 (随机播放, 真))
                置随机数种子 ()
                赋值 (组位置, 取随机数 (1, 取数组成员数 (随机mp3组)))
            .如果真结束
            赋值 (组位置, 选择 (等于 (组位置, 0), 1, 组位置))
             ' 输出调试文本 (组位置)
            赋值 (当前mp3, 随机mp3组 [组位置])
            取消已选择 ()
            .计次循环首 (取数组成员数 (mp3组), 变量)
                .如果真 (等于 (mp3组 [变量], 当前mp3))
                    列表窗口.选择表项 (., 相减 (变量, 1))
                    跳出循环 ()
                .如果真结束
                
            .计次循环尾 ()
            
        .否则
            赋值 (组位置, 相加 (选择项目 [1], 1))
        .如果结束
        _播放器_播放文件 ()
    .否则
        
    .如果结束
    
.否则
    _播放器_状态操作 ()
.如果结束


.子程序 _停止_被单击, 空白型, , 
赋值 (., 真)
赋值 (播放状态, 假)
赋值 (., 1)
赋值 (.时钟周期, 0)
赋值 (.时钟周期, 0)
赋值 (动画字体x, 0)
赋值 (.时钟周期, 0)
未知支持库函数_68 ()
未知支持库函数_33 ()
赋值 (.时钟周期, 0)
赋值 (_启动窗口., #软件名称)
 ' _画板_时间转图片 (0)
赋值 (.正常图片, 未知支持库函数_31 (#播放暂停, 0, ))
赋值 (.点燃图片, 未知支持库函数_31 (#播放暂停, 1, ))
赋值 (.按下图片, 未知支持库函数_31 (#播放暂停, 2, ))
赋值 (.禁止图片, 未知支持库函数_31 (#状态小图, 0, ))
赋值 (.禁止图片, 未知支持库函数_31 (#数字图片, 0, ))
赋值 (.禁止图片, 未知支持库函数_31 (#数字图片, 0, ))
赋值 (.禁止图片, 未知支持库函数_31 (#数字图片, 0, ))
赋值 (.禁止图片, 未知支持库函数_31 (#数字图片, 0, ))


.子程序 _菜单按钮_被单击, 空白型, , 
.弹出菜单 ()

.子程序 _主程序_被关闭, 空白型, , 
列表窗口.未知支持库函数_1 (., 取窗口句柄 ())
销毁 ()

.子程序 _退出_被选择, 空白型, , 
_主程序_被关闭 ()

.子程序 _打开_被选择, 空白型, , 
_添加文件_被选择 ()


.子程序 _添加文件_被选择, 空白型, , 
列表窗口._添加文件_被选择 ()

.子程序 _播放器_播放文件, 空白型, , 
.局部变量 变量, 整数型, , , 

.如果真 (等于 (取数组成员数 (随机mp3组), 0))
    _添加文件_被选择 ()
.如果真结束

.如果真 (大于 (取数组成员数 (随机mp3组), 0))
    .如果真 (并且 (等于 (随机播放, 真), 取反 (是否双击)))
        置随机数种子 ()
        赋值 (组位置, 取随机数 (1, 取数组成员数 (随机mp3组)))
    .如果真结束
    赋值 (组位置, 选择 (等于 (组位置, 0), 1, 组位置))
    赋值 (是否双击, 假)
     ' 输出调试文本 (组位置)
    赋值 (当前mp3, 随机mp3组 [组位置])
    取消已选择 ()
    .计次循环首 (取数组成员数 (mp3组), 变量)
        .如果真 (等于 (mp3组 [变量], 当前mp3))
             ' 列表窗口.播放列表框.选择表项 (变量 － 1)
            列表窗口.选择表项 (., 相减 (组位置, 1))
            跳出循环 ()
        .如果真结束
        
    .计次循环尾 ()
    当前mp3.未知支持库函数_56 ()
    _得到_媒体信息 (当前mp3)
    _播放器_上一首下一首 ()
    赋值 (播放状态, 假)
    赋值 (音乐总时间, 未知支持库函数_64 ())
    赋值 (音乐长度, 未知支持库函数_62 ())
    赋值 (., 音乐总时间)
    赋值 (正在播放内容长度, 取文本长度 (正在播放内容))
     ' 窗口标题时钟.时钟周期 ＝ 1000
     ' _启动窗口.标题 ＝ 正在播放内容
    _画板_时间转图片 (相除 (未知支持库函数_63 (), 1000))
    _播放器_状态操作 ()
.如果真结束


.子程序 _播放器_上一首下一首, 空白型, , 
 ' 如果 (组位置 ≤ 1)
 ' _启动窗口.上一首.禁止 ＝ 真
 ' _启动窗口.上一首.禁止 ＝ 假
 ' 如果 (组位置 ≥ 列表窗口.播放列表框.取表项数 () 或 组位置 ＝ 0)
 ' _启动窗口.下一首.禁止 ＝ 真
 ' _启动窗口.下一首.禁止 ＝ 假


.子程序 _播放器_状态操作, 空白型, , 
赋值 (., 假)
.如果 (等于 (播放状态, 真))
    赋值 (播放状态, 假)
    赋值 (.正常图片, 未知支持库函数_31 (#播放暂停, 0, ))
    赋值 (.点燃图片, 未知支持库函数_31 (#播放暂停, 1, ))
    赋值 (.按下图片, 未知支持库函数_31 (#播放暂停, 2, ))
    赋值 (.禁止图片, 未知支持库函数_31 (#状态小图, 1, ))
    未知支持库函数_67 ()
    未知支持库函数_33 ()
    赋值 (.时钟周期, 0)
    赋值 (.时钟周期, 0)
     ' 窗口标题时钟.时钟周期 ＝ 500
     ' _启动窗口.标题 ＝ 正在播放内容
     ' 滚动标题信息.清除 (, , , )
     ' 信息标签.标题 ＝ “暂停”
    赋值 (.时钟周期, 0)
.否则
    赋值 (播放状态, 真)
    未知支持库函数_31 ()
    赋值 (.正常图片, 未知支持库函数_31 (#播放暂停, 3, ))
    赋值 (.点燃图片, 未知支持库函数_31 (#播放暂停, 4, ))
    赋值 (.按下图片, 未知支持库函数_31 (#播放暂停, 5, ))
    赋值 (.禁止图片, 未知支持库函数_31 (#状态小图, 2, ))
    -1.未知支持库函数_66 ()
    赋值 (最后一次滑块条位置, .)
    赋值 (.时钟周期, 1000)
    赋值 (.底图, #波形图片)
    赋值 (.时钟周期, 20)
    赋值 (.时钟周期, 100)
    赋值 (.时钟周期, 500)
     ' _启动窗口.标题 ＝ 正在播放内容
     ' 信息标签.标题 ＝ “”
.如果结束


.子程序 _进度条_位置被改变, 空白型, , 
 ' 播放器.播放 (进度条.位置 × 1000)
 ' _记时表_周期事件 ()
 ' 记时表.时钟周期 ＝ 1000


.子程序 _窗口标题时钟_周期事件, 空白型, , 
.局部变量 新文字, 文本型, , , 
.局部变量 代码, 整数型, , , 
.局部变量 文字长度, 整数型, , , 

 ' 新文字 ＝ 正在播放内容
赋值 (文字长度, 取文本长度 (相加 (正在播放内容, “　　”)))
赋值 (代码, 取代码 (相加 (正在播放内容, “　　”), 滚动文字位置))
赋值 (新文字, 取文本右边 (相加 (正在播放内容, “　　”), 相减 (文字长度, 滚动文字位置)))
.如果真 (小于 (代码, 0))
    赋值 (滚动文字位置, 相加 (滚动文字位置, 1))
    赋值 (新文字, 取文本右边 (相加 (正在播放内容, “　　”), 相减 (文字长度, 滚动文字位置)))
.如果真结束

赋值 (新文字, 相加 (新文字, 取文本左边 (相加 (正在播放内容, “　　”), 滚动文字位置)))
.如果真 (大于或等于 (滚动文字位置, 文字长度))
    赋值 (滚动文字位置, 0)
.如果真结束

赋值 (滚动文字位置, 相加 (滚动文字位置, 1))
赋值 (_启动窗口., 新文字)


.子程序 _字幕时钟_周期事件, 空白型, , 
.清除 ()
.如果 (大于 (取整 (相乘 (正在播放内容长度, 6.5)), 272)) ' 如果文本长度大于画板长度就动态显示，小于就不动态显示。
    .如果 (大于 (动画字体x, 相乘 (负 (正在播放内容长度), 7)))
        动画字体x.定位写出 (1, 正在播放内容)
        赋值 (动画字体x, 相减 (动画字体x, 3))
    .否则
        赋值 (动画字体x, .宽度)
    .如果结束
    
.否则
    3.定位写出 (1, 正在播放内容)
.如果结束



.子程序 _记时表_周期事件, 空白型, , 

.如果真 (或者 (大于 (最后一次滑块条位置, 相加 (., 2)), 小于 (最后一次滑块条位置, 相减 (., 2))))
    相除 (相乘 (., 音乐长度), 音乐总时间).未知支持库函数_66 ()
    赋值 (最后一次滑块条位置, .)
    返回 ()
.如果真结束

赋值 (., 相除 (选择 (小于 (未知支持库函数_63 (), 0), 0, 未知支持库函数_63 ()), 1000))
赋值 (最后一次滑块条位置, .)
.如果真 (大于或等于 (., 音乐总时间))
    _播放器_自动放下一个 ()
.如果真结束
 ' _画板_时间转图片 (转换时间 (取整 (播放器.取位置 () × 播放器.取长度 () ÷ 播放器.取总时间 () ÷ 1000)))
 ' _画板_时间转图片 (播放器.取位置 () ÷ 1000)
_画板_时间转图片 (取整 (相除 (相乘 (未知支持库函数_63 (), 音乐长度), 音乐总时间, 1000)))



.子程序 _播放器_自动放下一个, 空白型, , 
.局部变量 变量, 整数型, , , 

.如果 (并且 (等于 (组位置, 取数组成员数 (mp3组)), 等于 (随机播放, 假))) ' 全部播放结束：
    _停止_被单击 ()
.否则
    赋值 (组位置, 选择 (随机播放, 取随机数 (1, 取数组成员数 (随机mp3组)), 选择 (循环播放, 组位置, 相加 (组位置, 1))))
    赋值 (当前mp3, 随机mp3组 [组位置])
    取消已选择 ()
    .如果真 (随机播放)
        删除成员 (随机mp3组, 组位置, ) ' 为了播放不重复
    .如果真结束
    .如果真 (等于 (取数组成员数 (随机mp3组), 0))
        赋值 (随机mp3组, mp3组)
    .如果真结束
    .计次循环首 (取数组成员数 (mp3组), 变量)
        .如果真 (等于 (mp3组 [变量], 当前mp3))
            列表窗口.选择表项 (., 相减 (变量, 1))
            列表窗口.保证显示 (., 相减 (变量, 1))
            跳出循环 ()
        .如果真结束
        
    .计次循环尾 ()
    _播放器_播放文件 ()
.如果结束


.子程序 _波形时钟_周期事件, 空白型, , 
.局部变量 次数, 整数型, , , 
.局部变量 aa, 短整数型, , , 
.局部变量 vv, 整数型, , , 
.局部变量 声波值, 短整数型, , "16", 

 ' 波形画板.清除 (, , , )
.计次循环首 (16, 次数) ' 画16条矩形
    声波值.未知支持库函数_37 ( [次数], 相减 (400, 相乘 (次数, 15)))
     ' vv ＝ 取绝对值 (取整 ((取绝对值 (aa) － 800) ÷ 100))  ' 减800，因为静音时有800左右的值
     ' 如果真 (vv ＞ 24)
     ' vv ＝ 24
     ' 波形画板.画渐变矩形 (4 × (次数 － 1), 24 － vv, 3, 24, 5, 564273, 1101353, 2743997, 555974, 26326, 1059278, 6403)
.计次循环尾 ()
 ' 开始波形显示 (波形画板, , , 声波值, 0, 8)
未知函数_67174626 (“2”, #灰色, #黑色, #红色)

.子程序 _一般延时_周期事件, 空白型, , 
赋值 (.内容, “”)
赋值 (.时钟周期, 0)

.子程序 _音量大小_位置被改变, 空白型, , 
 ' 如果 (音量.打开 (取最大音量 ().主音量) ＝ 0)
 ' 信息框 (“系统音量打开失败!,您可能听不到声音!”, 48, )
4.未知支持库函数_0 ()
相乘 (相除 (未知支持库函数_5 (), .), .).未知支持库函数_8 (相乘 (相除 (未知支持库函数_5 (), .), .))
赋值 (.内容, 相加 (到文本 (取整 (相乘 (相除 (., .), 100))), “%”))
2.未知支持库函数_2 ()
.如果 (大于或等于 (., .))
    赋值 (声音图片, 6)
    
.否则
    .如果 (小于或等于 (., .))
        赋值 (声音图片, 2)
    .否则
        赋值 (声音图片, 4)
    .如果结束
    
.如果结束
赋值 (.正常图片, 未知支持库函数_31 (#静音图标, 声音图片, ))
赋值 (.点燃图片, 未知支持库函数_31 (#静音图标, 相加 (声音图片, 1), ))
.如果真 (是否静音)
    赋值 (是否静音, 真)
    _声音开关_被单击 ()
.如果真结束
赋值 (.时钟周期, 1000)

.子程序 _画板_写出时间, 空白型, , 
.参数 数字, 整数型, , 
.参数 左边, 整数型, , 
.参数 顶部, 整数型, , 

 ' 进度时间.清除 (, , , )
载入图片 (未知支持库函数_31 (#数字图片, 数字, )).画图片 (左边, 顶部, , , )


.子程序 _画板_时间转图片, 空白型, , 
.参数 得到时间, 整数型, , 

.局部变量 temp, 整数型, , , 
.局部变量 时, 整数型, , , 
.局部变量 分, 整数型, , , 
.局部变量 秒, 整数型, , , 
.局部变量 aa, 整数型, , , 

.如果真 (大于 (得到时间, 0))
    赋值 (得到时间, 四舍五入 (相除 (得到时间, 1000), ))
    .如果真 (大于或等于 (得到时间, 3600))
        赋值 (时, 取整 (相除 (得到时间, 3600)))
        赋值 (aa, 相减 (得到时间, 相乘 (时, 3600)))
        赋值 (分, 取整 (相除 (aa, 60)))
        赋值 (秒, 相减 (aa, 相乘 (分, 60)))
        
    .如果真结束
    .如果真 (并且 (小于 (得到时间, 3600), 大于或等于 (得到时间, 60)))
        赋值 (分, 取整 (相除 (得到时间, 60)))
        赋值 (秒, 相减 (得到时间, 相乘 (分, 60)))
        
    .如果真结束
    .如果真 (小于 (得到时间, 60))
        赋值 (秒, 得到时间)
        
    .如果真结束
    赋值 (.禁止图片, 未知支持库函数_31 (#数字图片, 绝对取整 (相除 (分, 10)), ))
    赋值 (.禁止图片, 未知支持库函数_31 (#数字图片, 求余数 (分, 10), ))
    赋值 (.禁止图片, 未知支持库函数_31 (#数字图片, 绝对取整 (相除 (秒, 10)), ))
    赋值 (.禁止图片, 未知支持库函数_31 (#数字图片, 求余数 (秒, 10), ))
.如果真结束


.子程序 _置顶_被单击, 空白型, , 

.如果 (顶端显示)
    赋值 (顶端显示, 假)
    赋值 (.正常图片, 未知支持库函数_31 (#Top, 3, ))
    赋值 (.点燃图片, 未知支持库函数_31 (#Top, 4, ))
    赋值 (.按下图片, 未知支持库函数_31 (#Top, 5, ))
    赋值 (_启动窗口., 假)
.否则
    赋值 (顶端显示, 真)
    赋值 (.正常图片, 未知支持库函数_31 (#Top, 0, ))
    赋值 (.点燃图片, 未知支持库函数_31 (#Top, 1, ))
    赋值 (.按下图片, 未知支持库函数_31 (#Top, 2, ))
    赋值 (_启动窗口., 真)
.如果结束



.子程序 _得到_媒体信息, 空白型, , 
.参数 音乐文件, 文本型, , 

.局部变量 文件号, 整数型, , , 
.局部变量 数据, 字节集, , , 
.局部变量 歌曲名, 文本型, , , 
.局部变量 歌手名, 文本型, , , 

赋值 (正在播放内容, 取文本右边 (音乐文件, 相减 (取文本长度 (音乐文件), 倒找文本 (音乐文件, “\”, , 假))))
赋值 (正在播放内容, 取文本左边 (正在播放内容, 相减 (寻找文本 (正在播放内容, “.”, , 假), 1)))
.如果真 (等于 (到小写 (取文本右边 (音乐文件, 3)), “mp3”))
    赋值 (文件号, 打开文件 (音乐文件, #读入, ))
    移动读写位置 (文件号, #文件尾, -128)
    赋值 (数据, 读入字节集 (文件号, 128))
    关闭文件 (文件号)
    .如果真 (大于或等于 (取字节集长度 (数据), 128))
        .如果 (等于 (到小写 (到文本 (取字节集左边 (数据, 3))), “tag”))
            赋值 (歌曲名, 删首尾空 (到文本 (取字节集中间 (数据, 4, 30))))
            赋值 (歌手名, 删首尾空 (到文本 (取字节集中间 (数据, 34, 30))))
            .如果真 (不等于 (歌曲名, “”))
                赋值 (正在播放内容, 相加 (歌曲名, “ － ”, 歌手名))
                 ' 正在播放内容 ＝ 正在播放内容 ＋ “ [” ＋ 删首尾空 (到文本 (取字节集中间 (数据, 94, 4))) ＋ “]”  ' 年代
                 ' 正在播放内容 ＝ 正在播放内容 ＋ “《” ＋ 删首尾空 (到文本 (取字节集中间 (数据, 64, 30))) ＋ “》”  ' 专辑
                 ' 正在播放内容 ＝ 正在播放内容 ＋ “   备注：” ＋ 删首尾空 (到文本 (取字节集中间 (数据, 98, 30)))
                
            .如果真结束
            
        .否则
            
        .如果结束
        
    .如果真结束
    
.如果真结束


.子程序 _滚动标题信息_鼠标位置被移动, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

 ' 字幕时钟暂停 ＝ 真
.如果真 (播放状态)
    赋值 (.时钟周期, 0)
    .如果 (或者 (小于或等于 (横向位置, 10), 大于或等于 (横向位置, 260)))
        赋值 (.时钟周期, 100)
    .否则
        .如果真 (或者 (小于或等于 (纵向位置, 3), 大于或等于 (纵向位置, 12)))
            赋值 (.时钟周期, 100)
        .如果真结束
        
    .如果结束
    
.如果真结束


.子程序 _声音开关_被单击, 空白型, , 
4.未知支持库函数_0 ()
.如果 (是否静音)
    赋值 (是否静音, 假)
    赋值 (.正常图片, 未知支持库函数_31 (#静音图标, 声音图片, ))
    赋值 (.点燃图片, 未知支持库函数_31 (#静音图标, 相加 (声音图片, 1), ))
    假.未知支持库函数_4 ()
.否则
    赋值 (是否静音, 真)
    赋值 (.正常图片, 未知支持库函数_31 (#静音图标, 0, ))
    赋值 (.点燃图片, 未知支持库函数_31 (#静音图标, 1, ))
    真.未知支持库函数_4 ()
.如果结束
2.未知支持库函数_2 ()

.子程序 _列表开关_被单击, 空白型, , 
.如果 (列表是否展开)
    赋值 (列表是否展开, 假)
    赋值 (.正常图片, 未知支持库函数_31 (#列表开关图片, 0, ))
    赋值 (.点燃图片, 未知支持库函数_31 (#列表开关图片, 1, ))
    赋值 (.按下图片, 未知支持库函数_31 (#列表开关图片, 2, ))
    
.否则
    赋值 (列表是否展开, 真)
    赋值 (.正常图片, 未知支持库函数_31 (#列表开关图片, 3, ))
    赋值 (.点燃图片, 未知支持库函数_31 (#列表开关图片, 4, ))
    赋值 (.按下图片, 未知支持库函数_31 (#列表开关图片, 5, ))
    
.如果结束
赋值 (列表窗口., 选择 (列表是否展开, 真, 假))
 ' _超级列表_转换背景 (列表窗口.播放列表框, 列表窗口.画板1, #芙红, 15398650)


.子程序 _下一首_被单击, 空白型, , 
.如果真 (或者 (等于 (取数组成员数 (mp3组), 0), 等于 (取数组成员数 (mp3组), 1), 等于 (列表窗口.取表项数 (.), 0)))
    _停止_被单击 ()
    返回 ()
.如果真结束
.如果真 (等于 (组位置, 取数组成员数 (mp3组)))
    赋值 (组位置, 0) ' 转到播放第一个
.如果真结束
赋值 (组位置, 相加 (组位置, 1))
赋值 (当前mp3, mp3组 [组位置])
取消已选择 ()
列表窗口.选择表项 (., 相减 (组位置, 1))
列表窗口._播放器_上一首下一首 ()
_播放器_播放文件 ()


.子程序 _播放模式图片, 空白型, , 
.参数 模式, 菜单, , 

赋值 (列表窗口..选中, 假)
赋值 (列表窗口..选中, 假)
赋值 (列表窗口..选中, 假)
赋值 (列表窗口..选中, 假)
赋值 (列表窗口..选中, 假)
.如果 (等于 (模式, 列表窗口.))
    赋值 (列表窗口..正常图片, 未知支持库函数_31 (#模式图片, 16, ))
    赋值 (列表窗口..点燃图片, 未知支持库函数_31 (#模式图片, 17, ))
    赋值 (列表窗口..按下图片, 未知支持库函数_31 (#模式图片, 18, ))
    赋值 (列表窗口..禁止图片, 未知支持库函数_31 (#模式图片, 19, ))
    赋值 (模式.选中, 真)
    赋值 (循环播放, 假)
    赋值 (随机播放, 真)
.否则
    .如果 (等于 (模式, 列表窗口.))
        赋值 (列表窗口..正常图片, 未知支持库函数_31 (#模式图片, 12, ))
        赋值 (列表窗口..点燃图片, 未知支持库函数_31 (#模式图片, 13, ))
        赋值 (列表窗口..按下图片, 未知支持库函数_31 (#模式图片, 14, ))
        赋值 (列表窗口..禁止图片, 未知支持库函数_31 (#模式图片, 15, ))
        赋值 (模式.选中, 真)
        赋值 (循环播放, 真)
        赋值 (随机播放, 假)
    .否则
        .如果 (等于 (模式, 列表窗口.))
            赋值 (列表窗口..正常图片, 未知支持库函数_31 (#模式图片, 8, ))
            赋值 (列表窗口..点燃图片, 未知支持库函数_31 (#模式图片, 9, ))
            赋值 (列表窗口..按下图片, 未知支持库函数_31 (#模式图片, 10, ))
            赋值 (列表窗口..禁止图片, 未知支持库函数_31 (#模式图片, 11, ))
            赋值 (模式.选中, 真)
            赋值 (循环播放, 假)
            赋值 (随机播放, 假)
        .否则
            .如果 (等于 (模式, 列表窗口.))
                赋值 (列表窗口..正常图片, 未知支持库函数_31 (#模式图片, 4, ))
                赋值 (列表窗口..点燃图片, 未知支持库函数_31 (#模式图片, 5, ))
                赋值 (列表窗口..按下图片, 未知支持库函数_31 (#模式图片, 6, ))
                赋值 (列表窗口..禁止图片, 未知支持库函数_31 (#模式图片, 7, ))
                赋值 (模式.选中, 真)
                赋值 (循环播放, 真)
                赋值 (随机播放, 假)
            .否则
                .如果 (等于 (模式, 列表窗口.))
                    赋值 (列表窗口..正常图片, 未知支持库函数_31 (#模式图片, 0, ))
                    赋值 (列表窗口..点燃图片, 未知支持库函数_31 (#模式图片, 1, ))
                    赋值 (列表窗口..按下图片, 未知支持库函数_31 (#模式图片, 2, ))
                    赋值 (列表窗口..禁止图片, 未知支持库函数_31 (#模式图片, 3, ))
                    赋值 (模式.选中, 真)
                    赋值 (循环播放, 假)
                    赋值 (随机播放, 假)
                .否则
                    
                .如果结束
                
            .如果结束
            
        .如果结束
        
    .如果结束
    
.如果结束


.子程序 取消已选择, 空白型, , 
.局部变量 选择项目, 整数型, , "0", 
.局部变量 变量, 整数型, , , 

赋值 (选择项目, 列表窗口.取被选择表项 (.))
.计次循环首 (取数组成员数 (选择项目), 变量) ' //取消已选择
    列表窗口.取消表项选择 (., 选择项目 [变量])
.计次循环尾 ()

.子程序 _上一首_被单击, 空白型, , 
.如果真 (小于或等于 (组位置, 1))
    返回 ()
.如果真结束
赋值 (组位置, 相减 (组位置, 1))
赋值 (当前mp3, mp3组 [组位置])
取消已选择 ()
列表窗口.选择表项 (., 相减 (组位置, 1))
列表窗口._播放器_上一首下一首 ()
_播放器_播放文件 ()
 ' 位置钮.左边 ＝ 13
 ' 同步播放MP3 (当前mp3, 位置钮.左边 － 13, 标签1, )  ' 13是位置钮.左边 的默认坐标值


.子程序 转换播放列表, 空白型, , 
.局部变量 变量, 空白型, , , 
.局部变量 临时组, 文本型, , "0", 

处理事件 ()
.计次循环首 (取数组成员数 (mp3组), 变量)
    .如果真 (并且 (等于 (mp3组 [变量], 列表窗口.取标题 (., 相减 (变量, 1), 0)), 不等于 (列表窗口.取标题 (., 相减 (变量, 1), 5), “True”)))
        赋值 (临时组, 分割文本 (取MP3信息 (mp3组 [变量]), “//”, ))
        列表窗口.置标题 (., 相减 (变量, 1), 2, 临时组 [1])
        列表窗口.置标题 (., 相减 (变量, 1), 3, 临时组 [2])
        列表窗口.置标题 (., 相减 (变量, 1), 5, “True”)
         ' 信息框 (变量, 0, )
        .如果真 (不等于 (临时组 [3], “”))
            列表窗口.置标题 (., 相减 (变量, 1), 4, 临时组 [3])
        .如果真结束
        
    .如果真结束
    
.计次循环尾 ()
.如果真 (等于 (取数组成员数 (mp3组), 0))
    返回 ()
.如果真结束
.如果真 (不等于 (mp3组 [取数组成员数 (mp3组)], 列表窗口.取标题 (., 列表窗口.取表项数 (.), 0)))
    赋值 (是否执行空闲事件, 假)
.如果真结束


.子程序 __启动窗口_被激活, 空白型, , 
列表窗口.调整层次 (#顶层)

.子程序 取MP3信息, 文本型, , 
.参数 文件名, 文本型, , 

.局部变量 变量, 空白型, , , 
.局部变量 时间, 文本型, , , 
.局部变量 显示信息, 文本型, , , 
.局部变量 临时, 文本型, , "0", 
.局部变量 暂时数据, 文本型, , , 
.局部变量 数据, 字节集, , , 
.局部变量 歌曲名, 文本型, , , 
.局部变量 歌手名, 文本型, , , 
.局部变量 文件号, 整数型, , , 
.局部变量 曲目总长时, 整数型, , , 
.局部变量 曲目总长分, 整数型, , , 
.局部变量 曲目总长秒, 整数型, , , 

赋值 (显示信息, “”)
处理事件 ()
文件名.未知支持库函数_56 ()
赋值 (文件号, 未知支持库函数_62 ())
赋值 (时间, 子文本替换 (数值到格式文本 (相除 (未知支持库函数_64 (), 60), 2, 假), “.”, “:”, , , 真))
未知支持库函数_57 ()
 ' 曲目总长时 ＝ 取整 (文件号 ÷ 3600000)
 ' 曲目总长分 ＝ 取整 ((文件号 － 曲目总长时 × 3600000) ÷ 60000)
 ' 曲目总长秒 ＝ 取整 ((文件号 － 曲目总长时 × 3600000 － 曲目总长分 × 60000) ÷ 1000)
 ' 时间 ＝ 取文本右边 (“00” ＋ 到文本 (曲目总长分), 2) ＋ “:” ＋ 取文本右边 (“00” ＋ 到文本 (曲目总长秒), 2)
.如果 (等于 (取文本长度 (时间), 3))
    赋值 (时间, 相加 (“00”, 时间))
.否则
    .如果真 (等于 (取文本长度 (时间), 4))
        赋值 (时间, 相加 (“0”, 时间))
    .如果真结束
    
.如果结束
赋值 (临时, 分割文本 (文件名, “\”, ))
赋值 (暂时数据, 子文本替换 (取文本左边 (临时 [取数组成员数 (临时)], 相减 (寻找文本 (临时 [取数组成员数 (临时)], “.”, , 假), 1)), “//”, , , , 真))
赋值 (显示信息, 相加 (暂时数据, “//”))
.如果真 (等于 (到小写 (取文本右边 (文件名, 3)), “mp3”))
    赋值 (文件号, 打开文件 (文件名, #读入, ))
    移动读写位置 (文件号, #文件尾, -128)
    赋值 (数据, 读入字节集 (文件号, 128))
    关闭文件 (文件号)
    .如果真 (大于或等于 (取字节集长度 (数据), 128))
        .如果 (等于 (到小写 (到文本 (取字节集左边 (数据, 3))), “tag”))
            赋值 (歌曲名, 删首尾空 (到文本 (取字节集中间 (数据, 4, 30))))
            赋值 (歌手名, 删首尾空 (到文本 (取字节集中间 (数据, 34, 30))))
            .如果真 (不等于 (歌曲名, “”))
                赋值 (显示信息, 相加 (子文本替换 (歌曲名, “//”, , , , 真), “//”, 子文本替换 (歌手名, “//”, , , , 真)))
            .如果真结束
            
        .否则
            
        .如果结束
        
    .如果真结束
    
.如果真结束

返回 (相加 (显示信息, “//”, 时间))


.子程序 __启动窗口_空闲, 逻辑型, , 
.参数 已空闲时间, 整数型, , 

.如果真 (等于 (是否执行空闲事件, 真))
    转换播放列表 ()
.如果真结束


.子程序 __启动窗口_位置被改变, 空白型, , 
赋值 (列表窗口., 相减 (相加 (_启动窗口., _启动窗口.), 21))
赋值 (列表窗口., _启动窗口.)

.子程序 __启动窗口_将被销毁, 空白型, , 
列表窗口.销毁 ()

.子程序 _最小化_被单击, 空白型, , 
赋值 (., 2)

.子程序 递归寻找MP3, 空白型, , 递归样式
.参数 目录, 文本型, , 
.参数 添加列表用, 逻辑型, , 真添加列表，假直接搜索。

.局部变量 b, 短整数型, , , 
.局部变量 文件名, 文本型, , , 

处理事件 ()
.如果真 (不等于 (取文本右边 (目录, 1), “\”))
    赋值 (目录, 相加 (目录, “\”))
.如果真结束
赋值 (文件名, 寻找文件 (相加 (目录, “*.mp3”), ))
.判断循环首 (不等于 (文件名, “”))
    加入成员 (mp3组, 相加 (目录, 文件名))
    .如果真 (等于 (添加列表用, 真))
        加入成员 (随机mp3组, 相加 (目录, 文件名))
    .如果真结束
    赋值 (b, 列表窗口.取表项数 (.))
    列表窗口.插入表项 (., -1, 相加 (目录, 文件名), , , , )
    列表窗口.置标题 (., b, 1, 到文本 (列表窗口.取表项数 (.)))
    列表窗口.置标题 (., b, 2, 文件名)
     ' 列表窗口.播放列表框.置标题 (b, 4, 目录 ＋ 文件名)
     ' 列表窗口.播放列表框.插入表项 (-1, 目录 ＋ 文件名, , , , )
    赋值 (文件名, 寻找文件 ())
.判断循环尾 ()
赋值 (文件名, 寻找文件 (相加 (目录, “*.*”), #子目录))
.判断循环首 (不等于 (文件名, “”))
    .如果真 (不等于 (取文本左边 (文件名, 1), “.”))
        递归寻找MP3 (相加 (目录, 文件名), 添加列表用)
    .如果真结束
    赋值 (文件名, 寻找文件 (#子目录))
.判断循环尾 ()
_播放器_上一首下一首 ()

.子程序 __启动窗口_托盘事件, 空白型, , 
.参数 操作类型, 整数型, , 

.如果真 (等于 (操作类型, 2))
    赋值 (., 3)
.如果真结束
.如果真 (等于 (操作类型, 3))
    弹出托盘菜单 ()
.如果真结束


.子程序 _退出软件_被选择, 空白型, , 
_主程序_被关闭 ()

.程序集 自定义程序集, , , 

.窗口程序集 列表程序集, , , 

.子程序 _列表窗口_创建完毕, 空白型, , 
置外形图片 (#列表背景, #品红)
赋值 (列表窗口., 相减 (相加 (_启动窗口., _启动窗口.), 21))
赋值 (列表窗口., _启动窗口.)
赋值 (列表是否展开, 真)
赋值 (列表窗口., 选择 (列表是否展开, 真, 假))
取窗口句柄 ().未知支持库函数_0 ()
赋值 (., 真)

 ' _超级列表_转换背景 (列表窗口.播放列表框, 列表窗口.画板1, #品红, 15398650)
 ' 设置背景 (列表窗口.播放列表框, “img\listbg1.bmp”, )

.子程序 _播放列表框_被双击, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

.局部变量 选择项目, 整数型, , "0", 

赋值 (选择项目, 取被选择表项 ())
.如果真 (等于 (取数组成员数 (选择项目), 0))
    返回 ()
.如果真结束
赋值 (组位置, 相加 (选择项目 [1], 1))
赋值 (是否双击, 真)
_播放器_播放文件 ()

.子程序 _音乐拖放对象_得到文件, 空白型, , 
.参数 接收到的文件路径, 文本型, , 

.局部变量 变量, 整数型, , , 
.局部变量 临时mp3组, 文本型, , "0", 
.局部变量 b, 短整数型, , , 

赋值 (临时mp3组, 分割文本 (接收到的文件路径, #换行符, ))
.计次循环首 (取数组成员数 (临时mp3组), 变量)
    .如果真 (等于 (到小写 (取文本右边 (临时mp3组 [变量], 4)), “.mp3”))
        赋值 (b, 列表窗口.取表项数 (.))
        列表窗口.插入表项 (., , , , , , )
        列表窗口.置标题 (., b, 1, 到文本 (相加 (b, 1)))
        列表窗口.置标题 (., b, 2, 取文本右边 (临时mp3组 [变量], 相减 (取文本长度 (临时mp3组 [变量]), 倒找文本 (临时mp3组 [变量], “\”, , 假))))
        列表窗口.置标题 (., b, 0, 临时mp3组 [变量])
        加入成员 (mp3组, 临时mp3组 [变量])
        加入成员 (随机mp3组, 临时mp3组 [变量])
    .如果真结束
    
.计次循环尾 ()

_启动窗口._播放器_上一首下一首 ()
赋值 (是否执行空闲事件, 真) ' //在空闲事件里，执行分析MP3信息


.子程序 _播放列表框_按下某键, 逻辑型, , 
.参数 键代码, 整数型, , 
.参数 功能键状态, 整数型, , 

.局部变量 变量, 整数型, , , 

.如果真 (等于 (键代码, #Del键))
    _删除选中_被选择 ()
.如果真结束
.如果真 (并且 (等于 (键代码, #A键), 等于 (功能键状态, #Ctrl键状态)))
    .计次循环首 (取表项数 (), 变量)
        相减 (变量, 1).选择表项 ()
    .计次循环尾 ()
.如果真结束


.子程序 _添加文件_被选择, 空白型, , 
.局部变量 变量, 整数型, , , 
.局部变量 b, 短整数型, , , 
.局部变量 临时mp3组, 文本型, , "0", 

赋值 (临时mp3组, 多文件对话框 (“请选择要添加的MP3文件...”, “MP3文件|*.mp3”, , , ))
.如果真 (等于 (取数组成员数 (临时mp3组), 0))
    返回 ()
.如果真结束
.计次循环首 (取数组成员数 (临时mp3组), 变量)
     ' 列表窗口.播放列表框.插入表项 (-1, 临时mp3组 [变量], , , , )
    赋值 (b, 列表窗口.取表项数 (.))
     ' 信息框 (b, 0, )
    列表窗口.插入表项 (., , , , , , )
    列表窗口.置标题 (., b, 1, 到文本 (相加 (b, 1)))
    列表窗口.置标题 (., b, 2, 取文本右边 (临时mp3组 [变量], 相减 (取文本长度 (临时mp3组 [变量]), 倒找文本 (临时mp3组 [变量], “\”, , 假))))
    列表窗口.置标题 (., b, 0, 临时mp3组 [变量])
    加入成员 (mp3组, 临时mp3组 [变量])
    加入成员 (随机mp3组, 临时mp3组 [变量])
     ' 信息框 (变量, 0, )
.计次循环尾 ()
_启动窗口._播放器_上一首下一首 ()
赋值 (是否执行空闲事件, 真) ' //在空闲事件里，执行分析MP3信息

.子程序 _删除文件_被选择, 空白型, , 
.局部变量 变量1, 整数型, , , 
.局部变量 变量2, 整数型, , , 
.局部变量 选择项目, 整数型, , "0", 
.局部变量 删除文件名, 文本型, , , 

赋值 (选择项目, 取被选择表项 ())
.如果真 (等于 (取数组成员数 (选择项目), 0))
    返回 ()
.如果真结束
.计次循环首 (取数组成员数 (选择项目), 变量1)
    赋值 (删除文件名, 相加 (删除文件名, #左引号, mp3组 [相加 (选择项目 [变量1], 1)], #右引号, “、”))
.计次循环尾 ()
.如果真 (等于 (信息框 (相加 (“您确定要删除”, 取文本左边 (删除文件名, 相减 (取文本长度 (删除文件名), 2)), “吗?”), 相加 (32, 4), ), #是钮))
    .计次循环首 (取数组成员数 (选择项目), 变量1)
        .计次循环首 (取数组成员数 (随机mp3组), 变量2)
            .如果真 (等于 (随机mp3组 [变量2], mp3组 [相加 (选择项目 [变量1], 1)]))
                删除成员 (随机mp3组, 变量2, 1)
                跳出循环 ()
            .如果真结束
            
        .计次循环尾 ()
    .计次循环尾 ()
    .计次循环首 (取数组成员数 (选择项目), 变量1)
        .如果真 (等于 (mp3组 [相加 (选择项目 [变量1], 1)], 当前mp3))
            停止播放 ()
            _启动窗口._下一首_被单击 ()
        .如果真结束
        删除文件 (mp3组 [相加 (选择项目 [变量1], 1)])
    .计次循环尾 ()
    .计次循环首 (取数组成员数 (选择项目), 变量1)
        删除成员 (mp3组, 相加 (选择项目 [变量1], 1), 1)
        列表窗口.删除表项 (., 选择项目 [相加 (相减 (取数组成员数 (选择项目), 变量1), 1)])
    .计次循环尾 ()
.如果真结束

 ' //列表改变后正确选中MP3位置：
.计次循环首 (取表项数 (), 变量1)
    .如果真 (等于 (当前mp3, mp3组 [变量1]))
        赋值 (组位置, 变量1)
        相减 (变量1, 1).选择表项 ()
        跳出循环 ()
    .如果真结束
    
.计次循环尾 ()


.子程序 _列表窗口_可否被关闭, 逻辑型, , 
返回 (假)


.子程序 _添加按钮_被单击, 空白型, , 
弹出菜单 ()

.子程序 _添加目录_被选择, 空白型, , 
.局部变量 目录, 文本型, , , 

 ' 赋值 (目录, 未知支持库函数_2 (“请选择MP3目录:”, 假))
.如果真 (等于 (目录, “”))
    返回 ()
.如果真结束
 ' 递归寻找MP3 (目录, 真)
赋值 (是否执行空闲事件, 真) ' //在空闲事件里，执行分析MP3信息

.子程序 _删除按钮_被单击, 空白型, , 
弹出菜单 ()

.子程序 _删除选中_被选择, 空白型, , 
.局部变量 临时, 文本型, , , 
.局部变量 变量, 整数型, , , 
.局部变量 选择索引, 整数型, , "0", 
.局部变量 索引变量, 整数型, , , 

赋值 (选择索引, 取被选择表项 ())
.如果真 (等于 (取数组成员数 (选择索引), 0))
    返回 ()
.如果真结束
.计次循环首 (取数组成员数 (选择索引), 索引变量)
    赋值 (临时, mp3组 [相加 (选择索引 [相加 (相减 (取数组成员数 (选择索引), 索引变量), 1)], 1)])
    .如果真 (等于 (临时, 当前mp3))
        停止播放 ()
         ' 设置状态 ()
        _启动窗口._下一首_被单击 ()
    .如果真结束
    删除成员 (mp3组, 相加 (选择索引 [相加 (相减 (取数组成员数 (选择索引), 索引变量), 1)], 1), )
    选择索引.删除表项 ( [相加 (相减 (取数组成员数 (选择索引), 索引变量), 1)])
    .计次循环首 (取数组成员数 (随机mp3组), 变量)
        .如果真 (等于 (随机mp3组 [变量], 临时))
            删除成员 (随机mp3组, 变量, )
            跳出循环 ()
        .如果真结束
        
    .计次循环尾 ()
.计次循环尾 ()
 ' //列表改变后正确选中MP3位置：
.计次循环首 (取表项数 (), 变量)
    .如果真 (等于 (当前mp3, mp3组 [变量]))
        赋值 (组位置, 变量)
        相减 (变量, 1).选择表项 ()
        跳出循环 ()
    .如果真结束
    
.计次循环尾 ()
.如果真 (等于 (取表项数 (), 0))
    赋值 (组位置, 0)
.如果真结束



.子程序 _清空列表_被选择, 空白型, , 
赋值 (是否执行空闲事件, 假)
_启动窗口._停止_被单击 ()
重定义数组 (mp3组, 假, 0)
重定义数组 (随机mp3组, 假, 0)
赋值 (当前mp3, “”)
赋值 (组位置, 0)
全部删除 ()


.子程序 _模式按钮_被单击, 空白型, , 
弹出菜单 ()

.子程序 _播放列表框_当前表项被改变, 空白型, , 
.局部变量 temp, 整数型, , "0", 

赋值 (temp, 取被选择表项 ())
 ' 信息框 (temp [1], 0, )


.子程序 _随机播放_被选择, 空白型, , 
置随机数种子 ()
_播放模式图片 ()

.子程序 _列表循环_被选择, 空白型, , 
_播放模式图片 ()

.子程序 _单曲播放_被选择, 空白型, , 
_播放模式图片 ()

.子程序 _单曲循环_被选择, 空白型, , 
_播放模式图片 ()

.子程序 _顺序播放_被选择, 空白型, , 
_播放模式图片 ()

.程序集 __HIDDEN_TEMP_MOD__, , , 

.子程序 波形显示初始化, 空白型, , 用来进行波形显示所必须的初始化工作。
.参数 画板, 画板, , 用来显示波形的画板组件。
.参数 显示精度, 整数型, 可空, 设定显示的精度，其大小影响画板的宽度。整数型，单位是像素。最小为2，默认值为2。



.子程序 开始波形显示, 空白型, , 用来显示波形，本命令用时钟周期事件调用，在使用本命令前应先使用波形显示初始化命令
.参数 画板, 画板, , 用以显示波形的画板。
.参数 颜色, 整数型, 可空, 波形渐变颜色的起始色,默认为红色。
.参数 颜色1, 整数型, 可空, 波形渐变色的终止颜色，默认为黄色。
.参数 声波值, 短整数型, 数组, 一个时钟周期内要显示的各个频段的声波值。类型为整数型数组。
.参数 波形样式, 整数型, 可空, 设定波形样式。0为条型显示，1、2为火焰燃烧效果。
.参数 填充类型, 整数型, 可空, 设定画板刷子类型，该参数只有在使用第一种显示效果时有效。为0-55之间的整数，默认为1



.子程序 停止显示波形, 空白型, , 作用是在同步播放完毕后停止波形显示,可以通过同步播放反馈标签事件来调用。
.参数 画板, 画板, , 用来显示波形的画板。



.程序集 __HIDDEN_TEMP_MOD__, , , 

.子程序 显示波形效果, 空白型, , 
.参数 波形采集器, 未知类型0x40004, , 
.参数 显示区, 画板, , 
.参数 波形颜色方案, 文本型, , 1.#单色显示  2.#渐变显示
.参数 波形柱颜色, 整数型, 可空, 颜色值，选择单色时可用
.参数 波形柱渐变颜色1, 整数型, 可空, 颜色值，选择渐变色时可用
.参数 波形柱渐变颜色2, 整数型, 可空, 颜色值，选择渐变色时可用



.子程序 关闭波形效果, 空白型, , 
.参数 控制时钟, 时钟, , 



.子程序 开启波形效果, 空白型, , 
.参数 控制时钟, 时钟, , 




 ' 不属于任何一个程序集、类模块的函数：
