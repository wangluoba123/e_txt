 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：本源码来自易语言资源网(www.wodesoft.com)
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：             易语言资源网注意事项
--============   www.wodesoft.com  =============--
* 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；本易语言资源网( www.wodesoft.com)所有软件和资料均为软件作者提供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权纠纷本站概不负责！
* 本站资源未经许可,任何网站不得非法盗链及抄袭本站资源；如引用，请注明来自易语言资源网，谢谢合作！
--============   www.wodesoft.com  =============--
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 546
    高度 = 413
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假



.常量 WM_GETTEXT, "13", , 应用程序发送此消息来复制对应窗口的文本到缓冲区
.常量 WM_NCPAINT, "133", , 程序发送此消息给某个窗口当它（窗口）的框架必须被绘制时；
.常量 WM_PAINT, "15", , 要求一个窗口重画自己
.常量 PS_SOLID, "0", , 
.常量 NULL_BRUSH, "5", , 
.常量 SW_HIDE, "0", , 
.常量 SW_SHOW, "5", , 
.常量 SW_SHOWNOACTIVATE, "4", , 
.常量 RDW_INVALIDATE, "1", , 
.常量 RDW_ERASE, "4", , 
.常量 RDW_FRAME, "1024", , 
.常量 HWND_BROADCAST, "65535", , 
.常量 COLOR_DESKTOP, "1", , 
.常量 RDW_ALLCHILDREN, "128", , 
.常量 R2_NOT, "6", , 
.常量 GWL_EXSTYLE, "-20", , 
.常量 GWL_HINSTANCE, "-6", , 
.常量 GWL_HWNDPARENT, "-8", , 
.常量 GWL_ID, "-12", , 
.常量 GWL_STYLE, "-16", , 
.常量 GWL_USERDATA, "-21", , 
.常量 GWL_WNDPROC, "-4", , 
.常量 GCL_CBCLSEXTRA, "-20", , 
.常量 GCL_CBWNDEXTRA, "-18", , 
.常量 GCL_CONVERSION, "1", , 
.常量 GCL_HBRBACKGROUND, "-10", , 
.常量 GCL_HCURSOR, "-12", , 
.常量 GCL_HICON, "-14", , 
.常量 GCL_HICONSM, "-34", , 
.常量 GCL_HMODULE, "-16", , 
.常量 GCL_MENUNAME, "-8", , 
.常量 GCL_STYLE, "-26", , 
.常量 GCL_WNDPROC, "-24", , 
.常量 GW_CHILD, "5", , 
.常量 GW_HWNDFIRST, "0", , 
.常量 GW_HWNDLAST, "1", , 
.常量 GW_HWNDNEXT, "2", , 
.常量 GW_HWNDPREV, "3", , 
.常量 GW_OWNER, "4", , 


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 5 0 系统核心支持库




数据类型 POINTAPI, , 
    .成员 x, 整数型, , , 
    .成员 y, 整数型, , , 


.DLL命令 GetDC, 整数型, "user32.dll", "GetDC", , 
    .参数 句柄, 整数型, , 

.DLL命令 LineTo, 整数型, "gdi32.dll", "LineTo", , 
    .参数 hdc, 整数型, , 
    .参数 x, 整数型, , 
    .参数 y, 整数型, , 

.DLL命令 SetROP2, 整数型, "gdi32", "SetROP2", , 设置指定设备场景的绘图模式。与vb的DrawMode属性完全一致　如执行成功，返回前一个绘图模式；零表示出错
    .参数 设备场景, 整数型, , 
    .参数 光栅运算方式, 整数型, , 

.DLL命令 ReleaseDC, 整数型, "user32", "ReleaseDC", , 释放由调用GetDC或GetWindowDC函数获取的指定设备场景。它对类或私有设备场景无效（但这样的调用不会造成损害）　执行成功为1，否则为0
    .参数 窗口句柄, 整数型, , 要释放的设备场景相关的窗口句柄
    .参数 设备场景, 整数型, , 要释放的设备场景句柄;  

.DLL命令 RedrawWindow, 整数型, "user32", "RedrawWindow", , 根据fuRedraw旗标的设置，重画全部或部分窗口　非零表示成功，零表示失败。会设置GetLastError
    .参数 窗口句柄, 整数型, , 要重画的窗口的句柄。零表示更新桌面窗口
    .参数 矩形, 整数型, , RECT，窗口中需要重画的一个矩形区域
    .参数 区域, 整数型, , 一个“区”的句柄，这个区描述了要重画的窗口区域。“区”：Region
    .参数 清楚模式, 整数型, , 规定具体重画操作的旗标。下列常数可组合使用，从而进行复杂的重画行动;RDW_ERASE：重画前，先清除重画区域的背景。也必须指定RDW_INVALIDATE;RDW_FRAME：如非客户区包含在重画区域中，则对非客户区进行更新。也必须指定RDW_INVALIDATE;RDW_INTERNALPAINT：即使窗口并非无效，也向其投递一条WM_PAINT消息;RDW_INVALIDATE：禁用（屏蔽）重画区域;RDW_NOERASE：禁止删除重画区域的背景;RDW_NOFRAME：禁止非客户区域重画（如果它是重画区域的一部分）。也必须指定RDW_VALIDATE;RDW_NOINTERNALPAINT：禁止内部生成或由这个函数生成的任何待决WM_PAINT消息。针对无效区域，仍会生成WM_PAINT消息;RDW_VALIDATE：检验重画区域;RDW_ERASENOW：立即删除指定的重画区域;RDW_UPDATENOW：立即更新指定的重画区域;RDW_ALLCHILDREN：重画操作包括子窗口（前提是它们存在于重画区域）;RDW_NOCHILDREN：重画操作排除子窗口（前提是它们存在于重画区域）;  

.DLL命令 GetCursorPos, 整数型, "user32", "GetCursorPos", , 获取鼠标指针的当前位置　非零表示成功，零表示失败。会设置GetLastError
    .参数 位置, POINTAPI, , POINTAPI，随同指针在屏幕像素坐标中的位置载入的一个结构;

.DLL命令 MoveToEx, 整数型, "gdi32.dll", "MoveToEx", , 
    .参数 hdc, 整数型, , 
    .参数 x, 整数型, , 
    .参数 y, 整数型, , 
    .参数 POINTAPI, POINTAPI, , 

.窗口程序集 窗口程序集1, , , 

.程序集变量 上次, POINTAPI, , , 
.程序集变量 鼠标按下点, POINTAPI, , , 
.程序集变量 已按下, 逻辑型, , , 
.程序集变量 起点, POINTAPI, , , 
.子程序 _画板1_鼠标左键被按下, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

 ' --========  易语言资源网  (www.wodesoft.com)  ======--
 ' 努力创建完善、持续更新的易语言学习例程源码资源站
 ' --================   www.wodesoft.com  ===========--
 ' --==================   易语言资源网注意事项  ================--
 ' * 易语言资源网为易语言官方站、易语言官方论坛提供辅助资源站；
 ' 本易语言资源网( www.wodesoft.com)所有软件和资料均为软件作者提
 ' 供和网友推荐发布而来，其版权归该软件和程序源码的合法拥有者所
 ' 有，本站易语言资源网整理收集仅供易语言用户学习和易语言技术研
 ' 究探讨使用，不得用于任何商业用途。如果由于以上原因造成的版权
 ' 纠纷本站概不负责！
 ' * 本站资源未经许可，任何网站不得非法盗链及抄袭本站资源；如引用
 ' 页面，请注明来自易语言资源网，谢谢合作！
 ' --=====================   www.wodesoft.com  ================--

GetCursorPos (鼠标按下点)
赋值 (已按下, 真)
赋值 (上次, 鼠标按下点)
赋值 (起点.x, 横向位置)
赋值 (起点.y, 纵向位置)

.子程序 屏幕画线, 空白型, , 在整个屏幕上画线
.参数 参起始点, POINTAPI, , 
.参数 参终止点, POINTAPI, , 

.局部变量 屏幕画布, 整数型, , , 
.局部变量 旧混合模式, 整数型, , , 
.局部变量 原来位置, POINTAPI, , , 

赋值 (屏幕画布, GetDC (0))
赋值 (旧混合模式, SetROP2 (屏幕画布, #R2_NOT)) ' 设置为反转模式，这样两次在同一位置绘制会清除。
MoveToEx (屏幕画布, 参起始点.x, 参起始点.y, 原来位置)
LineTo (屏幕画布, 参终止点.x, 参终止点.y)
SetROP2 (屏幕画布, 旧混合模式)
ReleaseDC (0, 屏幕画布)
 ' 本源码来自易语言资源网(www.wodesoft.com)

.子程序 _画板1_鼠标左键被放开, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

屏幕画线 (鼠标按下点, 上次)
 ' RedrawWindow (_启动窗口.取窗口句柄 (), 0, 0, 位或 (#RDW_ERASE, #RDW_INVALIDATE, #RDW_ALLCHILDREN))
赋值 (已按下, 假)
起点.画直线 (.x, 起点.y, 横向位置, 纵向位置)


.子程序 _画板1_鼠标位置被移动, 逻辑型, , 
.参数 横向位置, 整数型, , 
.参数 纵向位置, 整数型, , 
.参数 功能键状态, 整数型, , 

.局部变量 光标位置, POINTAPI, , , 

.如果真 (等于 (已按下, 假))
    返回 ()
.如果真结束
GetCursorPos (光标位置) ' 获取鼠标光标在屏幕的位置
' 本源码来自易语言资源网(www.wodesoft.com)
屏幕画线 (鼠标按下点, 上次) ' 清除原来的连线
屏幕画线 (鼠标按下点, 光标位置) ' 绘制新的连线
赋值 (上次, 光标位置)



.子程序 __启动窗口_创建完毕, 空白型, , 



 ' 不属于任何一个程序集、类模块的函数：
