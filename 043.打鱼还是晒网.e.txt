 ' 文件类型：Windows窗口程序

 ' 程序名称：易语言经典算法 - 打鱼还是晒网
 ' 程序描述：    中国有句俗语叫“三天打鱼两天晒网”。某人从1990年1月1日起开始“三天打鱼两天晒网”，问这个人在以后的某一天中是“打鱼”还是“晒网”。
 ' 程序作者：大有吴涛易语言软件公司
 ' 邮政编码：116001
 ' 联系地址：辽宁省大连市中山区人民路55号亚太国际金融中心
 ' 联系电话：+86(0411)88995831
 ' 传真号码：+86(0411)88995834
 ' 电子信箱：service@dywt.com.cn
 ' 主页地址：http://www.dywt.com.cn
 ' 版权声明：祝您一帆风顺，心想事成！
 ' 版本号：1.0
 ' 创建号：0.0

窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 400
    高度 = 282
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    底图 =  ' 空
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “易语言经典算法 - 打鱼还是晒网”
    帮助文件名 = “”





 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 4 4 系统核心支持库
 ' iext3 {B6F7542F-B8FE-46a8-9605-98856A687097} 2 0 扩展界面支持库三




数据类型 日期, , 存放日期
    .成员 年, 整数型, , , 存放日期中的年份
    .成员 月, 整数型, , , 存放日期中的月份
    .成员 日, 整数型, , , 存放日期中的日


.窗口程序集 启动窗口程序集, , , 

.子程序 __启动窗口_创建完毕, 空白型, , 
 ' 使用算法：求余数
 ' 问题：打鱼还是晒网
 ' 问题描述：
 ' 中国有句俗语叫“三天打鱼两天晒网”。某人从1990年1月1日起开始“三天打鱼两天晒网”，
 ' 问这个人在以后的某一天中是“打鱼”还是“晒网”。
 ' 问题分析：
 ' 根据题意可以将解题过程分为三步：
 ' 1)计算从1990年1月1日开始至指定日期共有多少天；
 ' 2)由于“打鱼”和“晒网”的周期为5天，所以将计算出的天数用5去除；
 ' 3)根据余数判断他是在“打鱼”还是在“晒网”；
 ' 若  余数为1，2，3，则他是在“打鱼”
 ' 否则  是在“晒网”
 ' 在这三步中，关键是第一步。求从1990年1月1日至指定日期有多少天，要判断经历年份中是否有闰年，
 ' 二月为29天，平年为28天。闰年的方法可以用伪语句描述如下：
 ' 如果   ((年能被4除尽 且 不能被100除尽)或 能被400除尽)
 ' 则     该年是闰年；
 ' 否则    不是闰年。
 ' 易语言中判断能否整除可以使用求余运算(即求模)
 ' 通过上面规律可以推导出结果。
 ' 备注：

.子程序 _计算图形按钮_被单击, 空白型, , 
.局部变量 给定日期, 日期, , , 存放给定的日期
.局部变量 中间日期, 日期, , , 存放从1990至给定日期之间的一年
.局部变量 循环变量, 整数型, , , 
.局部变量 天数, 整数型, , , 存放求出的天数
.局部变量 日, 整数型, , , 存放给定日期中的日

 ' 每次调用之前，先将存放天数的变量清０
赋值 (天数, 0)
 ' 接收给定的日期
赋值 (给定日期.年, 取年份 (.今天))
赋值 (给定日期.月, 取月份 (.今天))
赋值 (给定日期.日, 取日 (.今天))
 ' 将在子程序中用到的参数值赋初值
赋值 (中间日期.月, 12)
赋值 (中间日期.日, 31)
 ' 求出从１９９０年开始到给定年份之前的若干年的总天数
赋值 (循环变量, 1990)
.判断循环首 (小于 (循环变量, 给定日期.年))
    赋值 (中间日期.年, 循环变量)
    赋值 (天数, 相加 (天数, 取天数 (中间日期)))
    赋值 (循环变量, 相加 (循环变量, 1))
.判断循环尾 ()
 ' 求出当前给定年份的天数
赋值 (给定日期.月, 相减 (给定日期.月, 1))
赋值 (天数, 相加 (天数, 取天数 (给定日期), 给定日期.日))
 ' 判断是打鱼还是晒网
.如果 (并且 (大于 (求余数 (天数, 5), 0), 小于 (求余数 (天数, 5), 4)))
    赋值 (.内容, “打鱼”)
.否则
    赋值 (.内容, “晒网”)
.如果结束


.子程序 取天数, 整数型, , 该子程序用于求一年中的天数
.参数 日期参数, 日期, , 

.局部变量 月份数组, 整数型, , "2,12", 存放一年中每个月的天数
.局部变量 循环变量, 整数型, , , 
.局部变量 润年标志, 整数型, , , 为１时表平年，为２时表润年
.局部变量 天数值, 整数型, , , 存放天数

 ' 每次将暂时存放天数的变量清０
赋值 (天数值, 0)
 ' 给出一年当中每个月的天数，并且分平年和润年，用数组来存放
.变量循环首 (1, 12, 1, 循环变量)
    .如果 (或者 (等于 (循环变量, 1), 等于 (循环变量, 3), 等于 (循环变量, 5), 等于 (循环变量, 7), 等于 (循环变量, 8), 等于 (循环变量, 10), 等于 (循环变量, 12)))
        赋值 (月份数组 [1] [循环变量], 31)
        赋值 (月份数组 [2] [循环变量], 31)
    .否则
        .如果 (等于 (循环变量, 2))
            赋值 (月份数组 [1] [循环变量], 28)
            赋值 (月份数组 [2] [循环变量], 29)
        .否则
            赋值 (月份数组 [1] [循环变量], 30)
            赋值 (月份数组 [2] [循环变量], 30)
        .如果结束
        
    .如果结束
    
.变量循环尾 ()
 ' 判断是平年还是润年
.如果 (或者 (并且 (不等于 (求余数 (日期参数.年, 100), 0), 等于 (求余数 (日期参数.年, 4), 0)), 等于 (求余数 (日期参数.年, 400), 0)))
    赋值 (润年标志, 2)
.否则
    赋值 (润年标志, 1)
.如果结束
 ' 求出这一年中自1月1日起的天数
.变量循环首 (1, 日期参数.月, 1, 循环变量)
    赋值 (天数值, 相加 (天数值, 月份数组 [润年标志] [循环变量]))
.变量循环尾 ()
 ' 返回求出的天数
返回 (天数值)



 ' 不属于任何一个程序集、类模块的函数：
