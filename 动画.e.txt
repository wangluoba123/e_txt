 ' 文件类型：Windows窗口程序

 ' 程序名称：
 ' 程序描述：
 ' 程序作者：
 ' 邮政编码：
 ' 联系地址：
 ' 联系电话：
 ' 传真号码：
 ' 电子信箱：
 ' 主页地址：
 ' 版权声明：
 ' 版本号：1.0
 ' 创建号：0.0


 ' 所需要的支持库：
 ' krnln d09f2340818511d396f6aaf844c7e325 2 0 系统核心支持库



窗口 _启动窗口 ' 在程序启动后自动调入本窗口
    左边 = 50
    顶边 = 50
    宽度 = 526
    高度 = 420
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “快乐动画 - 制作中……”
    帮助文件名 = “”

窗口 窗口1
    左边 = 50
    顶边 = 50
    宽度 = 333
    高度 = 238
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “使用帮助”
    帮助文件名 = “”

窗口 窗口2
    左边 = 50
    顶边 = 50
    宽度 = 347
    高度 = 110
    鼠标指针 = { 0,0,0,0 }
    标记 = “”
    可视 = 真
    禁止 = 假
    边框 = 2
    底图方式 = 1
    底色 = -16777216 '  0xFF000000
    最大化按钮 = 假
    最小化按钮 = 假
    控制按钮 = 真
    位置 = 1
    可否移动 = 真
    背景音乐播放次数 = 0
    回车下移焦点 = 假
    Esc键关闭 = 真
    F1键打开帮助 = 假
    帮助标志值 = 0
    在任务栏中显示 = 真
    随意移动 = 假
    外形 = 0
    总在最前 = 假
    保持标题栏激活 = 假
    图标 =  ' 空
    背景音乐 =  ' 空
    标题 = “关于”
    帮助文件名 = “”



.常量 布尔型或源目, "12255782", , MERGEPAINT
.常量 布尔型源或目合反, "1114278", , NOTSRCERASE
.常量 布尔型异或源目合, "6684742", , SRCINVERT
.常量 , , , 
.常量 动画图片, "“动画图片”", , 
.常量 遮掩图片, "“遮掩图片”", , 
.常量 处理图片, "“处理图片”", , 



.窗口程序集 窗口程序集1, , , 

.程序集变量 可隆画板, 画板, , "3", 
.程序集变量 可隆画板1, 画板, , "3", 
.程序集变量 可隆标签, 标签, , "3", 
.程序集变量 可隆标签1, 标签, , "3", 
.程序集变量 可隆画板2, 画板, , , 
.程序集变量 是否生成, 逻辑型, , , 
.程序集变量 图片缓存, 字节集, , "0", 
.程序集变量 图片缓存1, 字节集, , "0", 
.程序集变量 指针, 整数型, , , 
.子程序 __启动窗口_创建完毕, 空白型, , 
复制画板 ()
复制窗口组件 (可隆画板2)

.子程序 _编辑框1_内容被改变, 空白型, , 
.局部变量 容器, 空白型, , , 

.计次循环首 (取数组成员数 (), 容器)
    容器.销毁 ()
    容器.销毁 ()
    可隆标签.销毁 ( [容器])
    可隆标签1.销毁 ( [容器])
.计次循环尾 ()
重定义数组 (假, 相减 (到数值 (.), 1))
重定义数组 (假, 相减 (到数值 (.), 1))
重定义数组 (可隆标签, 假, 相减 (到数值 (.), 1))
重定义数组 (可隆标签1, 假, 相减 (到数值 (.), 1))
赋值 (., “1”)
赋值 (., “1”)
复制画板 ()

.子程序 复制画板, 空白型, , 
.局部变量 容器, 空白型, , , 

赋值 (., 到数值 (.))
赋值 (., 到数值 (.))
.计次循环首 (取数组成员数 (), )
    复制窗口组件 (可隆画板 [容器])
    复制窗口组件 (可隆标签 [容器])
    赋值 (可隆画板 [容器], , 相加 (相乘 (相加 (., .), 容器), 8))
    赋值 (可隆标签 [容器], , 可隆画板 [容器], )
    赋值 (可隆标签 [容器], , 真)
    赋值 ( [容器], , 真)
    赋值 (可隆标签 [容器], , 到文本 (相加 (容器, 1)))
.计次循环尾 ()
.计次循环首 (取数组成员数 (), )
    复制窗口组件 (可隆画板1 [容器])
    复制窗口组件 (可隆标签1 [容器])
    赋值 (可隆画板1 [容器], , 相加 (相乘 (相加 (., .), 容器), 8))
    赋值 (可隆标签1 [容器], , 可隆画板1 [容器], )
    赋值 (可隆标签1 [容器], , 真)
    赋值 ( [容器], , 真)
    赋值 (可隆标签1 [容器], , 到文本 (相加 (容器, 1)))
.计次循环尾 ()
赋值 (., 相加 (相乘 (相加 (., 8), 相加 (取数组成员数 (可隆画板), 1)), 8))
.如果 (大于 (., .))
    赋值 (., 1)
    _横向滚动条1_位置被改变 ()
    赋值 (., 假)
.否则
    赋值 (., 1)
    _横向滚动条1_位置被改变 ()
    赋值 (., 真)
.如果结束


.子程序 _横向滚动条1_位置被改变, 空白型, , 
.局部变量 容器, 空白型, , , 

赋值 (容器, 相减 (., .))
.如果 (等于 (., 1))
    赋值 (., 1)
.否则
    赋值 (., 相减 (., 相乘 (相除 (容器, 100), .), 8))
.如果结束


.子程序 _按钮1_被单击, 空白型, , 
.如果真 (打开 ())
    .如果 (大于 (到数值 (.), 1))
        赋值 ( [相减 (到数值 (.), 1)]., 读入文件 (.))
    .否则
        赋值 (., 读入文件 (.))
    .如果结束
    
.如果真结束


.子程序 _按钮2_被单击, 空白型, , 
.如果 (大于 (到数值 (.), 1))
    赋值 ( [相减 (到数值 (.), 1)]., {  })
.否则
    赋值 (., {  })
.如果结束


.子程序 _按钮3_被单击, 空白型, , 
.如果真 (打开 ())
    .如果 (大于 (到数值 (.), 1))
        赋值 (可隆画板1 [相减 (到数值 (.), 1)]., 读入文件 (.))
    .否则
        赋值 (., 读入文件 (.))
    .如果结束
    
.如果真结束


.子程序 _按钮4_被单击, 空白型, , 
.如果 (大于 (到数值 (.), 1))
    赋值 (可隆画板1 [相减 (到数值 (.), 1)]., {  })
.否则
    赋值 (., {  })
.如果结束


.子程序 _按钮5_被单击, 空白型, , 
.局部变量 图片, 字节集, , , 
.局部变量 图片1, 字节集, , , 
.局部变量 图片2, 字节集, , , 
.局部变量 容器, 空白型, , , 
.局部变量 容器1, 空白型, , , 

.如果 (等于 (是否生成, 假))
    .如果 (不等于 (., “”))
        .如果 (等于 (文件是否存在 (相加 (., “.EDB”)), 假))
            生成文件 ()
            加记录 (.取图片 (), .取图片 (), 合并处理 (.取图片 (), .取图片 ()))
            赋值 (容器1, 相除 (100, 取数组成员数 (可隆画板)))
            赋值 (., 容器1)
            赋值 (., 相加 (“生成 ”, 到文本 (.), “%”))
            .计次循环首 (取数组成员数 (), )
                赋值 (图片, 可隆画板.取图片 ( [容器], , ))
                赋值 (图片1, 可隆画板1.取图片 ( [容器], , ))
                赋值 (图片2, 合并处理 (可隆画板.取图片 ( [容器], , ), 可隆画板1.取图片 ( [容器], , )))
                加记录 (图片, 图片1, 图片2)
                加入成员 (图片缓存, 图片1)
                加入成员 (图片缓存1, 图片2)
                赋值 (., 相乘 (容器1, 容器))
                赋值 (., 相加 (“生成 ”, 到文本 (.), “%”))
            .计次循环尾 ()
            .如果真 (不等于 (., 100))
                赋值 (., 100)
                赋值 (., “生成 100%”)
            .如果真结束
            赋值 (_启动窗口., “快乐动画 - 完成！”)
            赋值 (., 0)
            赋值 (., “生成 0%”)
            连续赋值 (假, ., .)
            赋值 (是否生成, 真)
            关闭 ()
        .否则
            信息框 (“文件已存在!请更换其他名称!”, 16, “错误”)
        .如果结束
        
    .否则
        信息框 (“请输入文件名!”, 64, “提示”)
    .如果结束
    
.否则
    信息框 (“已经生成动画,你可以单击演示动画来看演示效果.”, 64, “提示”)
.如果结束


.子程序 生成文件, 空白型, , 
.局部变量 字段, 字段信息, , "3", 

赋值 ( [1]., #动画图片)
赋值 ( [2]., #遮掩图片)
赋值 ( [3]., #处理图片)
连续赋值 (#字节集型,  [1].,  [2].,  [3].)
.如果真 (等于 (创建 (相加 (., “.jin”), 字段), 假))
    信息框 (“创建动画文件失败！”, 16, “错误”)
    结束 ()
.如果真结束
.如果真 (等于 (打开 (相加 (., “.jin”), , , , , , ), 假))
    信息框 (“打开数据库失败!”, 16, “错误”)
.如果真结束


.子程序 合并处理, 字节集, , 
.参数 动画图片, 字节集, , 
.参数 遮掩图片, 字节集, , 

.局部变量 处理图片, 字节集, , , 

赋值 (., 遮掩图片)
载入图片 (动画图片).画图片 (0, 0, 载入图片 (动画图片).取图片宽度 (), 载入图片 (动画图片).取图片高度 ())

.子程序 _按钮6_被单击, 空白型, , 
赋值 (., 相加 (50, .))
赋值 (., 到文本 (.))

.子程序 _按钮9_被单击, 空白型, , 
赋值 (., 0)
赋值 (., 到文本 (.))
赋值 (指针, 0)

.子程序 _按钮7_被单击, 空白型, , 
.如果真 (打开 ())
    赋值 (., 读入文件 (.))
.如果真结束


.子程序 _按钮8_被单击, 空白型, , 
赋值 (., {  })

.子程序 _新建_被选择, 空白型, , 
清除数组 (图片缓存)
清除数组 (图片缓存1)
连续赋值 (真, ., .)
赋值 (是否生成, 假)

.子程序 _退出_被选择, 空白型, , 
结束 ()

.子程序 _时钟1_周期事件, 空白型, , 
.局部变量 图片号, 整数型, , , 
.局部变量 图片号1, 整数型, , , 

.如果 (不等于 (取数组成员数 (图片缓存), 0))
    .清除 ()
    .如果真 (大于或等于 (取数组成员数 (图片缓存)))
        赋值 (指针, 0)
    .如果真结束
    赋值 (指针, 相加 (指针, 1))
    赋值 (图片号, 载入图片 (图片缓存 [指针]))
    赋值 (图片号1, 载入图片 (图片缓存1 [指针]))
    图片号.画图片 (0, 0, 图片号.取图片宽度 (), 图片号.取图片高度 (), #布尔型或源目)
    图片号1.画图片 (0, 0, 图片号1.取图片宽度 (), 图片号1.取图片高度 (), #布尔型异或源目合)
    卸载图片 ()
    卸载图片 ()
.否则
    赋值 (., 0)
.如果结束


.子程序 __启动窗口_将被销毁, 空白型, , 
清除数组 (图片缓存)
清除数组 (图片缓存1)
赋值 (., 0)
赋值 (指针, 0)

.子程序 _滑块条1_位置被改变, 空白型, , 
赋值 (., 相加 (50, .))
赋值 (., 到文本 (.))

.子程序 _使用帮助_被选择, 空白型, , 
载入 (窗口1, , 真)

.子程序 _关于_被选择, 空白型, , 
载入 (窗口2, , 真)

.窗口程序集 窗口程序集2, , , 

.子程序 _窗口1_创建完毕, 空白型, , 
赋值 (., 相加 (“  第一步:”, #换行符, “  在<生成>栏目中请确定帧数”, #换行符, “  第二步:”, #换行符, “  在<设置图片>栏目中选择其中一幅动画图片画板并单击载入图片,然后也选择其中一幅遮掩图片画板并单击载入图片,重复此步骤直到最大数为止.”, #换行符, “  第三步:”, #换行符, “  在<生成>栏目的编辑框中输入文件名并单击生成动画.”, #换行符, #换行符, “  完成制作!你可以单击演示动画来欣赏你制作的动画,如果你要在制作一个新的动画,那你在菜单项新动画中选择新建.”, #换行符, “  在此祝你健康!万事如意!”))


 ' 不属于任何一个程序集、类模块的函数：
